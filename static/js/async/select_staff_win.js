(window.webpackJsonp=window.webpackJsonp||[]).push([["select_staff_win"],{"61c8":function(t,e,n){"use strict";var r=n("aee5");n.n(r).a},aee5:function(t,e,n){},b6f9:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("win",{attrs:{width:591,height:350},on:{winEvent:t.winEvent}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("选择员工")]),t._v(" "),n("div",{staticClass:"staff_win",attrs:{slot:"content"},slot:"content"},[n("header",{staticClass:"staff_header"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyWords,expression:"keyWords",modifiers:{trim:!0}}],attrs:{maxlength:"11",type:"text",placeholder:"输入手机号/员工姓名"},domProps:{value:t.keyWords},on:{input:function(e){e.target.composing||(t.keyWords=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),n("button",{staticClass:"staff_select",on:{click:t.selectStaff}},[t._v("筛选")]),t._v(" "),n("button",{staticClass:"staff_resert",on:{click:t.resetStaff}},[t._v("重置")])]),t._v(" "),t.staffList.length>0?n("section",{staticClass:"staff_content"},[n("ul",t._l(t.staffList,function(e,r){return n("li",{key:r,class:e.userId==t.userId?"bg_cor":"",on:{click:function(n){t.confirmStaff(e)}}},[n("span",[t._v(t._s(e.name))]),t._v(" "),n("span",[t._v(t._s(t.filterInfo(e.shopId)))]),t._v(" "),n("span",[t._v(t._s(e.roleName))]),t._v(" "),n("span",[t._v(t._s(e.mobile))])])}))]):t._e()])])};r._withStripped=!0;var s=n("81a2"),i=n("f6ce");function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(s,i){try{var a=e[s](i),o=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(o).then(function(t){r("next",t)},function(t){r("throw",t)});t(o)}("next")})}}var c={data:function(){return{staffList:[],userId:"",selectId:"",keyWords:"",shopList:[]}},methods:{winEvent:function(t){if("ok"==t){if(""==this.selectId)return this.$store.commit("setWin",{content:"请选择工作人员",title:"操作提示",winType:"alert"}),!1;this.$emit("closeWin",this.selectId)}else this.$emit("closeWin")},getUserList:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.getUserList({data:{}});case 2:n=e.sent,t.staffList=n;case 4:case"end":return e.stop()}},e,t)}))()},confirmStaff:function(t){this.userId=t.userId,this.selectId=t.userId},selectStaff:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.keyWords){e.next=3;break}return t.$store.commit("setWin",{content:"请输入关键字",winType:"alert",title:"操作提示"}),e.abrupt("return",!1);case 3:return e.next=5,s.a.searchStaff({data:{data:t.keyWords}});case 5:0==(n=e.sent).length&&t.$store.commit("setWin",{content:"无此员工信息",winType:"alert",title:"操作提示"}),t.staffList=n;case 8:case"end":return e.stop()}},e,t)}))()},resetStaff:function(){this.staffList=[],this.keyWords="",this.userId="",this.selectId=""},filterInfo:function(t){var e=!0,n=!1,r=void 0;try{for(var s,i=this.shopList[Symbol.iterator]();!(e=(s=i.next()).done);e=!0){var a=s.value;if(a.id==t)return a.name}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}},mounted:function(){var t=i.a.session("userShop").shopList,e=[].concat(a(t.brand),a(t.noBrand));this.shopList=e},components:{win:function(){return n.e("win").then(n.bind(null,"f60a"))}}},f=(n("61c8"),n("6ceb")),u=Object(f.a)(c,r,[],!1,null,"0d0db88e",null);u.options.__file="src\\module\\seller_assistant\\select_staff_win.vue";e.default=u.exports}}]);