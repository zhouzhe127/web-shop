(window.webpackJsonp=window.webpackJsonp||[]).push([["warehouse_create"],{2726:function(t,e,a){},"2e9a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"create-store"}},[a("div",{staticClass:"create"},[t._v("新建仓库")]),t._v(" "),a("div",{staticClass:"store-content"},[a("div",{staticClass:"store-list"},[a("label",{staticClass:"store-name required"},[t._v("仓库名称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.param.name,expression:"param.name"}],staticClass:"store-input",attrs:{type:"text",placeholder:"请输入仓库名称",maxlength:"10"},domProps:{value:t.param.name},on:{input:function(e){e.target.composing||t.$set(t.param,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"store-list"},[a("label",{staticClass:"store-name"},[t._v("仓库编号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"store-input",attrs:{type:"text",placeholder:"请输入仓库编号",maxlength:"20"},domProps:{value:t.code},on:{input:[function(e){e.target.composing||(t.code=e.target.value)},t.codeInput],propertychange:t.codeInput}}),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"store-list"},[a("label",{staticClass:"store-name required"},[t._v("仓库所属")]),t._v(" "),a("div",{staticClass:"add-blong",on:{click:t.openStoreBlong}},[t._m(1),t._v("添加仓库所属\n\t\t\t\t")]),t._v(" "),t.ownerName?a("em",{staticClass:"now-select"},[t._v("( 已选择："+t._s(t.ownerName)+" )")]):t._e(),t._v(" "),t.ownerName?t._e():a("em",{staticClass:"now-select"},[t._v("( 请选择仓库所属 )")])]),t._v(" "),a("div",{staticClass:"store-list"},[a("label",{staticClass:"store-name required"},[t._v("共享")]),t._v(" "),a("div",{staticClass:"shared-box"},[a("on-off",{attrs:{status:t.booleanShared},on:{statusChange:t.getShared}})],1)]),t._v(" "),a("div",{staticClass:"store-list"},[a("label",{staticClass:"store-name required"},[t._v("仓库地址")]),t._v(" "),a("div",[a("address-select",{attrs:{width:210,province:t.param.province,city:t.param.city,town:t.param.town},on:{emit:t.getAddress}})],1),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.place,expression:"place"}],staticClass:"text-area",attrs:{placeholder:"请输入详细地址",maxlength:"40"},domProps:{value:t.place},on:{input:function(e){e.target.composing||(t.place=e.target.value)}}}),t._v(" "),t._m(2)])]),t._v(" "),a("div",{staticClass:"create"},[t._v("添加区域")]),t._v(" "),a("div",{staticClass:"store-content"},[t._l(t.area,function(e,i){return a("div",{key:i,staticClass:"store-list",on:{click:t.areaHandle}},[a("label",{staticClass:"area-name required"},[t._v(t._s(t.area.length>9?i+1:"0"+(i+1))+" 区域名称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticClass:"store-input area-input",attrs:{type:"text",placeholder:"请输入区域名称"},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}}),t._v(" "),t.area.length-1==i?a("span",{staticClass:"opera-img add",attrs:{"data-index":i,alt:"添加"}}):t._e(),t._v(" "),1!=t.area.length?a("span",{staticClass:"opera-img del",attrs:{"data-index":i,alt:"删除"}}):t._e()])}),t._v(" "),a("div",{staticClass:"bottom-btn"},[a("div",{staticClass:"gray cancel-btn",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"yellow ok-btn",on:{click:t.confirm}},[t._v("确定")])])],2),t._v(" "),a(t.showCom,{tag:"component",attrs:{pObj:t.comObj},on:{throwWin:t.closeWin}})],1)},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"font-limit",staticStyle:{display:"block"}},[e("img",{attrs:{src:a("31bf"),alt:""}}),this._v("\n                    限20字以内,数字/字母\n                ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"img-span"},[e("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:a("8e35"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"font-limit"},[e("img",{attrs:{src:a("31bf"),alt:""}}),this._v("\n                    限40字以内\n                ")])}];i._withStripped=!0;var s=a("81a2"),r=a("f6ce");function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,s){try{var r=e[n](s),o=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}var c={data:function(){return{area:[{name:""}],param:{name:"",owner:"",province:"",city:"",town:""},tips:{name:"仓库名称",owner:"仓库所属",province:"省份",city:"城市",town:"地区"},code:"",place:"",wid:"",comObj:{},sendObj:{},showCom:"",ownerName:"",isBrand:0,ischain:"",brandId:"",booleanShared:!0,isShared:1,isClick:!1}},created:function(){this.userData=r.a.session("userShop"),this.ischain=this.userData.currentShop.ischain,this.isBrand="3"==this.ischain?1:0,1==this.ischain||2==this.ischain?this.brandId=this.userData.currentShop.brandId:3==this.ischain&&(this.brandId=this.userData.currentShop.id)},mounted:function(){this.getOwner()},components:{addStoreBlong:function(){return a.e("create_store_blong_win").then(a.bind(null,"9120"))},addressSelect:function(){return a.e("address_linkage").then(a.bind(null,"4867"))},onOff:function(){return a.e("on_off").then(a.bind(null,"034b"))}},methods:{areaHandle:function(t){var e=t.target;if(e.className.includes("del")){var a=e.getAttribute("data-index");this.area.splice(a,1)}else e.className.includes("add")&&this.area.push({name:""})},getShared:function(t){this.booleanShared=t,this.isShared=t?1:0},openStoreBlong:function(){this.sendObj.owner=this.param.owner,this.comObj=this.sendObj,this.showCom="addStoreBlong"},closeWin:function(t,e){"ok"==t&&(this.ownerName=e.name,"3"==e.ischain?this.param.owner=e.id+",0":"0"!=e.ischain?this.param.owner=this.brandId+","+e.id:this.param.owner="0,"+e.id),this.showCom=null},getAddress:function(t){this.param.province=t.province,this.param.city=t.city,this.param.town=t.area},codeInput:function(t){var e=t.target.value;(e=e.replace(/[^A-Za-z0-9]/g,"")).length>20&&(e=e.substr(0,20)),this.code=e,t.target.value=e},checkForm:function(){for(var t in this.param)if(this.param[t]=this.param[t].trim(),"city"!=t&&"town"!=t&&0==this.param[t].length)return this.$store.commit("setWin",{title:"温馨提示",content:this.tips[t]+"不能为空"}),!1;var e=[];for(var a in this.area){var i=this.area[a].name.trim();if(0==i.length)return this.$store.commit("setWin",{title:"温馨提示",content:"请输入区域名称"}),!1;if(this.area.length>1)if(e.length){var n=!1,s=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){if(c.value==i)return this.$store.commit("setWin",{title:"温馨提示",content:"区域名称不能相同"}),!1;n=!0}}catch(t){r=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(r)throw o}}n&&e.push(i)}else e.push(i)}return!0},formatData:function(){var t,e=[],a=!0,i=!1,n=void 0;try{for(var s,r=this.area[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var o=s.value;e.push(o.name)}}catch(t){i=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(i)throw n}}return t=e.join(","),{name:this.param.name,code:this.code,isShared:this.isShared,place:this.place,country:"",province:this.param.province,city:this.param.city,town:this.param.town,area:t,owner:this.param.owner}},cancel:function(){this.$router.go(-1)},confirm:function(){if(this.checkForm()){var t=this.formatData();this.WarehouseAdd(t)}},WarehouseAdd:function(t){var e=this;return o(regeneratorRuntime.mark(function a(){var i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.isClick){a.next=3;break}return e.$store.commit("setWin",{title:"温馨提示",content:"请勿重复点击"}),a.abrupt("return");case 3:return e.isClick=!0,i=null,a.prev=5,a.next=8,s.a.warehouseAddWarehouse({data:t},!0);case 8:i=a.sent,a.next=15;break;case 11:a.prev=11,a.t0=a.catch(5),e.$store.commit("setWin",{title:"错误提示",content:a.t0.error.message}),e.isClick=!1;case 15:i&&e.$store.commit("setWin",{title:"温馨提示",content:"仓库新建成功",callback:function(){e.$route.query.s=0,e.$router.push({path:"/admin/warehouseList",query:e.$route.query})}});case 16:case"end":return a.stop()}},a,e,[[5,11]])}))()},getOwner:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.invoicing_getOwners();case 2:a=e.sent,t.sendObj={allList:a,isBrand:t.isBrand};case 4:case"end":return e.stop()}},e,t)}))()}}},l=(a("8066"),a("6ceb")),m=Object(l.a)(c,i,n,!1,null,"e5241216",null);m.options.__file="src\\module\\invoicing_system\\warehouse_manage\\warehouse_create.vue";e.default=m.exports},"31bf":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFCQThBNjA5NTcxNTExRTdCNzI4QzVFQTBERTkzQkVEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjFCQThBNjBBNTcxNTExRTdCNzI4QzVFQTBERTkzQkVEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MUJBOEE2MDc1NzE1MTFFN0I3MjhDNUVBMERFOTNCRUQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MUJBOEE2MDg1NzE1MTFFN0I3MjhDNUVBMERFOTNCRUQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4kIzh0AAABmklEQVR42oyUTSgFURTHvdfzke+yYMNiUKOXyIKUCK9slJKPbGyUslBWVhIrK/UUexsLxEaRzxI2Sh4WJDNJsfGRFFHy/I/+U891Z8apX/d0z73/OXPuuTdgWVaSxppAN8cizt2AHbAAtp2FhmH8jCFFwASzoEYjXkL6QQz0gAsnGExY2ACOXURUqwQn3PNLSDJZBWkem8dAOwXEUsC6bdum82sBMAfSPUT2wTj9ZDBPPxUsQywsGTWDKp9fqQMdzHxYiZWBiGTU5SHwClbAPRgE9S7rhkI8Yp1tgiPWbo9zDyBPs7ZWfq1QE7hlzwyAAs5lsj46yxGhD00gF0yAA7DIuSjIdquBCN1p5jM49nLMB30etXwRoUOX4BR4pD/tc6qnQfaQau9glH4jj34GPLsITYrQBjhTAkuSLv03MEI/SyNiS4vI8cfZSzF2qlgpKGYNw6ATVGhEPkErXoC4c/vlFrcwO7lD1eDKpy4iEoHIuXr7d/nVy3/c/mtQzj1/nhEnM5PZrYEn8MWvS1dvgTZ5zxLfIrFvAQYAHHVSK1WxAuMAAAAASUVORK5CYII="},8066:function(t,e,a){"use strict";var i=a("2726");a.n(i).a},"8e35":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAyRTk3N0U3NjkwOTExRTY4MzI2OEU1NkY3Qjg2QTA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAyRTk3N0U4NjkwOTExRTY4MzI2OEU1NkY3Qjg2QTA3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDJFOTc3RTU2OTA5MTFFNjgzMjY4RTU2RjdCODZBMDciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDJFOTc3RTY2OTA5MTFFNjgzMjY4RTU2RjdCODZBMDciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7A3duJAAAANElEQVR42mL6//8/Ax6MDPCpY2BioBIYNYiOBrEA8X8i1f4fel5jJNI7jKPpaNQgHAAgwAAuLjvvigxAWAAAAABJRU5ErkJggg=="}}]);