(window.webpackJsonp=window.webpackJsonp||[]).push([["fast_selling"],{"19db":function(t,e,i){},"1a01":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTA0ODZBOTcwQkFFMTFFNzk3RDJCQzVDOEI2MTFBNjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTA0ODZBOTgwQkFFMTFFNzk3RDJCQzVDOEI2MTFBNjgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3RjE3QjM1MDBCQUQxMUU3OTdEMkJDNUM4QjYxMUE2OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MDQ4NkE5NjBCQUUxMUU3OTdEMkJDNUM4QjYxMUE2OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrgAGk4AAAE1SURBVHjaYvj//z8DpXjBggViMDYTA4Vg4cKFTkDqHpBOBvFZkCQsgFQbEINoTlwGxMfHMyLpcQFSG4GYC6pvLguSYQeAmJ0El7kBqfVQw+YAcRqyC9ughi0E4kKgK96TYNgsIM4A6vkPkoOFoQGULifCMHcgtQFq2Axkw5ANhNE/CBjmATUMFMbTgDgL2TBkg4gJM0+oYRxAPAWIc9ANI9pAoGHeUMNA4TwJiPNghgHl/oMw0QYCFYPCaj4QswHxBCAuwOYyGGAhZCBQ8zeoC/2A7FpC6lmI8TLQoNNA6jQxainOekPXwH9QmoPEkkYIyvyKbuB5KN2JpIgYw/qg3FPosVwFxAdBEQrCQMWkOPQnEFeiuBCYLE4CKXsg3gfEX4g06CtUvQNUPxgwgoptagKAAAMA6l6i4WczjPYAAAAASUVORK5CYII="},"22cf":function(t,e,i){"use strict";i.r(e);var n=i("81a2"),s=i("f6ce"),a=i("bbb9");function c(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function n(s,a){try{var c=e[s](a),o=c.value}catch(t){return void i(t)}if(!c.done)return Promise.resolve(o).then(function(t){n("next",t)},function(t){n("throw",t)});t(o)}("next")})}}var o={data:function(){return{onMenu:!1,serial:"",userData:Object,isShow:!1,isAdd:!0,wenList:[],numType:0,itemInfo:{},index:""}},mounted:function(){this.userData=s.a.session("userShop"),this.init(),this.getWenList()},methods:{getIsDiscountToggle:function(t){this.onMenu=t,this.numType=t?1:0},init:function(){var t=this;return c(regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.getFastSelling({data:{shopId:t.userData.currentShop.id}});case 2:(i=e.sent)&&(t.serial=i.serialNumber,t.numType=i.isMealGrade,0==i.isMealGrade?t.onMenu=!1:t.onMenu=!0);case 4:case"end":return e.stop()}},e,t)}))()},getWenList:function(){var t=this;return c(regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.getTableCardList({data:{}});case 2:(i=e.sent)&&(t.wenList=i,t.sortList());case 4:case"end":return e.stop()}},e,t)}))()},changeType:function(t){this.numType=t},addWenNum:function(){this.isAdd=!0,this.isShow=!0},editWenNum:function(t,e){this.itemInfo=t,this.index=e,this.isAdd=!1,this.isShow=!0},deleteWenNum:function(t,e){var i=this;this.$store.commit("setWin",{title:"操作提示",winType:"confirm",content:"确定删除该文字桌牌号?",callback:function(n){"ok"==n&&i.deleteTrue(t,e)}})},deleteTrue:function(t,e){var i=this;return c(regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,n.a.delTableCard({data:{id:t}});case 2:s.sent&&i.wenList.splice(e,1);case 4:case"end":return s.stop()}},s,i)}))()},doThrowTanResult:function(t,e){"ok"==t?(this.isAdd?(this.wenList.push(e),this.sortList()):(this.wenList.splice(this.index,1,e),this.sortList()),this.isShow=!1):this.isShow=!1},sortList:function(){this.wenList=a.a.sortByAll(this.wenList,["sort","id"],!0)},keepOn:function(){var t=this;return c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.serial%100==0&&0!=t.serial){e.next=3;break}return t.$store.commit("setWin",{title:"温馨提示",content:"流水号请输入100的整数倍且不能为0"}),e.abrupt("return",!1);case 3:if(2!=t.numType||0!=t.wenList.length){e.next=6;break}return t.$store.commit("setWin",{title:"温馨提示",content:"请设置文字桌牌号"}),e.abrupt("return",!1);case 6:return e.next=8,n.a.editFastSelling({data:{shopId:t.userData.currentShop.id,serialNumber:t.serial,isMealGrade:t.numType}});case 8:e.sent&&t.$store.commit("setWin",{title:"温馨提示",content:"保存成功"});case 10:case"end":return e.stop()}},e,t)}))()}},components:{onOff:function(){return i.e("on_off").then(i.bind(null,"034b"))},sellingWin:function(){return i.e("fast_selling_win").then(i.bind(null,"8744"))}},computed:{serialNum:{get:function(){return this.serial},set:function(t){if(""==t)return this.serial="",!1;this.serial=parseInt(t)}}}},r=(i("836c"),i("d801")),l=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticStyle:{"text-align":"left"},attrs:{id:"quicksel"}},[n("div",{staticClass:"topR"},[n("section",{staticClass:"box"},[n("label",{staticClass:"commodity-name"},[t._v("当流水号达到")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.serialNum,expression:"serialNum"}],attrs:{type:"text",placeholder:"请输入100的整数"},domProps:{value:t.serialNum},on:{input:function(e){e.target.composing||(t.serialNum=e.target.value)}}}),t._v(" "),n("span",[t._v("重置流水号")])]),t._v(" "),n("section",{staticClass:"box"},[n("label",{staticClass:"commodity-name"},[t._v("桌牌号开关")]),t._v(" "),n("on-off",{staticClass:"on_off",attrs:{status:t.onMenu},on:{statusChange:t.getIsDiscountToggle}})],1)]),t._v(" "),t.onMenu?n("div",[n("section",{staticClass:"box"},[n("label",{staticClass:"commodity-name"},[t._v("桌牌号类型")]),t._v(" "),n("div",{staticClass:"div_wai"},[n("span",{staticClass:"span_type",class:1==t.numType?"sel_true":"sel_false",on:{click:function(e){t.changeType(1)}}},[t._v("数字桌牌号")]),t._v(" "),n("span",{staticClass:"span_type",class:2==t.numType?"sel_true":"sel_false",on:{click:function(e){t.changeType(2)}}},[t._v("文字桌牌号")])])]),t._v(" "),2==t.numType?n("section",[t._m(0),t._v(" "),n("section",{staticClass:"box"},[n("label",{staticClass:"commodity-name"},[t._v("文字桌牌号")]),t._v(" "),n("a",{staticClass:"addclassify",staticStyle:{width:"180px"},attrs:{href:"javascript:void(0);"},on:{click:function(e){t.addWenNum()}}},[t._v("添加文字桌牌号")])]),t._v(" "),n("div",{staticClass:"cardBox"},t._l(t.wenList,function(e,s){return n("section",{key:s,staticClass:"section_one"},[n("span",{staticClass:"span_one"},[t._v(" "+t._s(e.name))]),t._v(" "),n("span",{staticClass:"span_two"},[n("img",{staticClass:"img_style",attrs:{src:i("1a01")},on:{click:function(i){t.editWenNum(e,s)}}}),t._v(" "),n("img",{staticClass:"img_style",staticStyle:{"margin-left":"5px"},attrs:{src:i("8e1a")},on:{click:function(i){t.deleteWenNum(e.id,s)}}})])])}))]):t._e()]):t._e(),t._v(" "),n("a",{staticClass:"yellow",attrs:{href:"javascript:void(0);"},on:{click:t.keepOn}},[t._v("保存")]),t._v(" "),t.isShow?n("sellingWin",{attrs:{isAdd:t.isAdd,itemInfo:t.itemInfo},on:{throwWinResult:t.doThrowTanResult}}):t._e()],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ic-title"},[e("div",{staticClass:"text"},[this._v("\n\t\t\t\t\t文字桌牌号\n\t\t\t\t")]),this._v(" "),e("div",{staticClass:"dashed"})])}],!1,null,"3987c97c",null);e.default=l.exports},"836c":function(t,e,i){"use strict";var n=i("19db");i.n(n).a},"8e1a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTA0ODZBOUIwQkFFMTFFNzk3RDJCQzVDOEI2MTFBNjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTA0ODZBOUMwQkFFMTFFNzk3RDJCQzVDOEI2MTFBNjgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1MDQ4NkE5OTBCQUUxMUU3OTdEMkJDNUM4QjYxMUE2OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MDQ4NkE5QTBCQUUxMUU3OTdEMkJDNUM4QjYxMUE2OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pkpzd28AAAC/SURBVHjaYvz//z8DNQELNsGFCxeyAqmJQBwBxIJo0u+BeAUQ58fHx/9G18uEw6JsIM7EYhgDVAwkl0W0C4HAGEpnAV0xHc31GUAKJGaCTSMuF8LEP2KR+4RPLyMsUoA2UxQ7QJ8w4nMh2YCR2smG6i5kQovB/8hhSSqf9i4cNZB6pQ166sfFHxAX/gBiDmDaMgDSDwnolUfSg9PA9UAcCcTnSXDUenwGpgPxVyD2BrmUgEEgl20F4iJkQYAAAwB53EHrkKaJbQAAAABJRU5ErkJggg=="}}]);