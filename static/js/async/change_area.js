(window.webpackJsonp=window.webpackJsonp||[]).push([["change_area"],{"0f94":function(t,e,a){"use strict";var n=a("d7cc");a.n(n).a},"61f6":function(t,e,a){"use strict";a.r(e);var n=a("f6ce"),i=a("81a2");function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function n(i,s){try{var r=e[i](s),o=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(o).then(function(t){n("next",t)},function(t){n("throw",t)});t(o)}("next")})}}var r={data:function(){return{showWin:null,send:null,areaData:[],wid:"",sessionData:""}},components:{editWin:function(){return a.e("change_area_edit_win").then(a.bind(null,"fa4c"))}},mounted:function(){var t=this;this.$store.commit("setPageTools",{back:function(){n.a.session("changeAreaDestroy",!0),t.$router.push({path:"warehouseDetail",query:t.$route.query})}}),this.sessionData=n.a.session("warehouseArea"),this.sessionData&&(this.wid=this.sessionData.id),this.setList()},methods:{getEmitWin:function(t){t&&("edit"==t.type?this.setList():"add"==t.type&&this.setList()),this.showWin=null},setList:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.warehouseGetWarehouse({data:{id:t.wid}});case 2:a=e.sent,t.areaData=a.area;case 4:case"end":return e.stop()}},e,t)}))()},setIndex:function(t){return t<9?"0"+(t+1):t+1},handle:function(t){var e=t.target;if("i"==e.tagName.toLocaleLowerCase()){var a=e.className,n=e.parentNode.getAttribute("data-id"),i=e.getAttribute("data-name");"edit"==a?(this.send={type:"edit",wid:this.wid,id:n,name:i},this.showWin="editWin"):"add"==a?(this.send={type:"add",wid:this.wid},this.showWin="editWin"):this.deleteMethod(n)}},deleteMethod:function(t){var e=this;this.$store.commit("setWin",{title:"提示信息",winType:"confirm",content:"确认删除该区域？",callback:function(a){"ok"==a&&e.deleteArea(t)}})},deleteArea:function(t){var e=this;return s(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.deleteWarehouseArea({data:{id:t}});case 2:a.sent&&e.setList();case 4:case"end":return a.stop()}},a,e)}))()}}},o=(a("0f94"),a("d801")),c=Object(o.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"change-area"},[t._m(0),t._v(" "),a("div",{staticClass:"main",on:{click:t.handle}},[t._l(t.areaData,function(e,n){return a("div",{key:n,staticClass:"item",attrs:{"data-id":e.id}},[a("em",[t._v(t._s(t.setIndex(n)))]),t._v(" "),a("span",[t._v("区域名称：")]),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(e.areaName))]),t._v(" "),a("i",{staticClass:"edit",attrs:{"data-name":e.areaName}}),t._v(" "),a("i",{staticClass:"delete"}),t._v(" "),n==t.areaData.length-1?a("i",{staticClass:"add"}):t._e()])}),t._v(" "),t.areaData.length?t._e():a("div",{staticClass:"item empty"},[a("em",[t._v("00")]),t._v(" "),a("span",[t._v("区域名称：")]),t._v(" "),a("span",{staticClass:"name"},[t._v("暂无区域")]),t._v(" "),a("i",{staticClass:"add"})])],2),t._v(" "),a(t.showWin,{tag:"component",attrs:{winOpen:t.send},on:{emit:t.getEmitWin}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"head"},[this._v("\n\t\t修改区域\n\t\t"),e("div",{staticClass:"line"})])}],!1,null,"19e8bb59",null);e.default=c.exports},d7cc:function(t,e,a){}}]);