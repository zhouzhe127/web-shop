(window.webpackJsonp=window.webpackJsonp||[]).push([["ticketed_point_list"],{"334d":function(t,e,i){"use strict";var a=i("60e4");i.n(a).a},"60e4":function(t,e,i){},6396:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showTicket?a("ticketPoin",{attrs:{detail:t.detail,dataList:t.sellList},on:{ticket:t.getTicket}}):a("div",{staticClass:"list"},[a("div",{staticClass:"top"},[a("div",{staticClass:"title"},[a("span",[t._v("销方名称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sellName,expression:"sellName"}],attrs:{type:"text",placeholder:"请输入销方名称"},domProps:{value:t.sellName},on:{input:function(e){e.target.composing||(t.sellName=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"title"},[a("span",[t._v("开票点名称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ticketName,expression:"ticketName"}],attrs:{type:"text",placeholder:"请输入开票名称"},domProps:{value:t.ticketName},on:{input:function(e){e.target.composing||(t.ticketName=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"blue",attrs:{href:"javascript: ;"},on:{click:t.search}},[t._v("筛选")]),t._v(" "),a("a",{staticClass:"gray",attrs:{href:"javascript: ;"},on:{click:t.reset}},[t._v("重置")])]),t._v(" "),t.loading?a("section",{staticClass:"load"},[a("img",{attrs:{src:i("b8bc")}})]):a("section",[a("comTable",{attrs:{titleData:t.titleData,listName:"开票点管理",introData:t.introData,allTotal:t.list.length},scopedSlots:t._u([{key:"con-0",fn:function(e){return a("div",{staticClass:"btn"},[a("span",{staticClass:"edit",on:{click:function(i){t.edit(e.data)}}},[t._v("编辑")])])}},{key:"con-1",fn:function(e){return a("span",{},[t._v(t._s(e.index+1+10*(t.page-1)))])}}])}),t._v(" "),t.total?a("page",{attrs:{page:t.page,total:t.total,num:t.num},on:{pageNum:t.pageNum}}):t._e()],1)])],1)};a._withStripped=!0;var n=i("81a2"),s=i("bbb9");var l={data:function(){return{showTicket:!1,titleData:[],introData:[],list:[],detail:"",page:1,num:10,total:0,ticketName:"",sellName:"",dataList:"",loading:!1,sellList:[]}},created:function(){this.titleData=[{titleName:"操作",titleStyle:{width:"200px"}},{titleName:"序号",titleStyle:{width:"40px"}},{titleName:"销方名称",dataName:"sellName"},{titleName:"开票名称",dataName:"name"},{titleName:"税控盘密码",dataName:"taxDiskPass"},{titleName:"证书密码",dataName:"certiCipher"},{titleName:"税控设备号",dataName:"equipNum"}]},mounted:function(){this.initBtn(),this.ticketPointGetlist()},components:{comTable:function(){return i.e("table").then(i.bind(null,"4360"))},ticketPoin:function(){return i.e("ticketed_point").then(i.bind(null,"7b57"))},page:function(){return i.e("page_element").then(i.bind(null,"5921"))}},methods:{initBtn:function(){var t=this;this.$store.commit("setPageTools",[{name:"新建",style:{},fn:function(){0==t.sellList.length?t.$store.commit("setWin",{winType:"alter",content:"当前暂无销方,无法新建开票点"}):t.showTicket=!0}}])},ticketPointGetlist:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var i,a,l,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,n.a.ticketPointGetlist();case 3:for(i=t.sent,a=[],e.sellList=[],e.list=[],l=0;l<i.length;l++)e.sellList.push(i[l].commData),i[l].commData.client[0].clientNO&&a.push(i[l].commData);for(o=0;o<a.length;o++){for(c=0;c<a[o].client.length;c++)a[o].client[c].sellName=a[o].name,a[o].client[c].identifier=a[o].identifier;e.list=e.list.concat(a[o].client)}e.loading=!1,e.dataList=s.a.deepCopy(e.list),e.pageNum({page:1,num:10});case 12:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function a(n,s){try{var l=e[n](s),o=l.value}catch(t){return void i(t)}if(!l.done)return Promise.resolve(o).then(function(t){a("next",t)},function(t){a("throw",t)});t(o)}("next")})})()},getTicket:function(t){this.showTicket=!1,this.detail="",this.initBtn(),"ok"==t&&this.ticketPointGetlist()},pageNum:function(t){this.page=t.page,this.total=Math.ceil(this.dataList.length/10),this.introData=this.dataList.slice((t.page-1)*t.num,(t.page-1)*t.num+t.num)},edit:function(t){this.detail=t,this.showTicket=!0},search:function(){var t=this;this.dataList=this.list.filter(function(e){return e.sellName.indexOf(t.sellName)>=0&&""!==t.sellName||e.name.indexOf(t.ticketName)>=0&&""!==t.ticketName?e:""===t.sellName&&""===t.ticketName&&e}),this.pageNum({page:1,num:10})},reset:function(){this.ticketName="",this.sellName="",this.pageNum({page:1,num:10},this.dataList)}}},o=(i("334d"),i("7610")),c=Object(o.a)(l,a,[],!1,null,"68242a90",null);c.options.__file="src\\module\\ticket_config\\ticketed_point_list.vue";e.default=c.exports},b8bc:function(t,e,i){t.exports=i.p+"images/preloader.3e54c692.gif"}}]);