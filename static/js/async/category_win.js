(window.webpackJsonp=window.webpackJsonp||[]).push([["category_win"],{"0f64":function(t,s,o){"use strict";o.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("win",{attrs:{align:"center",width:800,height:560},on:{winEvent:t.getData}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.title))]),t._v(" "),e("div",{attrs:{slot:"content",id:"tan"},slot:"content"},[e("section",{staticClass:"allShop"},[e("section",{staticClass:"shops"},[e("section",{ref:"shop",staticStyle:{position:"absolute",transition:"1s"},style:{width:145*t.shopList.list.length+"px",left:t.leftWidth+"px"}},t._l(t.shopList.list,function(s,o){return e("span",{key:o,staticClass:"sel",class:{on:t.shopList.flag==s.id},staticStyle:{"vertical-align":"middle"},on:{click:function(o){t.light(s.id,s.ischain,s.shopName)}}},[t._v(t._s(s.shopName))])}))]),t._v(" "),e("span",{staticClass:"dot left",on:{click:t.left}},[t._v("<")]),t._v(" "),e("span",{staticClass:"dot right",on:{click:t.right}},[t._v(">")])]),t._v(" "),e("section",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"load"},[e("img",{attrs:{src:o("b8bc")}})]),t._v(" "),e("section",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"content"},[e("section",{staticClass:"oCont"},[e("div",{staticClass:"Box"},[e("section",{staticClass:"oDe goodsButton",class:{act:!t.isPackage},on:{click:function(s){t.getGoodList(0)}}},[t._v("商品")]),t._v(" "),e("section",{staticClass:"oDe",class:{act:t.isPackage},on:{click:function(s){t.getGoodList(1)}}},[t._v("套餐")])]),t._v(" "),t.isPackage?e("div",{staticClass:"packageBox"},[e("a",{staticClass:"raduobtn",class:{selectbtn:-1==t.packBtn},attrs:{href:"javascript:void(0);"},on:{click:function(s){t.selectPack(-1)}}},[t._v("全部")]),t._v(" "),e("a",{staticClass:"raduobtn",class:{selectbtn:0==t.packBtn},attrs:{href:"javascript:void(0);"},on:{click:function(s){t.selectPack(0)}}},[t._v("固定套餐")]),t._v(" "),e("a",{staticClass:"raduobtn",class:{selectbtn:1==t.packBtn},attrs:{href:"javascript:void(0);"},on:{click:function(s){t.selectPack(1)}}},[t._v("可选套餐")])]):t._e()]),t._v(" "),e("ul",{staticClass:"aUl"},[t._l(t.cateList,function(s,o){return t.isPackage?t._e():e("div",{key:o,staticClass:"onecate"},[e("div",{staticClass:"oneGoods"},["0"!=t.shopList.ischain&&s.id<1e5?e("section",{staticClass:"onecataTitle",staticStyle:{cursor:"default"}},[e("i",{staticClass:"twoI",class:{oneI:"0"==t.L2ID},staticStyle:{"background-color":"skyblue"}}),t._v(" "),e("li",{staticClass:"twoTitle ",class:{oneTitle:"0"==t.L2ID},staticStyle:{color:"skyblue"}},[t._v(t._s(s.name))])]):e("section",{staticClass:"onecataTitle",class:{signa:"cate"==t.selGood.type&&s.id==t.selGood.id},staticStyle:{"background-color":"#f2f2f2","margin-bottom":"5px"}},[e("i",{staticClass:"twoI",class:{oneI:"0"==t.L2ID,iColor:"cate"==t.selGood.type&&s.id==t.selGood.id}}),t._v(" "),e("li",{staticClass:"twoTitle ",class:{oneTitle:"0"==t.L2ID,cateColor:"cate"==t.selGood.type&&s.id==t.selGood.id},on:{click:function(o){t.choseGood(s)}}},[t._v(t._s(s.name))])]),t._v(" "),e("section",{staticStyle:{width:"600px",float:"left"}},[t._l(s.goods,function(s,o){return["0"!=t.shopList.ischain&&s.id>=1e5?e("li",{key:o,staticClass:"aLi",class:{signa:"goods"==t.selGood.type&&s.id==t.selGood.id},on:{click:function(o){t.choseGood(s)}}},[t._v(t._s(s.goodsName))]):t._e(),t._v(" "),"0"==t.shopList.ischain&&s.id<1e5?e("li",{key:o,staticClass:"aLi",class:{signa:"goods"==t.selGood.type&&s.id==t.selGood.id},on:{click:function(o){t.choseGood(s)}}},[t._v(t._s(s.goodsName))]):t._e()]})],2)]),t._v(" "),t._l(s.child,function(s,o){return[e("div",{key:o,staticClass:"onecate",staticStyle:{"border-bottom":"none"}},["0"!=t.shopList.ischain&&s.id<1e5?e("section",{staticClass:"onecataTitle",staticStyle:{"padding-left":"30px",cursor:"default"}},[e("li",{staticClass:"twoTitle ",class:{oneTitle:"0"==t.L2ID},staticStyle:{color:"skyblue"}},[t._v(t._s(s.name))])]):e("section",{staticClass:"onecataTitle",class:{signa:"cate"==t.selGood.type&&s.id==t.selGood.id},staticStyle:{"padding-left":"30px","background-color":"#f2f2f2","margin-bottom":"5px"}},[e("li",{staticClass:"twoTitle ",class:{oneTitle:"0"==t.L2ID,cateColor:"cate"==t.selGood.type&&s.id==t.selGood.id},on:{click:function(o){t.choseGood(s)}}},[t._v(t._s(s.name))])]),t._v(" "),e("section",{staticStyle:{width:"600px",float:"left"}},[t._l(s.goods,function(s,o){return["0"!=t.shopList.ischain&&s.id>=1e5?e("li",{key:o,staticClass:"aLi",class:{signa:"goods"==t.selGood.type&&s.id==t.selGood.id},on:{click:function(o){t.choseGood(s)}}},[t._v(t._s(s.goodsName))]):t._e(),t._v(" "),"0"==t.shopList.ischain&&s.id<1e5?e("li",{key:o,staticClass:"aLi",class:{signa:"goods"==t.selGood.type&&s.id==t.selGood.id},on:{click:function(o){t.choseGood(s)}}},[t._v(t._s(s.goodsName))]):t._e()]})],2)])]})],2)}),t._v(" "),t.isPackage?e("div",[t._l(t.packCom,function(s,o){return"0"!=t.shopList.ischain&&s.id>=1e5?e("li",{key:o,staticClass:"aLi",class:{signa:"package"==t.selGood.type&&s.id==t.selGood.id},on:{click:function(o){t.choseGood(s,"pack")}}},[t._v(t._s(s.packageName))]):t._e()}),t._v(" "),t._l(t.packCom,function(s,o){return"0"==t.shopList.ischain&&s.id<1e5?e("li",{key:o,staticClass:"aLi",class:{signa:"package"==t.selGood.type&&s.id==t.selGood.id},on:{click:function(o){t.choseGood(s,"pack")}}},[t._v(t._s(s.packageName))]):t._e()})],2):t._e()],2)])])])],1)};e._withStripped=!0;var i=o("81a2"),a=o("f6ce"),n=o("bbb9");function c(t){return function(){var s=t.apply(this,arguments);return new Promise(function(t,o){return function e(i,a){try{var n=s[i](a),c=n.value}catch(t){return void o(t)}if(!n.done)return Promise.resolve(c).then(function(t){e("next",t)},function(t){e("throw",t)});t(c)}("next")})}}var l={data:function(){return{title:"选择样本数据",packlist:"",packCom:[],oneArea:{oneAreaBtn:!1,oneAreaName:"请选择一级分类",oneAreaIndex:-1,oneAreaList:[{id:"0",name:"全部"}]},twoArea:{twoAreaBtn:!1,twoAreaName:"请选择二级分类",twoAreaIndex:-1,twoAreaList:[{id:"0",name:"全部二级分类"}]},L1ID:0,L2ID:0,isPackage:!1,goodsCom:[],goodList:[],packBtn:-1,selGood:{id:"",type:"",name:"",shopList:[]},shopList:{},leftWidth:0,leftIndex:0,cateList:"",newCateList:"",loading:!0,one:"",two:"",aaa:""}},props:["goods","shop","chooseShopList"],created:function(){0!=this.goods.shopList.length?this.shopList=this.goods.shopList:this.shopList={flag:a.a.session("userShop").currentShop.id,shopName:"",ischain:0,list:n.a.deepCopy(this.chooseShopList)}},mounted:function(){0==this.goods.shopList.length&&this.shopList.list.unshift({id:a.a.session("userShop").currentShop.id,ischain:0,shopName:"品牌"}),this.getShopGoodsList(),this.getShopPackageList()},methods:{getShopGoodsList:function(){var t=this;return c(regeneratorRuntime.mark(function s(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,i.a.getShopGoodsList({data:{id:t.shopList.flag,page:1,num:9999,isBrand:"品牌"!=t.shopList.shopName&&t.shopList.shopName?0:1}});case 2:o=s.sent,t.goodList=o.list,t.goodsCom=o.list,t.getShopCategoryList();case 6:case"end":return s.stop()}},s,t)}))()},getShopPackageList:function(){var t=this;return c(regeneratorRuntime.mark(function s(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,i.a.getShopPackageList({data:{id:t.shopList.flag,isBrand:"品牌"!=t.shopList.shopName&&t.shopList.shopName?0:1}});case 2:o=s.sent,t.packlist=o,t.goods&&(t.selGood=n.a.deepCopy(t.goods));case 5:case"end":return s.stop()}},s,t)}))()},getShopCategoryList:function(){var t=this;return c(regeneratorRuntime.mark(function s(){var o,e,a,c,l,d,h;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,i.a.getShopCategoryList({data:{id:t.shopList.flag,isBrand:"品牌"!=t.shopList.shopName&&t.shopList.shopName?0:1}});case 2:for(o=s.sent,t.loading=!0,t.oneArea.oneAreaList=[{id:"0",name:"全部"}],t.oneArea.oneAreaList=t.oneArea.oneAreaList.concat(o),e=0;e<o.length;e++){for(o[e].goods=[],a=0;a<t.goodList.length;a++)for(c=0;c<t.goodList[a].cids.length;c++)o[e].id==t.goodList[a].cids[c]&&o[e].goods.push(t.goodList[a]);for(l=0;l<o[e].child.length;l++)for(o[e].child[l].goods=[],d=0;d<t.goodList.length;d++)for(h=0;h<t.goodList[d].cids.length;h++)o[e].child[l].id==t.goodList[d].cids[h]&&o[e].child[l].goods.push(t.goodList[d])}t.cateList=n.a.deepCopy(o),t.newCateList=n.a.deepCopy(o),t.aaa=o;case 10:case"end":return s.stop()}},s,t)}))()},getData:function(t){this.$emit("choose",t,this.selGood,this.shopList)},right:function(){return!(this.leftWidth<=-(145*this.shopList.list.length-720))&&(this.leftIndex++,this.leftWidth=-400*this.leftIndex,this.leftWidth<=-(145*this.shopList.list.length-720)?(this.leftWidth=-(145*this.shopList.list.length-720),!1):void 0)},left:function(){return this.leftWidth>=0?(this.leftWidth=0,!1):this.leftWidth<-(145*this.shopList.list.length-720)?(this.leftWidth=-(145*this.shopList.list.length-720),!1):(this.leftIndex--,void(this.leftWidth=-400*this.leftIndex))},light:function(t,s,o){this.oneArea={oneAreaBtn:!1,oneAreaName:"请选择一级分类",oneAreaIndex:-1,oneAreaList:[{id:"0",name:"全部"}]},this.twoArea={twoAreaBtn:!1,twoAreaName:"请选择二级分类",twoAreaIndex:-1,twoAreaList:[{id:"0",name:"全部二级分类"}]},this.loading=!1,this.selGood.id="",this.selGood.type="",this.selGood.name="",this.shopList.flag=t,this.shopList.ischain=s,this.shopList.shopName=o,this.selGood.shopList=this.shopList,this.isPackage=!1,this.getShopGoodsList(),this.getShopPackageList()},choseGood:function(t){this.selGood.id=t.id,t.name?(this.selGood.type="cate",this.selGood.name=t.name):t.goodsName?(this.selGood.type="goods",this.selGood.name=t.goodsName):t.packageName&&(this.selGood.type="package",this.selGood.name=t.packageName)},getGoodList:function(t){0==t?(this.isPackage=!1,this.goodsCom=this.goodList):1==t&&(this.isPackage=!0,this.packCom=this.packlist)},selectPack:function(t){this.packBtn=t,this.packCom=[];var s=this.packlist;if(-1==t)this.packCom=s;else for(var o=0;o<s.length;o++)s[o].type==t&&this.packCom.push(s[o])}},components:{win:function(){return o.e("win").then(o.bind(null,"f60a"))}}},d=(o("90d9"),o("7610")),h=Object(d.a)(l,e,[],!1,null,"94616824",null);h.options.__file="src\\module\\cashier\\category_win.vue";s.default=h.exports},"90d9":function(t,s,o){"use strict";var e=o("94d9");o.n(e).a},"94d9":function(t,s,o){},b8bc:function(t,s,o){t.exports=o.p+"images/preloader.3e54c692.gif"}}]);