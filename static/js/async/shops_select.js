(window.webpackJsonp=window.webpackJsonp||[]).push([["shops_select"],{"0bc5":function(t,s,e){},a997:function(t,s,e){"use strict";e.r(s);var i=e("81a2");var o={data:function(){return{title:"编辑信息",list:[],isJob:!0,isBrand:!0,shopType:-1,jobType:1,jobList:[],allJobList:[],shopList:[],showShopList:[],selectNum:0,jobInfo:{roleId:"",name:"",shopIds:[]},onIndex:-1}},props:{shopIds:String,isTitle:String,isSingle:Boolean},mounted:function(){this.isTitle&&(this.title=this.isTitle),this.shopIds||(this.shopIds=""),this.getShopList()},methods:{getShopList:function(){var t,s=this;return(t=regeneratorRuntime.mark(function t(){var e,o,h,n,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.getShopList();case 2:for(e=t.sent,o=0;o<e.length;o++)e[o].selected=!1;if(s.shopList=e,s.showShopList=e,s.shopIds){for(h=s.shopIds.split(","),n=0;n<s.shopList.length;n++)for(l=0;l<h.length;l++)h[l]==s.shopList[n].id&&(s.shopList[n].paySelected=!0,s.shopList[n].selected=!0);for(s.selectNum=0,c=0;c<s.shopList.length;c++)s.shopList[c].selected&&s.selectNum++}case 7:case"end":return t.stop()}},t,s)}),function(){var s=t.apply(this,arguments);return new Promise(function(t,e){return function i(o,h){try{var n=s[o](h),l=n.value}catch(t){return void e(t)}if(!n.done)return Promise.resolve(l).then(function(t){i("next",t)},function(t){i("throw",t)});t(l)}("next")})})()},getWin:function(t){var s="",e="";if("ok"==t){for(var i=0;i<this.shopList.length;i++)this.shopList[i].selected&&(s=s+this.shopList[i].id+",",this.isSingle&&(e=this.shopList[i]));this.$emit("shopsSelect",t,s,e)}else this.$emit("shopsSelect",t)},selectShopType:function(t){if(this.shopType=t,this.showShopList=[],-1===t)this.showShopList=this.shopList;else if(1===t)for(var s=0;s<this.shopList.length;s++)"1"==this.shopList[s].ischain&&this.showShopList.push(this.shopList[s]);else if(2===t)for(var e=0;e<this.shopList.length;e++)"2"==this.shopList[e].ischain&&this.showShopList.push(this.shopList[e])},selJob:function(t,s){t.selected=!t.selected,this.selectNum=0;for(var e=0;e<this.shopList.length;e++)this.shopList[e].selected&&this.selectNum++},singleShop:function(t,s){this.shopList.forEach(function(t){t.selected=!1}),t.selected=!t.selected},shopSel:function(t){if(-1===this.shopType)for(var s=0;s<this.showShopList.length;s++)this.showShopList[s].selected=t;else if(1===this.shopType)for(var e=0;e<this.showShopList.length;e++)"1"==this.showShopList[e].ischain&&(this.showShopList[e].selected=t);else if(2===this.shopType)for(var i=0;i<this.showShopList.length;i++)"2"==this.showShopList[i].ischain&&(this.showShopList[i].selected=t)},allShops:function(t){if(0===t)this.shopSel(!1),this.selectNum=0;else{this.shopSel(!0),this.selectNum=0;for(var s=0;s<this.shopList.length;s++)this.shopList[s].selected&&this.selectNum++}}},components:{win:function(){return e.e("win").then(e.bind(null,"f60a"))}}},h=(e("b03b"),e("d801")),n=Object(h.a)(o,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("win",{attrs:{align:"center",width:700,height:400},on:{winEvent:t.getWin}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.title))]),t._v(" "),e("div",{attrs:{slot:"content",id:"shopTan"},slot:"content"},[e("div",{staticClass:"shop"},[e("div",{staticStyle:{width:"100%",height:"50px",overflow:"hidden","margin-top":"20px","margin-left":"20px"}},[e("a",{staticClass:"raduobtn",class:{selectbtn:-1===t.shopType},attrs:{href:"javascript:void(0);"},on:{click:function(s){t.selectShopType(-1)}}},[t._v("全部")]),t._v(" "),e("a",{staticClass:"raduobtn",class:{selectbtn:1===t.shopType},attrs:{href:"javascript:void(0);"},on:{click:function(s){t.selectShopType(1)}}},[t._v("直营店")]),t._v(" "),e("a",{staticClass:"raduobtn",class:{selectbtn:2===t.shopType},attrs:{href:"javascript:void(0);"},on:{click:function(s){t.selectShopType(2)}}},[t._v("加盟店")])]),t._v(" "),e("ul",[0==t.showShopList.length?e("div",{staticStyle:{color:"rgb(254, 141, 44)"}},[t._v("没有店铺可选择，请先去申请店铺！")]):t._e(),t._v(" "),t.isSingle?e("div",{staticStyle:{width:"100%"}},t._l(t.showShopList,function(s,i){return e("li",{key:i,class:{singleActive:s.selected},on:{click:function(e){t.singleShop(s)}}},[t._v(t._s(s.shopName))])})):e("div",{staticStyle:{width:"100%"}},t._l(t.showShopList,function(s,i){return e("li",{key:i,class:{active:s.selected},on:{click:function(e){t.selJob(s)}}},[t._v(t._s(s.shopName))])}))])]),t._v(" "),t.isSingle?t._e():e("div",{staticClass:"bottomSel"},[e("section",{staticClass:"isallselect",on:{click:function(s){t.allShops(0)}}},[t._v("取消全部")]),t._v(" "),e("section",{staticClass:"isallselect allselect",on:{click:function(s){t.allShops(1)}}},[t._v("选择全部")]),t._v(" "),e("h3",{staticStyle:{width:"160px",height:"40px","line-height":"40px",float:"right",color:"#FF9700"}},[t._v("已选择:"+t._s(t.selectNum)+"个")])])])])],1)},[],!1,null,"7440b6dd",null);s.default=n.exports},b03b:function(t,s,e){"use strict";var i=e("0bc5");e.n(i).a}}]);