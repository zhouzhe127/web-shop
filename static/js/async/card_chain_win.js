(window.webpackJsonp=window.webpackJsonp||[]).push([["card_chain_win"],{"553a":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("win",{attrs:{width:740,height:"auto"},on:{winEvent:t.winEvent}},[i("div",{staticClass:"shopList",staticStyle:{padding:"30px",overflow:"hidden"},attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"fl",staticStyle:{width:"100%"}},[i("a",{staticClass:"unselect fr",attrs:{href:"javascript:void(0)"},on:{click:t.selectUnselect}},[t._v("全部取消")]),t._v(" "),i("a",{staticClass:"check fr",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.selectUnselect("1")}}},[t._v("全部选择")])]),t._v(" "),t.directSalet&&t.directSalet.length>=1?i("div",{staticClass:"fl",staticStyle:{width:"100%","margin-bottom":"20px"}},[i("div",{staticClass:"fl",staticStyle:{height:"50px",width:"100%","line-height":"50px","text-align":"left","margin-left":"0","font-size":"16px"}},[t._v("直营店")]),t._v(" "),i("div",{staticClass:"selectbtns newCard fl",staticStyle:{width:"110px"}},[i("span",{class:t.dirCheckAll?"sign fl":"fl",staticStyle:{background:"'rgb(236,236,236)'"},on:{click:t.directCheckAll}},[t._v("全部")])]),t._v(" "),i("mul-select",{key:"id",staticClass:"newCard",staticStyle:{width:"500px"},attrs:{styles:{backgroundColor:"rgb(236,236,236)"},list:t.directSalet,selects:t.directSaletOn,name:"name"},on:{"update:list":function(e){t.directSalet=e},"update:selects":function(e){t.directSaletOn=e}}})],1):t._e(),t._v(" "),t.napaStores&&t.napaStores.length>=1?i("div",{staticClass:"fl",staticStyle:{width:"100%"}},[i("div",{staticClass:"fl",staticStyle:{height:"50px",width:"100%","line-height":"50px","text-align":"left","margin-left":"0","font-size":"16px"}},[t._v("加盟店")]),t._v(" "),i("div",{staticClass:"selectbtns newCard fl",staticStyle:{width:"110px"}},[i("span",{class:t.napCheckAll?"sign fl":"fl",staticStyle:{background:"'rgb(236,236,236)'"},on:{click:t.napaStCheckAll}},[t._v("全部")])]),t._v(" "),i("mul-select",{key:"id",staticClass:"newCard",staticStyle:{width:"500px"},attrs:{styles:{backgroundColor:"rgb(236,236,236)"},list:t.napaStores,selects:t.napaStoresOn,name:"name"},on:{"update:list":function(e){t.napaStores=e},"update:selects":function(e){t.napaStoresOn=e}}})],1):t._e()])])};s._withStripped=!0;var n=i("f6ce"),a=i("bbb9"),l={data:function(){return{napaStores:[],napaStoresOn:1==this.indexs?this.napaStoresOns:this.StoresOn,directSalet:[],directSaletOn:1==this.indexs?this.directSaletOns:this.SaletOn,dirCheckAll:!1,napCheckAll:!1,dirObjIndex:{},napObjIndex:{},selectShops:[]}},props:["indexs","napaStoresOns","directSaletOns","StoresOn","SaletOn"],watch:{directSaletOn:"dirChange",napaStoresOn:"napChange"},methods:{winEvent:function(t){if("ok"==t){var e={};e.shopList=this.filterShopInfo(),e.index=this.indexs,1==this.indexs?(e.napaStoresOn=this.napaStoresOn,e.directSaletOn=this.directSaletOn,e.isActive=!1):(e.StoresOn=this.napaStoresOn,e.SaletOn=this.directSaletOn,e.isUi=!1),this.$emit("closeWin",e)}else this.$emit("closeWin")},dirChange:function(){this.directSaletOn.length==this.directSalet.length?this.dirCheckAll=!0:this.dirCheckAll=!1},napChange:function(){this.napaStoresOn.length==this.napaStores.length?this.napCheckAll=!0:this.napCheckAll=!1},getShopList:function(){var t=n.a.session("shopList"),e=[],i=[],s=!0,a=!1,l=void 0;try{for(var r,h=t[Symbol.iterator]();!(s=(r=h.next()).done);s=!0){var c=r.value;c.status="0",c.name=c.shopName,"1"==c.ischain?e.push(c):"2"==c.ischain&&i.push(c)}}catch(t){a=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(a)throw l}}this.directSalet=e;for(var o=0;o<this.directSalet.length;o++)"0"==this.directSalet[o].status?this.dirObjIndex[this.directSalet[o].id]=o:(this.directSalet.splice(o,1),o--);this.napaStores=i;for(var d=0;d<this.napaStores.length;d++)"0"==this.napaStores[d].status?this.napObjIndex[this.napaStores[d].id]=d:(this.napaStores.splice(d,1),d--);this.napChange(),this.dirChange()},selectUnselect:function(t){if("1"==t){for(var e=[],i=[],s=0;s<this.directSalet.length;s++)i.push(this.directSalet[s].id);for(var n=0;n<this.napaStores.length;n++)e.push(this.napaStores[n].id);this.directSaletOn=a.a.deepCopy(i),this.napaStoresOn=a.a.deepCopy(e)}else this.napaStoresOn=[],this.directSaletOn=[],this.dirCheckAll=!1,this.napCheckAll=!1},directCheckAll:function(){if(this.dirCheckAll)this.directSaletOn=[],this.dirCheckAll=!1;else{this.directSaletOn=[],this.dirCheckAll=!1;for(var t=0;t<this.directSalet.length;t++)this.directSaletOn.push(this.directSalet[t].id);this.dirCheckAll=!0}},napaStCheckAll:function(){if(this.napCheckAll)this.napCheckAll=!1,this.napaStoresOn=[];else{this.napCheckAll=!1,this.napaStoresOn=[];for(var t=0;t<this.napaStores.length;t++)this.napaStoresOn.push(this.napaStores[t].id);this.napCheckAll=!0}},filterShopInfo:function(){for(var t=[],e=0;e<this.directSaletOn.length;e++)t.push(this.directSaletOn[e]);for(var i=0;i<this.napaStoresOn.length;i++)t.push(this.napaStoresOn[i]);return t}},mounted:function(){this.getShopList()},components:{win:function(){return i.e("win").then(i.bind(null,"f60a"))},"mul-select":function(){return i.e("mul_select").then(i.bind(null,"7d09"))}}},r=(i("7ed9"),i("6ceb")),h=Object(r.a)(l,s,[],!1,null,"0482a731",null);h.options.__file="src\\module\\member_system\\card_chain_win.vue";e.default=h.exports},"7ed9":function(t,e,i){"use strict";var s=i("89ef");i.n(s).a},"89ef":function(t,e,i){}}]);