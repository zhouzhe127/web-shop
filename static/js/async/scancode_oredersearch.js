(window.webpackJsonp=window.webpackJsonp||[]).push([["scancode_oredersearch"],{"05a6":function(t,e,a){},1218:function(t,e,a){"use strict";var n=a("05a6");a.n(n).a},"30c0":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"membercard"}},[a("div",{staticClass:"search"},[a("span",[t._v("订单查询")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.goodsName,expression:"goodsName"}],attrs:{type:"text",placeholder:"请输入订单号"},domProps:{value:t.goodsName},on:{input:function(e){e.target.composing||(t.goodsName=e.target.value)}}}),t._v(" "),a("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:t.getcommodity}},[t._v("筛选")]),t._v(" "),a("a",{staticClass:"gray",attrs:{href:"javascript:;"},on:{click:t.reset}},[t._v("重置")])]),t._v(" "),a("div",{staticClass:"choiceshop"},[a("div",{staticClass:"choiceshop_l"},[t._v("\n\t\t\t选择店铺:\n\t\t")]),t._v(" "),a("div",{staticClass:"choiceshop_r"},[t._v("\n\t\t\t"+t._s(t.constructionsName)+" | 选择时间:"+t._s(t.formatTime(t.startTime))+" - "+t._s(t.formatTime(t.endTime))+"\n\t\t")])]),t._v(" "),a("section",{staticStyle:{"margin-bottom":"20px"}},[a("com-table",{attrs:{listHeight:80,listWidth:1400,showHand:!1,titleData:t.titleList,introData:t.staticLists},on:{tableEvent:t.tableEvent},scopedSlots:t._u([{key:"con-0",fn:function(e){return a("div",{},[t._v("\n\t\t\t\t1\n\t\t\t")])}},{key:"con-4",fn:function(e){return a("div",{},[t._v("\n\t\t\t\t"+t._s(e.data.totalVouchersPain)+"("+t._s(e.data.totalVouchersNum)+"张)\n\t\t\t")])}}])})],1),t._v(" "),a("section",[a("com-table",{attrs:{listHeight:80,listWidth:1400,showHand:!1,titleData:t.shoptitleList,introData:t.formList},on:{tableEvent:t.tableEvent},scopedSlots:t._u([{key:"con-0",fn:function(e){return a("div",{on:{click:function(a){t.openStore(e.data)}}},[t._v("\n\t\t\t\t查看详情\n\t\t\t")])}},{key:"con-5",fn:function(e){return a("div",{},[t._v("\n\t\t\t\t"+t._s(e.data.vouchersPain)+"("+t._s(e.data.vouchersNum)+"张)\n\t\t\t")])}}])})],1),t._v(" "),a("section",{staticClass:"turn-page"},[a("pageElement",{attrs:{page:Number(t.page),total:Number(t.endTotal),numArr:[10,20,30,40,50],isNoJump:!0},on:{pageNum:t.getPageNum}})],1),t._v(" "),t.showWin?a(t.isPopupwindow,{tag:"component",attrs:{constructionsId:t.constructionsId,oid:t.oid},on:{getAppliedWin:t.getResult}}):t._e()],1)};n._withStripped=!0;var i=a("81a2"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Win",{attrs:{width:653,height:500,align:"center",ok:t.okStyle},on:{winEvent:t.getAppliedWin}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("查看详情")]),t._v(" "),a("div",{attrs:{slot:"content",id:"tan"},slot:"content"},[a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("用户:")]),t._v(" "),a("span",[t._v(t._s(t.detail.name))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("手机号:")]),t._v(" "),a("span",[t._v(t._s(t.detail.mobile))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("支付卡:")]),t._v(" "),a("span",[t._v(t._s(t.detail.cardType))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("支付方式:")]),t._v(" "),a("span",[t._v(t._s(t.getpayment(t.detail)))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("消费金额:")]),t._v(" "),a("span",[t._v(t._s(t.detail.consumption))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("代金券:")]),t._v(" "),a("span",[t._v(t._s(t.detail.vouchersPain)+"("+t._s(t.detail.vouchersNum)+"张)")])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("实收金额:")]),t._v(" "),a("span",[t._v(t._s(t.detail.pain))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("会员支付:")]),t._v(" "),a("span",[t._v(t._s(t.detail.memberConsumption))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("微信支付:")]),t._v(" "),a("span",[t._v(t._s(t.detail.weChatPain))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("支付宝支付:")]),t._v(" "),a("span",[t._v(t._s(t.detail.aliPayPain))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("优惠金额:")]),t._v(" "),a("span",[t._v(t._s(t.detail.discount))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("参与优惠金额:")]),t._v(" "),a("span",[t._v(t._s(t.detail.discount))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("不参与优惠金额:")]),t._v(" "),a("span",[t._v(t._s(t.detail.noDiscountPrice))])]),t._v(" "),a("div",{staticClass:"online-box clearfix"},[a("span",{staticClass:"online-sub fl"},[t._v("积分抵扣总额:")]),t._v(" "),a("span",[t._v(t._s(t.detail.pointCash))])])])])};s._withStripped=!0;var o={data:function(){return{detail:"",okStyle:{content:"确认",style:{backgroundColor:"#FF9800",color:"#fff"}}}},props:{constructionsId:String,oid:String},methods:{getAppliedWin:function(t){this.$emit("getAppliedWin",t)},scanPayOrderDetail:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.scanPayOrderDetail({data:{oid:e.oid,recordShopId:e.constructionsId}});case 2:(a=t.sent)&&(e.detail=a);case 4:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function n(i,s){try{var o=e[i](s),r=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(r).then(function(t){n("next",t)},function(t){n("throw",t)});t(r)}("next")})})()},getpayment:function(t){return 0==t.memberConsumption&&t.weChatPain>0?"微信支付":t.memberConsumption>0&&t.weChatPain>0?"混合支付":t.memberConsumption>0&&0==t.weChatPain?"会员支付":t.aliPayPain>0&&0==t.weChatPain&&t.memberConsumption?"支付宝支付":"会员支付"}},computed:{},components:{Win:function(){return Promise.resolve().then(a.bind(null,"f60a"))}},mounted:function(){this.scanPayOrderDetail()}},r=(a("e5a5"),a("7610")),l=Object(r.a)(o,s,[],!1,null,"8daef3be",null);l.options.__file="src\\module\\statistics\\scancode_static_win.vue";var c=l.exports,u=a("bbb9");function d(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function n(i,s){try{var o=e[i](s),r=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(r).then(function(t){n("next",t)},function(t){n("throw",t)});t(r)}("next")})}}var m={data:function(){return{page:1,num:10,endTotal:1,goodsName:"",titleList:[{titleName:"天数",dataName:"days"},{titleName:"支付次数",dataName:"payTimes"},{titleName:"消费总额 ",dataName:"totalConsumption"},{titleName:"优惠总额",dataName:"totalDiscount"},{titleName:"代金券"},{titleName:"实收总额",dataName:"totalPain"},{titleName:"积分抵扣总额",dataName:"totalPointCash"},{titleName:"会员消费总额",dataName:"totalMemberConsumption"},{titleName:"微信支付总额",dataName:"totalWeChatPain"},{titleName:"支付宝支付总额",dataName:"totalAliPayPain"}],staticLists:[],shoptitleList:[{titleName:"操作",dataName:"shopId",conStyle:{color:"#27a8e0",cursor:"pointer"}},{titleName:"结账时间 ",dataName:"createTime",titleStyle:{width:"200px",flex:"none",fontSize:"16px"}},{titleName:"支付订单 ",dataName:"oid",titleStyle:{width:"200px",flex:"none",fontSize:"16px"}},{titleName:"消费总额 ",dataName:"consumption"},{titleName:"优惠总额",dataName:"discount"},{titleName:"代金券"},{titleName:"实收总额",dataName:"pain"},{titleName:"积分抵扣总额",dataName:"pointCash"},{titleName:"会员消费总额",dataName:"memberConsumption"},{titleName:"微信支付总额",dataName:"weChatPain"},{titleName:"支付宝支付总额",dataName:"aliPayPain"}],staticshopLists:[],showWin:!1,isPopupwindow:"",allFormList:[],formList:[],allLists:[],oid:""}},methods:{getcommodity:function(){var t,e=new RegExp(this.goodsName);t=this.allLists.filter(function(t){return e.test(t.oid)}),this.allFormList=Object.values(t),this.setPage()},reset:function(){this.page=1,this.goodsName="",this.getScanPayData()},returnShopstatic:function(){this.$emit("scanorderResult","static")},tableEvent:function(){},getPageNum:function(t){this.page=t.page,this.num=t.num,this.setPage()},getResult:function(){this.showWin=!1},openStore:function(t){this.showWin=!0,this.isPopupwindow="getAppliedWin",this.oid=t.oid},getScanPayData:function(){var t=this;return d(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.getScanPayData({data:{taskId:t.taskId,showDetail:1,showShopId:t.constructionsId,showDay:t.oneData}});case 2:(a=e.sent)&&(t.staticLists=[],t.staticLists.push(a.total),t.allFormList=a.list,t.allLists=t.allFormList,t.$nextTick(function(){t.setPage()}));case 4:case"end":return e.stop()}},e,t)}))()},Export:function(){var t=this;return d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.exportScanPayData({data:{taskId:t.taskId,showDetail:1,showShopId:t.constructionsId,showDay:t.oneData,isExport:1}});case 2:case"end":return e.stop()}},e,t)}))()},setPage:function(){this.endTotal=Math.ceil(this.allFormList.length/this.num);var t=(this.page-1)*this.num,e=this.page*this.num,a=this.allFormList.slice(t,e);this.formList=a},formatTime:function(t){return 10==t.length&&(t*=1e3),u.a.format(new Date(t),"yyyy-MM-dd hh:mm:ss")}},props:{constructionsName:String,startTime:Number,endTime:Number,constructionsId:String,isOpenTime:Boolean,oneData:String,taskId:Number},watch:{},components:{pageElement:function(){return a.e("page_element").then(a.bind(null,"5921"))},comTable:function(){return a.e("table").then(a.bind(null,"4360"))},getAppliedWin:c},created:function(){var t={titleStyle:{fontSize:"16px"}},e={conStyle:{color:"#ff9800"}},a=!0,n=!1,i=void 0;try{for(var s,o=this.titleList[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var r=s.value;Object.assign(r,t,e)}}catch(t){n=!0,i=t}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}var l=!0,c=!1,u=void 0;try{for(var d,m=this.shoptitleList[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){var v=d.value;"oid"!=v.dataName&&"createTime"!=v.dataName&&Object.assign(v,t)}}catch(t){c=!0,u=t}finally{try{!l&&m.return&&m.return()}finally{if(c)throw u}}},mounted:function(){var t=this;this.$store.commit("setPageTools",[{name:"返回",className:["fd-blue"],fn:function(){t.returnShopstatic()}},{name:"导出",className:["fd-blue"],fn:function(){t.Export()}}]),this.getScanPayData()},destroyed:function(){clearInterval(this.timer)}},v=(a("1218"),Object(r.a)(m,n,[],!1,null,"afe00326",null));v.options.__file="src\\module\\statistics\\scancode_oredersearch.vue";e.default=v.exports},e5a5:function(t,e,a){"use strict";var n=a("ef84");a.n(n).a},ef84:function(t,e,a){}}]);