(window.webpackJsonp=window.webpackJsonp||[]).push([["member_store_detail"],{"29ce":function(t,e,i){"use strict";i.r(e);var n=i("81a2"),s=i("f6ce");var a={props:{id:[String,Number],shopsList:Array},data:function(){return{detail:"",couponIds:[],isFlag:!1,shopName:"",ischain:""}},methods:{lookDetail:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.a.getDetailDep({data:{id:e.id,shopId:s.a.session("shopId")}});case 2:i=t.sent,e.detail=i,i.couponIds&&(e.couponIds=JSON.parse(i.couponIds)),3==e.ischain?e.getshopName():e.shopName=s.a.session("userShop").currentShop.name;case 6:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function n(s,a){try{var l=e[s](a),o=l.value}catch(t){return void i(t)}if(!l.done)return Promise.resolve(o).then(function(t){n("next",t)},function(t){n("throw",t)});t(o)}("next")})})()},winEvent:function(t){this.$emit("winEvent",t)},getshopName:function(){var t="";if(""==this.detail.depositShopIds){var e=!0,i=!1,n=void 0;try{for(var s,a=this.shopsList[Symbol.iterator]();!(e=(s=a.next()).done);e=!0){t+=s.value.shopName+","}}catch(t){i=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw n}}}else{var l=this.detail.depositShopIds.split(","),o=!0,_=!1,r=void 0;try{for(var p,d=this.shopsList[Symbol.iterator]();!(o=(p=d.next()).done);o=!0){var v=p.value,c=!0,u=!1,h=void 0;try{for(var f,g=l[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){if(f.value==v.id){t+=v.shopName+",";break}}}catch(t){u=!0,h=t}finally{try{!c&&g.return&&g.return()}finally{if(u)throw h}}}}catch(t){_=!0,r=t}finally{try{!o&&d.return&&d.return()}finally{if(_)throw r}}}this.shopName=t}},mounted:function(){this.userShop=s.a.session("userShop"),this.currentShop=this.userShop.currentShop,this.ischain=this.currentShop.ischain,0!=this.currentShop.ischain&&3!=this.currentShop.ischain||(this.isFlag=!this.isFlag),this.lookDetail()},components:{Win:function(){return i.e("win").then(i.bind(null,"f60a"))}}},l=(i("4420"),i("d801")),o=Object(l.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"details"}},[i("Win",{attrs:{width:500,height:480,type:"alert",ok:{content:t.isFlag?"修改":"确定"}},on:{winEvent:t.winEvent}},[i("ul",{staticClass:"detailUl",attrs:{slot:"content"},slot:"content"},[i("li",[i("span",{staticClass:"spanLeft"},[t._v("方案名：")]),t._v(" "),i("span",{staticClass:"spanRight"},[t._v(t._s(t.detail.name))])]),t._v(" "),i("li",[i("span",{staticClass:"spanLeft"},[t._v("方案类型：")]),t._v(" "),i("span",{staticClass:"spanRight"},[1==t.detail.type?[t._v("固定方案")]:t._e(),t._v(" "),2==t.detail.type?[t._v("自定义方案")]:t._e()],2)]),t._v(" "),i("li",[i("span",{staticClass:"spanLeft"},[t._v("排序：")]),t._v(" "),i("span",{staticClass:"spanRight"},[t._v(t._s(t.detail.sort))])]),t._v(" "),i("li",[i("span",{staticClass:"spanLeft"},[t._v("储值金额：")]),t._v(" "),i("span",{staticClass:"spanRight"},[1==t.detail.type?[t._v(t._s(t.detail.deposit))]:t._e(),t._v(" "),2==t.detail.type?[t._v("-")]:t._e()],2)]),t._v(" "),i("li",[i("span",{staticClass:"spanLeft"},[t._v("支付金额：")]),t._v(" "),i("span",{staticClass:"spanRight"},[1==t.detail.type?[t._v(t._s(t.detail.payment))]:t._e(),t._v(" "),2==t.detail.type?[t._v("-")]:t._e()],2)]),t._v(" "),i("li",[i("span",{staticClass:"spanLeft"},[t._v("赠送条件：")]),t._v(" "),i("span",{staticClass:"spanRight"},[1==t.detail.type?[t._v("\n\t\t\t\t\t\t-\n\t\t\t\t\t")]:t._e(),t._v(" "),2==t.detail.type?[2==t.detail.depositRule?[t._v("\n\t\t\t\t\t\t\t"+t._s(t.detail.deposit)+" <=支付金额 <= "+t._s(t.detail.payment)+"\n\t\t\t\t\t\t")]:t._e(),t._v(" "),1==t.detail.depositRule?[t._v("\n\t\t\t\t\t\t\t支付金额 = "+t._s(t.detail.deposit)+"\n\t\t\t\t\t\t")]:t._e(),t._v(" "),3==t.detail.depositRule?[t._v("\n\t\t\t\t\t\t\t支付金额 >= "+t._s(t.detail.deposit)+"\n\t\t\t\t\t\t")]:t._e(),t._v(" "),4==t.detail.depositRule?[t._v("\n\t\t\t\t\t\t\t支付金额 <= "+t._s(t.detail.deposit)+"\n\t\t\t\t\t\t")]:t._e()]:t._e()],2)]),t._v(" "),i("li",[i("span",{staticClass:"spanLeft"},[t._v("赠送内容：")]),t._v(" "),i("span",{staticClass:"spanRight"},[1==t.detail.type?[0==t.detail.giftAmount&&0==t.detail.giftPoint&&""==t.couponIds?[t._v("\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t")]:t._e(),t._v(" "),0==t.detail.giftAmount&&0!=t.detail.giftPoint?[t._v("\n\t\t\t\t\t\t\t赠送"+t._s(t.detail.giftPoint)+"积分\n\t\t\t\t\t\t")]:t._e(),t._v(" "),0!=t.detail.giftAmount&&0==t.detail.giftPoint?[t._v("\n\t\t\t\t\t\t\t赠送金额"+t._s(t.detail.giftAmount)+"元\n\t\t\t\t\t\t")]:t._e(),t._v(" "),0!=t.detail.giftAmount&&0!=t.detail.giftPoint?[t._v("\n\t\t\t\t\t\t\t赠送金额"+t._s(t.detail.giftAmount)+"元，赠送"+t._s(t.detail.giftPoint)+"积分\n\t\t\t\t\t\t")]:t._e(),t._v(" "),t.couponIds?[t._l(t.couponIds,function(e,i){return[t._v("\n\t\t\t\t\t\t\t\t赠送"+t._s(e.name)+"优惠券"+t._s(e.num)+"张\n\t\t\t\t\t\t\t\t"),i!=t.couponIds.length-1?[t._v("\n\t\t\t\t\t\t\t\t\t，\n\t\t\t\t\t\t\t\t")]:t._e()]})]:t._e()]:t._e(),t._v(" "),2==t.detail.type?[0==t.detail.giftAmountRule&&0==t.detail.giftPointRule?[t._v("\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t")]:t._e(),t._v(" "),1==t.detail.giftAmountRule?[t._v("\n\t\t\t\t\t\t\t赠送固定储值金额"+t._s(t.detail.giftAmount)+"元,\n\t\t\t\t\t\t")]:t._e(),t._v(" "),2==t.detail.giftAmountRule?[t._v("\n\t\t\t\t\t\t\t按比例赠送储值金额"+t._s(t.detail.giftAmount)+"%,\n\t\t\t\t\t\t")]:t._e(),t._v(" "),1==t.detail.giftPointRule?[t._v("\n\t\t\t\t\t\t\t赠送固定积分"+t._s(t.detail.giftPoint)+"分\n\t\t\t\t\t\t")]:t._e(),t._v(" "),2==t.detail.giftPointRule?[t._v("\n\t\t\t\t\t\t\t按比例赠送积分"+t._s(t.detail.giftPoint)+"%\n\t\t\t\t\t\t")]:t._e()]:t._e()],2)]),t._v(" "),i("li",[i("span",{staticClass:"spanLeft"},[t._v("渠道：")]),t._v(" "),i("span",{staticClass:"spanRight"},[12==t.detail.channel||21==t.detail.channel?[t._v("\n\t\t\t\t\t\t微信、POS收银\n\t\t\t\t\t")]:t._e(),t._v(" "),1==t.detail.channel?[t._v("\n\t\t\t\t\t\t微信\n\t\t\t\t\t")]:t._e(),t._v(" "),2==t.detail.channel?[t._v("\n\t\t\t\t\t\tPOS收银\n\t\t\t\t\t")]:t._e()],2)]),t._v(" "),i("li",[i("span",{staticClass:"spanLeft"},[t._v("适用门店：")]),t._v(" "),i("span",{staticClass:"spanRight"},[t._v("\n\t\t\t\t\t"+t._s(t.shopName)+"\n\t\t\t\t")])]),t._v(" "),i("li",[i("span",{staticClass:"spanLeft"},[t._v("操作人：")]),t._v(" "),i("span",{staticClass:"spanRight"},[t._v(t._s(t.detail.createUid))])])])])],1)},[],!1,null,"c82b1ce8",null);e.default=o.exports},4420:function(t,e,i){"use strict";var n=i("cebe");i.n(n).a},cebe:function(t,e,i){}}]);