(window.webpackJsonp=window.webpackJsonp||[]).push([["details_con"],{"1e7c":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("section",{attrs:{id:"details_con"}},[o("section",{staticStyle:{width:"100%",height:"50px"}},[o("ElTooltip",{attrs:{content:"Top Center 提示文字",placement:"top",disabled:!1}},[o("el-button",{attrs:{type:"success",size:"mini"}},[t._v("\n\t\t\t\t\t\t啊实打实\n\t\t\t\t\t")]),t._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[t._v("ssssssssss")]),t._v(" "),o("div",[t._v("爱神的箭阿里斯顿")])],1),t._v(" "),1==t.ischain||2==t.ischain?o("div",{staticStyle:{float:"left","margin-right":"10px"}},[o("select-btn",{attrs:{name:t.typeName,sorts:t.goodSec.map(function(t){return t.name}),width:158},on:{emit:t.selectType}})],1):t._e(),t._v(" "),o("div",{staticClass:"select-down",staticStyle:{"margin-right":"20px"},on:{click:function(t){t.stopPropagation()}}},[o("section",{staticClass:"staList"},[o("section",{staticClass:"tableList",on:{click:t.showOneArea}},[o("section",{staticClass:"oSpan"},[t._v(t._s(t.oneArea.name))]),t._v(" "),t._m(0)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.oneArea.show,expression:"oneArea.show"}],staticClass:"detDiv"},[o("i",{staticClass:"detI"}),t._v(" "),o("div",{staticClass:"detCategory"},[t._l(t.category,function(e,s){return[o("section",{key:s,staticClass:"showName",class:{"showname-select":e.id==t.oneArea.id},on:{click:function(o){t.selectOneArea(e,s)}}},[t._v(t._s(e.name))])]})],2)])])]),t._v(" "),o("div",{staticClass:"select-down",staticStyle:{"margin-right":"20px"},on:{click:function(t){t.stopPropagation()}}},[o("section",{staticClass:"staList"},[o("section",{staticClass:"tableList",on:{click:t.showTwoArea}},[o("section",{staticClass:"oSpan"},[t._v(t._s(t.twoArea.name))]),t._v(" "),t._m(1)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.twoArea.show,expression:"twoArea.show"}],staticClass:"detDiv"},[o("i",{staticClass:"detI"}),t._v(" "),o("div",{staticClass:"detChild"},[t._l(t.child,function(e,s){return[o("section",{key:s,staticClass:"showName",class:{"showname-select":e.id==t.twoArea.id},on:{click:function(o){t.selectTwoArea(e,s)}}},[t._v(t._s(e.name))])]})],2)])])]),t._v(" "),o("section",{staticClass:"search fl"},[1==t.industry?o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search-input",attrs:{type:"text",placeholder:"请输入名称"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),o("a",{staticClass:"search-btn",staticStyle:{"background-color":"#29A7E1"},attrs:{href:"javascript:void(0);"},on:{click:function(e){t.searchNewGood(!0)}}})]):t._e(),t._v(" "),1!=t.industry?o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search-input",attrs:{type:"text",placeholder:"请输入名称/简码"},domProps:{value:t.search},on:{keyup:function(e){t.funSearchkeyUp(null)},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),o("a",{staticClass:"search-btn",staticStyle:{"background-color":"#29A7E1"},attrs:{href:"javascript:void(0);"},on:{click:function(e){t.funSearchkeyUp(null)}}})]):t._e()])],1),t._v(" "),o("section",{staticStyle:{clear:"both",overflow:"auto","padding-top":"15px"}},[o("section",{staticClass:"place fl"},[o("section",{staticClass:"class-Parent"},[t._l(t.goodsNav,function(e,s){return[o("span",{key:s,class:{on:e.id==t.selectNavId},staticStyle:{"margin-left":"8px"},on:{click:function(o){t.filterGoodsByNav(e.id,s)}}},[t._v(t._s(e.name))])]})],2)])]),t._v(" "),t.load?t._e():o("div",{staticClass:"animate-div"},[t._m(2)]),t._v(" "),o("div",{staticClass:"commodity-box"},[o("div",{ref:"addGoods",staticClass:"media-div"},[o("section",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],staticClass:"add_goods_list list-div",style:{height:t.listHeight+"px"},on:{click:function(e){t.openAddWin({})}}},[t._m(3)])]),t._v(" "),t._l(t.nowGoods,function(e,i){return o("div",{key:i,staticClass:"media-div"},[o("section",{staticClass:"list-div",style:{height:t.listHeight+"px"},on:{click:function(s){t.openAddWin(e)}}},[e.imageName?o("img",{staticClass:"imageClass",attrs:{src:e.imageName.indexOf("http")>-1?e.imageName:t.imgHost+e.imageName,alt:e.goodsName}}):o("img",{staticClass:"imageClass",attrs:{src:s("b7c2"),alt:e.goodsName}}),t._v(" "),2!=e.type?o("section",{staticClass:"shopTag"},[0==e.isVip?o("span",[t._v("未开启会员")]):t._e(),t._v(" "),2==e.isVip?o("span",[t._v("会员折扣")]):t._e(),t._v(" "),1==e.isVip&&1!=e.isGroup?o("span",[t._v("会员价格:"+t._s(e.vipPrice))]):t._e(),t._v(" "),1==e.isVip&&1==e.isGroup?o("span",[t._v("\n\t\t\t\t\t\t\t\t会员价格:\n\t\t\t\t\t\t\t\t"),t._l(e.groupStock,function(s,i){return o("i",{key:i},[t._v(t._s(s.vipPrice)+"\n\t\t\t\t\t\t\t\t\t"),e.groupStock.length-1!=i?o("i",[t._v("/")]):t._e()])})],2):t._e(),t._v(" "),2==e.status?o("span",[t._v("下架商品")]):t._e()]):t._e(),t._v(" "),1==t.ischain||2==t.ischain?o("section",{staticClass:"shopTag",staticStyle:{width:"70px",left:"10px"}},[e.id<1e5?o("span",{staticClass:"brandStyle"},[t._v("品牌")]):o("span",{staticClass:"brandStyle",staticStyle:{"background-color":"rgb(108, 194, 230)"}},[t._v("门店")])]):t._e(),t._v(" "),o("section",{staticClass:"comprice"},[o("h2",{staticClass:"commodityName"},[t._v(t._s(e.goodsName))]),t._v(" "),0==e.type||1==e.type?o("section",{staticClass:"fl",staticStyle:{height:"55px","line-height":"25px",width:"100%"}},[o("section",[1==e.isGroup&&1==e.isStock?o("section",{staticClass:"fl",staticStyle:{width:"100%","text-align":"left"}},[o("span",{staticClass:"fl",staticStyle:{width:"42px"}},[t._v("库存：")]),t._v(" "),o("span",{staticClass:"fl stockStyle"},t._l(e.groupStock,function(s,i){return o("i",{key:i},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(s.goodsNum)+"\n\t\t\t\t\t\t\t\t\t\t\t\t"),e.groupStock.length-1!=i?o("i",[t._v("/")]):t._e()])}))]):o("section",{staticClass:"fl",staticStyle:{width:"100%","text-align":"left"}},[o("span",{staticClass:"fl",staticStyle:{width:"42px"}},[t._v("库存：")]),t._v(" "),o("span",{staticClass:"fl stockStyle"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.goodsNum?e.goodsNum:"未开启库存")+"\n\t\t\t\t\t\t\t\t\t\t")])])]),t._v(" "),o("section",[1==e.isGroup||1==e.isGroup&&1==e.isSeasonal?o("section",{staticClass:"fr price-align",staticStyle:{float:"left"}},[o("span",{staticClass:"fl"},[t._v("原价：")]),t._v(" "),o("span",{staticClass:"fl stockStyle"},t._l(e.groupStock,function(s,i){return o("i",{key:i},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(s.price)+"\n\t\t\t\t\t\t\t\t\t\t\t\t"),e.groupStock.length-1!=i?o("i",[t._v("/")]):t._e()])}))]):o("section",{staticClass:"fr",staticStyle:{float:"left"}},[o("span",{staticClass:"fl",staticStyle:{width:"50px"}},[t._v("原价：")]),t._v(" "),o("span",{staticClass:"fl stockStyle"},[t._v(t._s(e.price))])])]),t._v(" "),o("section",{staticStyle:{display:"none"}},[t._v(t._s(e.BC))])]):t._e()])])])})],2)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.goodsList.length>0,expression:"goodsList.length>0"}],staticClass:"page-container"},[o("div",{staticClass:"page-content"},[o("pageElement",{attrs:{page:t.currentPage,total:t.totalNum,num:t.num,isNoPaging:!0},on:{pageNum:t.funGetPageNum}})],1)]),t._v(" "),o("transition",{attrs:{name:"fade"}},[o(t.showCom,{tag:"component",attrs:{pObj:t.comObj,goIncom:"goods"},on:{throwAddGoodsWin:t.closeAddGoodsWin}})],1)],1)},i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("i")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("i")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-div"},[e("img",{attrs:{src:s("b8bc")}}),this._v(" "),e("div",{staticStyle:{"font-size":"20px",color:"#999"}},[this._v("\n\t\t\t\t\t\t商品加载中,请稍后...\n\t\t\t\t\t")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"combox"},[e("img",{attrs:{src:s("f518"),alt:"添加"}}),this._v(" "),e("h3",[this._v("添加商品")])])}];o._withStripped=!0;var n=s("05dd"),a=s("f6ce"),r=s("81a2"),c=s("bbb9");function d(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,s){return function o(i,n){try{var a=e[i](n),r=a.value}catch(t){return void s(t)}if(!a.done)return Promise.resolve(r).then(function(t){o("next",t)},function(t){o("throw",t)});t(r)}("next")})}}var l={data:function(){return{goodsNav:[{id:-1,name:"全部"},{id:0,name:"已开启库存商品"},{id:1,name:"未开启库存商品"},{id:2,name:"多规格商品"},{id:3,name:"下架商品"}],selectNavId:-1,cdn:n.a.cdnUrl,oneArea:{name:"请选择一级分类",id:-1,show:!1},twoArea:{name:"请选择二级分类",index:-2,show:!1},load:!1,category:[],child:[],allGoods:[],goodsList:[],pageGoods:[],tempGoods:[],nowGoods:[],brandList:null,isBrand:null,ischain:null,brandId:null,shopId:null,imgHost:null,pageBtnNum:10,num:14,currentPage:1,totalNum:null,numList:[],search:"",comObj:{},showCom:"",requestNum:1e3,requestPage:1,requestTotal:1,listHeight:200,industry:0,goodSec:[{name:"全部",id:"0"},{name:"品牌同步",id:"1"},{name:"门店自建",id:"2"}],goodType:0,typeName:"请选择商品类型"}},mounted:function(){this.initData(),this.initSyncBtn(),this.syncRequest(),document.addEventListener("click",this.domClick,!1),this.windowResize(),window.addEventListener("resize",this.windowResize,!1)},components:{openAddGoodsWin:function(){return s.e("add_goods_win").then(s.bind(null,"b6e5"))},errorGoods:function(){return s.e("import_goods_error_win").then(s.bind(null,"4a4f"))},asyncWin:function(){return s.e("async_goods_choice").then(s.bind(null,"b22c"))},pageElement:function(){return s.e("page_element").then(s.bind(null,"5921"))},selectBtn:function(){return s.e("select_btn").then(s.bind(null,"3d41"))}},methods:{selectType:function(t){this.goodType=t,this.typeName=this.goodSec[t].name,this.filterGoodsByNav(this.selectNavId)},searchNewGood:function(t){var e=this;return d(regeneratorRuntime.mark(function s(){var o,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t&&(e.currentPage=1,e.pageGoods=e.goodsList,e.tempGoods=e.goodsList,e.initPage(e.pageGoods)),e.oneArea={id:-1,name:"请选择一级分类",show:!1},e.twoArea={name:"请选择二级分类",index:-2,show:!1},e.selectNavId=-1,""!=e.search){s.next=6;break}return s.abrupt("return");case 6:return s.next=8,r.a.getListByCid({data:{goodsName:e.search}});case 8:for(o=s.sent,e.pageGoods=o.list,e.searchGoods=o.list,i=0;i<e.pageGoods.length;i++)(1*e.pageGoods[i].groupId>0||2==e.pageGoods[i].status)&&(e.pageGoods.splice(i,1),i--);e.initPage(e.pageGoods);case 13:case"end":return s.stop()}},s,e)}))()},showOneArea:function(t){t.stopPropagation(),this.oneArea.show=!this.oneArea.show,this.twoArea.show=!1},selectOneArea:function(t,e){this.twoArea={id:-2,name:"请选择二级分类",show:!1},this.oneArea={id:t.id,name:t.name,show:!1},this.child=t.child,this.child||(this.child=[]),this.tempGoods=this.pageGoods=this.filterGoodsByCategoryByPid(this.goodsList,this.oneArea.id),"number"==typeof e&&(this.selectNavId=-1,this.currentPage=1),0!=this.search.trim().length?(this.searchGoods=this.funSearchGoods(this.tempGoods),this.pageGoods=this.changeNav(this.selectNavId,this.searchGoods)):this.pageGoods=this.changeNav(this.selectNavId,this.tempGoods),this.initPage(this.pageGoods)},showTwoArea:function(t){return t.stopPropagation(),-1==this.oneArea.id?(this.$store.commit("setWin",{title:"温馨提示",content:"请先选择一级分类!"}),!1):0==this.child.length?(this.$store.commit("setWin",{title:"温馨提示",content:"该分类下没有二级分类!"}),!1):(this.twoArea.show=!this.twoArea.show,void(this.oneArea.show=!1))},selectTwoArea:function(t,e){this.twoArea={id:t.id,name:t.name,show:!1},this.selectNavId=-1,this.tempGoods=this.pageGoods=this.filterGoodsByCategoryByPid(this.goodsList,this.twoArea.id),0!=this.search.trim().length?(this.searchGoods=this.funSearchGoods(this.tempGoods),this.pageGoods=this.changeNav(this.selectNavId,this.searchGoods)):this.pageGoods=this.changeNav(this.selectNavId,this.tempGoods),"number"==typeof e&&(this.selectNavId=-1,this.currentPage=1),this.initPage(this.pageGoods)},filterGoodsByCategoryByPid:function(t,e){if(-1==e)return t;var s=[];return t.forEach(function(t){t.cids||(t.cids=[]),t.cids.some(function(o){if(o==e)return s.push(t),!0})}),s},filterGoodsByNav:function(t){this.selectNavId=t,this.search=this.search.trim(),0==this.search.length?this.pageGoods=this.changeNav(this.selectNavId,this.tempGoods):this.pageGoods=this.changeNav(this.selectNavId,this.searchGoods),this.currentPage=1,this.initPage(this.pageGoods)},changeNav:function(t,e){var s=[];if(3!=t)switch(e=e.filter(function(t){return 2!=t.status}),t+""){case"-1":s=e;break;case"0":s=e.filter(function(t){return 1==t.isStock});break;case"1":s=e.filter(function(t){return 0==t.isStock});break;case"2":s=e.filter(function(t){return 1==t.isGroup})}else 3==t&&(s=e.filter(function(t){return 2==t.status}));var o=[],i=[],n=[],a=c.a.deepCopy(s);if(0==this.goodType)o=a;else{for(var r=0;r<a.length;r++){var d=a[r];1*d.id<1e5?i.push(d):n.push(d)}1==this.goodType?o=i:2==this.goodType&&(o=n)}return s=o},funSearchkeyUp:function(){this.searchGoods=this.pageGoods=this.funSearchGoods(this.tempGoods),this.pageGoods=this.changeNav(this.selectNavId,this.searchGoods),this.currentPage=1,this.initPage(this.pageGoods)},funSearchGoods:function(t){var e=this;return this.search&&0!=this.search.trim().length?(this.search=this.search.trim(),t.filter(function(t){var s=""+t.BC;s=s.toLowerCase();var o=t.goodsName.toLowerCase(),i=e.search.toLowerCase();return!!(s&&s.indexOf(i)>-1)||(!!(o&&o.indexOf(i)>-1)||void 0)})):t},initPage:function(t){this.totalNum=Math.ceil(t.length/this.num);var e=(this.currentPage-1)*this.num,s=this.currentPage*this.num;this.nowGoods=t.slice(e,s)},funGetPageNum:function(t){var e=this;return d(regeneratorRuntime.mark(function s(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e.currentPage=t.page,e.num=t.num,e.initPage(e.pageGoods),!(e.currentPage>e.totalNum-2)){s.next=12;break}if(!(e.requestPage<e.requestTotal)){s.next=12;break}return e.requestPage++,s.next=8,e.getGoods();case 8:o=s.sent,e.pageGoods=e.pageGoods.concat(o),e.initPage(e.pageGoods),a.a.session("goodList",e.pageGoods);case 12:case"end":return s.stop()}},s,e)}))()},closeAddGoodsWin:function(t){var e=this;"releaserelation"!=t&&(this.showCom=""),"close"!=t&&"cancel"!==t&&this.getGoodsList(!0).then(function(t){e.allGoods=t,e.goodsList=e.initGoodsStock(t,e.numList),e.goodsList=e.deleteChildGoods(e.goodsList),e.goodsList=e.funSortGood(e.goodsList),-2==e.twoArea.id?e.selectOneArea(e.oneArea):e.selectTwoArea(e.twoArea)})},openAddWin:function(t){this.comObj={editGoodsId:t.id,status:t.status,ischain:this.ischain,shopId:this.shopId,category:this.category,imgHost:this.imgHost,goodsList:this.allGoods,brandId:this.brandId,title:t.id?"修改商品":"添加商品"},this.showCom="openAddGoodsWin"},initGoodsStock:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=!0,o=!1,i=void 0;try{for(var n,a=t[Symbol.iterator]();!(s=(n=a.next()).done);s=!0){var r=n.value;if(1==r.isStock){var c=!0,d=!1,l=void 0;try{for(var u,h=e[Symbol.iterator]();!(c=(u=h.next()).done);c=!0){var g=u.value;if(r.id==g.gid){r.goodsNum=g.goodsNum;break}}}catch(t){d=!0,l=t}finally{try{!c&&h.return&&h.return()}finally{if(d)throw l}}}}}catch(t){o=!0,i=t}finally{try{!s&&a.return&&a.return()}finally{if(o)throw i}}var p=!0,f=!1,v=void 0;try{for(var m,w=t[Symbol.iterator]();!(p=(m=w.next()).done);p=!0){var y=m.value;y.groupStock=[];var _=!0,G=!1,C=void 0;try{for(var A,b=t[Symbol.iterator]();!(_=(A=b.next()).done);_=!0){var x=A.value;if(y.id==x.groupId&&y.id!=x.id){var k={goodsNum:x.goodsNum,price:x.price,vipPrice:x.vipPrice};y.groupStock.push(k)}if(y.groupStock.length>=3)break}}catch(t){G=!0,C=t}finally{try{!_&&b.return&&b.return()}finally{if(G)throw C}}}}catch(t){f=!0,v=t}finally{try{!p&&w.return&&w.return()}finally{if(f)throw v}}return t},filterGoodsByStock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[],o=[];s=t.filter(function(t){return 1==t.isStock});var i=!0,n=!1,a=void 0;try{for(var r,c=s[Symbol.iterator]();!(i=(r=c.next()).done);i=!0){var d=r.value,l=!0,u=!1,h=void 0;try{for(var g,p=e[Symbol.iterator]();!(l=(g=p.next()).done);l=!0){var f=g.value;if(d.id==f.gid){d.goodsThreshold=f.goodsThreshold,d.goodsNum=f.goodsNum;break}}}catch(t){u=!0,h=t}finally{try{!l&&p.return&&p.return()}finally{if(u)throw h}}}}catch(t){n=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(n)throw a}}var v=!0,m=!1,w=void 0;try{for(var y,_=s[Symbol.iterator]();!(v=(y=_.next()).done);v=!0){var G=y.value;G.relative=[];var C=!0,A=!1,b=void 0;try{for(var x,k=s[Symbol.iterator]();!(C=(x=k.next()).done);C=!0){var S=x.value;S.groupId==G.id&&S.id!=G.id&&G.relative.push(S)}}catch(t){A=!0,b=t}finally{try{!C&&k.return&&k.return()}finally{if(A)throw b}}o.push(G)}}catch(t){m=!0,w=t}finally{try{!v&&_.return&&_.return()}finally{if(m)throw w}}return o},deleteChildGoods:function(t){return t.filter(function(t){if(!Number(t.groupId))return!0})},funSortGood:function(t){return t.sort(function(t,e){return t.sort==e.sort?t.id-e.id:t.sort-e.sort})},initSyncBtn:function(){var t=this,e={leadIn:function(){t.importGoods().then(function(e){e?(t.showCom="errorGoods",t.comObj={errorInfo:e}):(t.$store.commit("setWin",{title:"温馨提示",content:"导入商品成功!"}),t.showCom=""),t.getGoodsList(!0).then(function(e){t.allGoods=e,t.goodsList=t.initGoodsStock(e,t.numList),t.goodsList=t.deleteChildGoods(t.goodsList),t.goodsList=t.funSortGood(t.goodsList),-2==t.twoArea.id?t.selectOneArea(t.oneArea):t.selectTwoArea(t.twoArea)})})},leadOut:function(){t.exportGoodsList()}};1!=this.ischain&&2!=this.ischain||(e.sync=function(){t.showCom="asyncWin"}),this.$store.commit("setPageTools",e)},initData:function(){var t=a.a.session("userShop");this.imgHost=t.uploadUrl,this.shopId=t.currentShop.id;for(var e=["industry","brandId","ischain"],s=0;s<e.length;s++){var o=e[s];this[o]=t.currentShop[o]}this.isBrand="1"!=t.currentShop.ischain&&"2"!=t.currentShop.ischain},getCate:function(){var t=this;return d(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getCategoryList({data:{shopId:t.shopId}});case 2:return s=e.sent,a.a.session("areaList",s),e.abrupt("return",s);case 5:case"end":return e.stop()}},e,t)}))()},getCategoryList:function(t,e){var s=this;return d(regeneratorRuntime.mark(function o(){var i,n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=null,!t){o.next=7;break}return o.next=4,s.getCate();case 4:i=o.sent,o.next=25;break;case 7:if(n=a.a.session("httpGoodVersion")){o.next=14;break}return o.next=11,s.getCate();case 11:i=o.sent,o.next=25;break;case 14:if(n.otherConfigVer!=e){o.next=22;break}if(i=a.a.session("areaList")){o.next=20;break}return o.next=19,s.getCate();case 19:i=o.sent;case 20:o.next=25;break;case 22:return o.next=24,s.getCate();case 24:i=o.sent;case 25:return o.abrupt("return",i);case 26:case"end":return o.stop()}},o,s)}))()},getGoods:function(){var t=this;return d(regeneratorRuntime.mark(function e(){var s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=[],e.next=3,r.a.getGoodsList({data:{shopId:t.shopId,page:t.requestPage,num:t.requestNum,specification:1}});case 3:return o=e.sent,t.requestTotal=o.total,s=o.list,a.a.session("goodList",s),e.abrupt("return",s);case 8:case"end":return e.stop()}},e,t)}))()},getGoodsList:function(t,e){var s=this;return d(regeneratorRuntime.mark(function o(){var i,n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=null,!t){o.next=7;break}return o.next=4,s.getGoods();case 4:i=o.sent,o.next=25;break;case 7:if(n=a.a.session("httpGoodVersion")){o.next=14;break}return o.next=11,s.getGoods();case 11:i=o.sent,o.next=25;break;case 14:if(n.goodsConfigVer!=e){o.next=22;break}if(i=a.a.session("goodList")){o.next=20;break}return o.next=19,s.getGoods();case 19:i=o.sent;case 20:o.next=25;break;case 22:return o.next=24,s.getGoods();case 24:i=o.sent;case 25:return o.abrupt("return",i);case 26:case"end":return o.stop()}},o,s)}))()},importGoods:function(){var t=this;return d(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.importGoods({data:{shopId:t.shopId},timeout:6e4,formId:"form_import_good"});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}},e,t)}))()},exportGoodsList:function(){r.a.exportGoodsList()},getHttp:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a[t]({data:s});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}},o,e)}))()},syncRequest:function(){var t=this;return d(regeneratorRuntime.mark(function e(){var s,o,i,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getHttp("ShopGetExtra");case 2:return s=e.sent,e.next=5,t.getCategoryList(!1,s.otherConfigVer);case 5:return o=e.sent,e.next=8,t.getGoodsList(!1,s.goodsConfigVer);case 8:return i=e.sent,e.next=11,t.getHttp("InventoryGetlist");case 11:n=e.sent,r=n.list,o[0]&&-1!=o[0].id&&o.unshift({id:-1,name:"全部一级分类"}),t.numList=r,t.category=o,t.load=!0,t.allGoods=i,t.goodsList=t.initGoodsStock(i,t.numList),t.goodsList=t.deleteChildGoods(t.goodsList),t.goodsList=t.funSortGood(t.goodsList),t.selectOneArea(t.oneArea),a.a.session("httpGoodVersion",s);case 23:case"end":return e.stop()}},e,t)}))()},windowResize:function(){var t=this.$refs.addGoods.offsetWidth-10;this.listHeight=2*t/3},domClick:function(){(this.twoArea.show||this.oneArea.show)&&(this.showCom=""),this.twoArea.show=this.oneArea.show=!1}},beforeDestroy:function(){document.removeEventListener("click",this.domClick),window.removeEventListener("resize",this.windowResize)}},u=(s("4b6b"),s("7610")),h=Object(u.a)(l,o,i,!1,null,"6b84c54e",null);h.options.__file="src\\module\\goods_config\\details_con.vue";e.default=h.exports},"4b6b":function(t,e,s){"use strict";var o=s("69cf");s.n(o).a},"69cf":function(t,e,s){},b8bc:function(t,e,s){t.exports=s.p+"images/preloader.3e54c692.gif"},f518:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAvCAYAAABzJ5OsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAKxJREFUeNrs2LENgzAQhWE7ygAZgQ2yApsk9S1hGMJeB7ERGzhHh+w0EXdF0P8ky9IV8BVH8Yi11mCdUsqg1/s4E5HJ+j334JMdn5qZOf4W/jjgwYMHDx48ePDgwYMHD/7XxJxzV5aNOuyrmc0eBfxbWfZIYm2ugt/XZtOzGj/3oefZzFbzD9bpj9mo13KciUhkbcCDBw8ePHjw4MGDBw8e/MkC7hGPUt/lI8AAt9oYPL6CVYkAAAAASUVORK5CYII="}}]);