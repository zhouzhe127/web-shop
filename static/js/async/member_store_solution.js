(window.webpackJsonp=window.webpackJsonp||[]).push([["member_store_solution"],{"1f55":function(t,e,i){},"5d4b":function(t,e,i){"use strict";var s=i("1f55");i.n(s).a},"740b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"solutionStore"}},[i("p",{staticClass:"btn"},t._l(t.bannerList,function(e,s){return i("span",{key:s,staticClass:"store fl",class:{active:t.indexOn==s},on:{click:function(e){t.isFlag&&t.chooseBanner(s)}}},[t._v(t._s(e.name))])})),t._v(" "),0==t.indexOn?i("div",[i("div",{staticClass:"solutionSet"},[t._m(0),t._v(" "),i("ul",{staticClass:"setBox"},[i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft required"},[t._v("方案名")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"inp",attrs:{type:"text",placeholder:"请输入名称",maxlength:"10"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft required"},[t._v("排序")]),t._v(" "),i("section",{staticClass:"sortInp"},[i("subadd",{attrs:{bindnum:t.num,maxnum:255,minnum:1,sign:!1},on:{toClick:t.change}})],1)]),t._v(" "),i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft required"},[t._v("显示渠道")]),t._v(" "),i("div",{staticClass:"show"},[i("mulSelect",{key:"id",attrs:{list:t.ditchList,selects:t.selects,styles:{"background-color":"rgb(240,240,240)"},name:"name"}})],1)]),t._v(" "),t.flag&&"3"==t.ischain?i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft"},[t._v("储值适用门店")]),t._v(" "),i("a",{staticClass:"addclassify",attrs:{href:"javascript:void(0);"},on:{click:t.openshopWin}},[t._v("选择门店")]),t._v(" "),t.fixedslectsShopIds.length>0?i("span",{staticStyle:{color:"#A5A5A5"}},[t._v("已选择"+t._s(t.fixedslectsShopIds.length)+"家门店")]):t._e()]):t._e(),t._v(" "),i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft required"},[t._v("储值金额")]),t._v(" "),i("section",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.deposit,expression:"deposit"}],staticClass:"inp sum fl",attrs:{type:"text",placeholder:"请输入金额",onkeyup:"value=value.replace(/[^\\d\\.]/g,'')",maxlength:"6"},domProps:{value:t.deposit},on:{blur:function(e){t.formatValue("deposit")},input:function(e){e.target.composing||(t.deposit=e.target.value)}}}),t._v(" "),i("span",{staticClass:"fl unit"},[t._v("元")])])]),t._v(" "),i("li",{staticClass:"setItem",staticStyle:{"margin-bottom":"30px"}},[i("span",{staticClass:"itemLeft required"},[t._v("支付金额")]),t._v(" "),i("section",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.payment,expression:"payment"}],staticClass:"inp sum fl",attrs:{type:"text",placeholder:"请输入金额",onkeyup:"value=value.replace(/[^\\d\\.]/g,'')",maxlength:"6"},domProps:{value:t.payment},on:{blur:function(e){t.formatValue("payment")},input:function(e){e.target.composing||(t.payment=e.target.value)}}}),t._v(" "),i("span",{staticClass:"fl unit"},[t._v("元")])])])])]),t._v(" "),i("div",{staticClass:"freeContent"},[t._m(1),t._v(" "),i("ul",{staticClass:"setBox"},[i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft"},[t._v("赠送优惠券")]),t._v(" "),i("a",{staticClass:"addclassify",attrs:{href:"javascript:void(0);"},on:{click:t.openCouponWin}},[t._v("添加关联优惠券")]),t._v(" "),t.couponIds.length>=1?i("span",{staticStyle:{color:"#A5A5A5"}},[t._v("已关联"+t._s(t.couponIds.length)+"张优惠券")]):t._e()]),t._v(" "),i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft"},[t._v("赠送金额")]),t._v(" "),i("section",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.giftAmount,expression:"giftAmount"}],staticClass:"inp sum fl",attrs:{type:"text",placeholder:"请输入金额",onkeyup:"value=value.replace(/[^\\d\\.]/g,'')",maxlength:"6"},domProps:{value:t.giftAmount},on:{blur:function(e){t.formatValue("giftAmount")},input:function(e){e.target.composing||(t.giftAmount=e.target.value)}}}),t._v(" "),i("span",{staticClass:"fl unit"},[t._v("元")])])]),t._v(" "),i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft"},[t._v("赠送积分")]),t._v(" "),i("section",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.giftPoint,expression:"giftPoint"}],staticClass:"inp sum fl",attrs:{type:"text",placeholder:"请输入金额",onkeyup:"value=value.replace(/[^\\d]/g,'')",maxlength:"6"},domProps:{value:t.giftPoint},on:{input:function(e){e.target.composing||(t.giftPoint=e.target.value)}}}),t._v(" "),i("span",{staticClass:"fl unit"},[t._v("积分")])])])])])]):t._e(),t._v(" "),1==t.indexOn?i("div",[i("div",{staticClass:"solutionSet"},[t._m(2),t._v(" "),i("ul",{staticClass:"setBox"},[i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft required"},[t._v("方案名")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.defName,expression:"defName"}],staticClass:"inp",attrs:{type:"text",placeholder:"请输入名称",maxlength:"10"},domProps:{value:t.defName},on:{input:function(e){e.target.composing||(t.defName=e.target.value)}}})]),t._v(" "),"3"==t.ischain?i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft"},[t._v("储值适用门店")]),t._v(" "),i("a",{staticClass:"addclassify",attrs:{href:"javascript:void(0);"},on:{click:t.openshopWin}},[t._v("选择门店")]),t._v(" "),t.customslectsShopIds.length>0?i("span",{staticStyle:{color:"#A5A5A5"}},[t._v("已选择"+t._s(t.customslectsShopIds.length)+"家门店")]):t._e()]):t._e(),t._v(" "),i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft required"},[t._v("排序")]),t._v(" "),i("section",{staticClass:"sortInp"},[i("subadd",{attrs:{bindnum:t.defNum,maxnum:255,minnum:1,sign:!1},on:{toClick:t.changeDef}})],1)]),t._v(" "),i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft required"},[t._v("赠送条件")]),t._v(" "),i("div",{staticClass:"filtrate fl",on:{click:function(e){t.getClick()}}},[i("span",{staticClass:"extent"},[t._v(t._s(t.typeName))]),t._v(" "),t._m(3)]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.willShow,expression:"willShow"}],staticClass:"filtBox"},t._l(t.conditionList,function(e,s){return i("li",{key:s,on:{click:function(i){t.choseType(s,e)}}},[t._v(t._s(e.name))])}))]),t._v(" "),0==t.conditionOn?i("li",{staticClass:"setItem",staticStyle:{width:"800px","margin-bottom":"30px"}},[i("span",{staticClass:"itemLeft",staticStyle:{width:"9%"}}),t._v(" "),i("section",[i("span",{staticClass:"fl"},[t._v("当储值在")]),t._v(" "),i("div",{staticClass:"fl",staticStyle:{margin:"0 10px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.defDeposit,expression:"defDeposit"}],staticClass:"inp sum fl",staticStyle:{width:"135px"},attrs:{type:"text",placeholder:"请输入金额",onkeyup:"value=value.replace(/[^\\d\\.]/g,'')",maxlength:"6"},domProps:{value:t.defDeposit},on:{blur:function(e){t.formatValue("defDeposit")},input:function(e){e.target.composing||(t.defDeposit=e.target.value)}}}),t._v(" "),i("span",{staticClass:"fl unit"},[t._v("元")])]),t._v(" "),i("span",{staticClass:"fl"},[t._v("至")]),t._v(" "),i("div",{staticClass:"fl",staticStyle:{margin:"0 10px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.defPayment,expression:"defPayment"}],staticClass:"inp sum fl",staticStyle:{width:"135px"},attrs:{type:"text",placeholder:"请输入金额",onkeyup:"value=value.replace(/[^\\d\\.]/g,'')",maxlength:"6"},domProps:{value:t.defPayment},on:{blur:function(e){t.formatValue("defPayment")},input:function(e){e.target.composing||(t.defPayment=e.target.value)}}}),t._v(" "),i("span",{staticClass:"fl unit"},[t._v("元")])]),t._v(" "),i("span",[t._v("时，可赠送")])])]):t._e(),t._v(" "),1==t.conditionOn?i("li",{staticClass:"setItem",staticStyle:{width:"800px","margin-bottom":"30px"}},[i("span",{staticClass:"itemLeft",staticStyle:{width:"9%"}}),t._v(" "),i("section",[i("span",{staticClass:"fl",staticStyle:{"margin-right":"10px"}},[t._v("当储值金额")]),t._v(" "),i("div",{staticClass:"filtrate fl",on:{click:function(e){t.getRange()}}},[i("span",{staticClass:"extent",staticStyle:{width:"80px"}},[t._v(t._s(t.rangeName))]),t._v(" "),t._m(4)]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.rangeShow,expression:"rangeShow"}],staticClass:"filtBox",staticStyle:{width:"120px",position:"absolute",left:"170px"}},t._l(t.rangeList,function(e,s){return i("li",{key:s,on:{click:function(i){t.chooseRange(s,e)}}},[t._v(t._s(e.name))])})),t._v(" "),i("div",{staticClass:"fl",staticStyle:{margin:"0 10px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.defDeposit,expression:"defDeposit"}],staticClass:"inp sum fl",staticStyle:{width:"135px"},attrs:{type:"text",placeholder:"请输入金额",onkeyup:"value=value.replace(/[^\\d\\.]/g,'')",maxlength:"6"},domProps:{value:t.defDeposit},on:{blur:function(e){t.formatValue("defDeposit")},input:function(e){e.target.composing||(t.defDeposit=e.target.value)}}}),t._v(" "),i("span",{staticClass:"fl unit"},[t._v("元")])]),t._v(" "),i("span",[t._v("时，可赠送")])])]):t._e()])]),t._v(" "),i("div",{staticClass:"freeContent"},[t._m(5),t._v(" "),i("ul",{staticClass:"setBox"},[i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft"},[t._v("赠送金额")]),t._v(" "),t._l(t.presentList,function(e,s){return i("span",{key:s,staticClass:"freeFix",class:{presentActive:t.presentOn==s},staticStyle:{"margin-right":"14px"},on:{click:function(e){t.choosePresent(s)}}},[t._v(t._s(e.name))])})],2),t._v(" "),0==t.presentOn||1==t.presentOn?i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft"}),t._v(" "),i("section",[i("span",{staticClass:"fl"},[t._v("赠送")]),t._v(" "),i("div",{staticClass:"fl",staticStyle:{margin:"0 10px"}},[0==t.presentOn?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.defGiftAmount,expression:"defGiftAmount"}],staticClass:"inp sum fl",staticStyle:{width:"135px"},attrs:{type:"text",placeholder:"请输入金额",onkeyup:"value=value.replace(/[^\\d\\.]/g,'')",maxlength:"6"},domProps:{value:t.defGiftAmount},on:{blur:function(e){t.formatValue("defGiftAmount")},input:function(e){e.target.composing||(t.defGiftAmount=e.target.value)}}}),t._v(" "),i("span",{staticClass:"fl unit"},[t._v("元")])]:t._e(),t._v(" "),1==t.presentOn?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.defGiftAmount,expression:"defGiftAmount"}],staticClass:"inp sum fl",staticStyle:{width:"135px"},attrs:{type:"text",placeholder:"请输入比例",onkeyup:"value=value.replace(/[^\\d]/g,'')",maxlength:"4"},domProps:{value:t.defGiftAmount},on:{input:function(e){e.target.composing||(t.defGiftAmount=e.target.value)}}}),t._v(" "),i("span",{staticClass:"fl unit"},[t._v("%")])]:t._e()],2)])]):t._e(),t._v(" "),i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft"},[t._v("赠送积分")]),t._v(" "),t._l(t.integralList,function(e,s){return i("span",{key:s,staticClass:"freeFix",class:{presentActive:t.integralOn==s},staticStyle:{"margin-right":"14px"},on:{click:function(e){t.chooseIntegral(s)}}},[t._v(t._s(e.name))])})],2),t._v(" "),0==t.integralOn||1==t.integralOn?i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft"}),t._v(" "),i("section",[i("span",{staticClass:"fl"},[0==t.integralOn?[t._v("\n\t\t\t\t\t\t\t\t赠送积分为\n\t\t\t\t\t\t\t")]:t._e(),t._v(" "),1==t.integralOn?[t._v("\n\t\t\t\t\t\t\t\t赠送积分为固定金额的\n\t\t\t\t\t\t\t")]:t._e()],2),t._v(" "),i("div",{staticClass:"fl",staticStyle:{margin:"0 10px"}},[0==t.integralOn?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.defGiftPoint,expression:"defGiftPoint"}],staticClass:"inp sum fl",staticStyle:{width:"135px"},attrs:{type:"text",placeholder:"请输入金额",onkeyup:"value=value.replace(/[^\\d]/g,'')",maxlength:"6"},domProps:{value:t.defGiftPoint},on:{input:function(e){e.target.composing||(t.defGiftPoint=e.target.value)}}}),t._v(" "),i("span",{staticClass:"fl unit"},[t._v("分")])]:t._e(),t._v(" "),1==t.integralOn?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.defGiftPoint,expression:"defGiftPoint"}],staticClass:"inp sum fl",staticStyle:{width:"135px"},attrs:{type:"text",placeholder:"请输入比例",onkeyup:"value=value.replace(/[^\\d]/g,'')",maxlength:"4"},domProps:{value:t.defGiftPoint},on:{input:function(e){e.target.composing||(t.defGiftPoint=e.target.value)}}}),t._v(" "),i("span",{staticClass:"fl unit"},[t._v("%")])]:t._e()],2)])]):t._e()])])]):t._e(),t._v(" "),i("ul",{staticClass:"setBox",staticStyle:{"margin-top":"39px"}},[i("li",{staticClass:"setItem"},[i("span",{staticClass:"itemLeft"}),t._v(" "),i("section",{staticClass:"buttons"},[i("a",{staticClass:"gray",staticStyle:{width:"200px"},attrs:{href:"javascript:void(0);"},on:{click:t.backList}},[t._v("取消")]),t._v(" "),i("a",{staticClass:"blue",staticStyle:{width:"200px"},attrs:{href:"javascript:void(0);"},on:{click:t.creatStore}},[t._v("保存")])])])]),t._v(" "),t.show?i("coupon",{attrs:{couponIds:t.couponIds},on:{compareArr:t.ca,couponChange:t.couponChange,winEvent:t.winEvent}}):t._e(),t._v(" "),t.isShowShopWin?i("select-work-shop-win",{attrs:{slectsShopIds:t.slectsShopIds,isEdit:t.isEdit},on:{closeWin:t.closeShopWin}}):t._e()],1)};s._withStripped=!0;var n=i("f6ce"),a=i("05dd"),o=i("81a2"),l=i("bbb9");var c={data:function(){return{ischain:"",bannerList:[{name:"固定方案"},{name:"自定义方案"}],indexOn:0,isFlag:!0,num:1,defNum:1,presentList:[{name:"赠送固定储值金额"},{name:"按比例赠送储值金额"}],presentOn:"-1",integralList:[{name:"赠送固定积分"},{name:"按比例赠送积分"}],integralOn:"-1",conditionList:[{name:"满足储值区间可赠送",index:0},{name:"满足储值条件可赠送",index:1}],conditionOn:0,typeName:"满足储值区间可赠送",willShow:!1,ditchList:[{id:1,name:"微信"},{id:2,name:"POS收银"}],ditchOn:"-1",selects:[],rangeList:[{name:"等于",value:"1"},{name:"大于等于",value:"3"},{name:"小于等于",value:"4"}],rangeShow:!1,rangeName:"等于",rangeOn:0,id:"",name:"",defName:"",sort:"",channel:"",defChannel:"",deposit:"",defDeposit:"",payment:"",defPayment:"",giftAmount:"",defGiftAmount:"",giftPoint:"",defGiftPoint:"",type:"",giftAmountRule:"",giftPointRule:"",depositRule:"",couponIds:[],compareArr:[],editdetail:"",show:!1,slectsShopIds:[],customslectsShopIds:[],fixedslectsShopIds:[],isShowShopWin:!1,isEdit:!1,flag:!1}},watch:{selects:function(){this.flag=!1;var t=!0,e=!1,i=void 0;try{for(var s,n=this.selects[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){if("2"==s.value){this.flag=!0;break}}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}}},components:{subadd:function(){return i.e("subadd").then(i.bind(null,"e7ea"))},mulSelect:function(){return i.e("mul_select").then(i.bind(null,"7d09"))},coupon:function(){return i.e("member_store_coupon").then(i.bind(null,"b9aa"))},"select-work-shop-win":function(){return i.e("select_work_shop_win").then(i.bind(null,"4a42"))}},mounted:function(){var t=this;this.$store.commit("setPageTools",{back:function(){t.backList()}}),this.ischain=n.a.session("userShop").currentShop.ischain,this.editdetail=n.a.session("editdetail"),this.editdetail&&(this.editDetail(),this.isFlag=!this.isFlag)},beforeDestroy:function(){n.a.session("editdetail",null)},methods:{openshopWin:function(){this.isShowShopWin=!0,0==this.indexOn?this.slectsShopIds=this.fixedslectsShopIds:1==this.indexOn&&(this.slectsShopIds=this.customslectsShopIds)},closeShopWin:function(t){this.isShowShopWin=!1,t&&(0==this.indexOn?this.fixedslectsShopIds=t:1==this.indexOn&&(this.customslectsShopIds=t))},couponChange:function(t){this.couponIds=t.selectList},winEvent:function(){this.show=!1},ca:function(t){this.compareArr=t},changeDef:function(t){this.defNum=t},change:function(t){this.num=t},chooseBanner:function(t){this.indexOn=t},choosePresent:function(t){this.presentOn==t?(this.presentOn="-1",this.defGiftAmount="",this.giftAmountRule=""):(this.presentOn=t,this.giftAmountRule=this.presentOn+1)},chooseIntegral:function(t){this.integralOn==t?(this.integralOn="-1",this.defGiftPoint="",this.giftPointRule=""):(this.integralOn=t,this.giftPointRule=this.integralOn+1)},chooseDitch:function(t){this.selects=t,this.channel=this.selects},chooseRange:function(t,e){this.rangeOn=t,this.rangeName=e.name,this.rangeShow=!1,this.depositRule=e.value},getClick:function(){1==this.willShow?this.willShow=!1:this.willShow=!0},getRange:function(){1==this.rangeShow?this.rangeShow=!1:this.rangeShow=!0},choseType:function(t,e){this.conditionOn=t,this.typeName=e.name,this.willShow=!1},backList:function(){this.$router.push("/admin/memberStoredValueScheme")},openCouponWin:function(){this.show=!0},creatStore:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.channel=e.selects.toString().replace(",",""),e.type=e.indexOn+1,1!=e.type){t.next=9;break}if(e.giftAmountRule="",e.giftPointRule="",e.depositRule="",e.slectsShopIds=e.flag?e.fixedslectsShopIds:[],a.a.checkData({name:"请填写方案名",channel:"请选择显示渠道",deposit:{cond:"$$!=''&&!isNaN($$)",pro:"请正确填写储值金额"},payment:{cond:"$$!=''&&!isNaN($$)",pro:"请正确填写支付金额"}},e)){t.next=9;break}return t.abrupt("return",!1);case 9:if(2!=e.type){t.next=37;break}if(e.defChannel=2,e.name=e.defName,e.num=e.defNum,e.channel=e.defChannel,e.deposit=e.defDeposit,e.payment=e.defPayment,e.giftAmount=e.defGiftAmount,e.giftPoint=e.defGiftPoint,e.slectsShopIds=e.customslectsShopIds,0!=e.presentOn&&1!=e.presentOn){t.next=23;break}if(""!=e.giftAmount){t.next=23;break}return e.$store.commit("setWin",{content:"请填写赠送金额"}),t.abrupt("return",!1);case 23:if(""!=e.defName){t.next=26;break}return e.$store.commit("setWin",{content:"请填写自定义方案名"}),t.abrupt("return",!1);case 26:if(0!=e.conditionOn){t.next=34;break}if(e.depositRule=2,a.a.checkData({defDeposit:{cond:"$$!=''&&!isNaN($$)",pro:"请正确填写自定义赠送条件起始金额"},defPayment:{cond:"$$!=''&&!isNaN($$)",pro:"请正确填写自定义赠送条件结束金额"}},e)){t.next=30;break}return t.abrupt("return",!1);case 30:if(2!=e.depositRule){t.next=34;break}if(!(Number(e.defDeposit)-Number(e.defPayment)>0)){t.next=34;break}return e.$store.commit("setWin",{content:"请正确填写储值金额区间"}),t.abrupt("return",!1);case 34:if(1!=e.conditionOn){t.next=37;break}if(a.a.checkData({defDeposit:{cond:"$$!=''&&!isNaN($$)",pro:"请正确填写自定义赠送条件起始金额"}},e)){t.next=37;break}return t.abrupt("return",!1);case 37:if(0!=e.presentOn||2!=e.type){t.next=41;break}if(0!=e.defGiftAmount){t.next=41;break}return e.$store.commit("setWin",{content:"请输入大于0的赠送金额"}),t.abrupt("return",!1);case 41:if(1!=e.presentOn||2!=e.type){t.next=48;break}if(0!=e.defGiftAmount){t.next=45;break}return e.$store.commit("setWin",{content:"请输入大于0的赠送金额比例"}),t.abrupt("return",!1);case 45:if(!(Number(e.defGiftAmount)>1e3)){t.next=48;break}return e.$store.commit("setWin",{content:"请输入小于1000的赠送金额比例"}),t.abrupt("return",!1);case 48:if(0!=e.integralOn||2!=e.type){t.next=52;break}if(0!=e.defGiftPoint){t.next=52;break}return e.$store.commit("setWin",{content:"请输入大于0的赠送积分"}),t.abrupt("return",!1);case 52:if(1!=e.integralOn||2!=e.type){t.next=59;break}if(0!=e.defGiftPoint){t.next=56;break}return e.$store.commit("setWin",{content:"请输入大于0的赠送积分比例"}),t.abrupt("return",!1);case 56:if(!(Number(e.defGiftPoint)>1e3)){t.next=59;break}return e.$store.commit("setWin",{content:"请输入小于1000的赠送积分比例"}),t.abrupt("return",!1);case 59:return i=null==e.editdetail?"depositPlan/create":"depositPlan/edit",t.next=62,o.a.depositPlan({data:{id:e.id?e.id:"",name:e.name,sort:e.num,channel:e.channel,deposit:e.deposit,payment:e.payment,giftAmount:e.giftAmount,giftPoint:e.giftPoint,type:e.type,giftAmountRule:e.giftAmountRule,giftPointRule:e.giftPointRule,depositRule:""==e.depositRule?1:e.depositRule,couponIds:JSON.stringify(e.couponIds),shopId:n.a.session("shopId"),depositShopIds:e.slectsShopIds.join(",")},url:a.a.host.wx+i});case 62:e.$store.commit("setWin",{content:"创建成功",callback:function(){e.backList()}});case 63:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function s(n,a){try{var o=e[n](a),l=o.value}catch(t){return void i(t)}if(!o.done)return Promise.resolve(l).then(function(t){s("next",t)},function(t){s("throw",t)});t(l)}("next")})})()},editDetail:function(){this.indexOn=this.editdetail.type-1,this.type=this.editdetail.type,this.name=this.editdetail.name,this.id=this.editdetail.id,this.num=this.editdetail.sort,this.channel=this.editdetail.channel,this.channel=parseInt(this.channel);for(var t=this.editdetail.channel.split(""),e=new Array,i=0;i<t.length;i++)e[i]=Number(t[i]);t=e,this.selects=t,this.deposit=this.editdetail.deposit,this.payment=this.editdetail.payment,this.giftAmount=this.editdetail.giftAmount,this.giftPoint=this.editdetail.giftPoint,this.editdetail.couponIds&&(this.couponIds=JSON.parse(this.editdetail.couponIds)),""!=this.editdetail.depositShopIds&&(this.fixedslectsShopIds=this.editdetail.depositShopIds.split(",")),2==this.editdetail.type&&(this.defName=this.editdetail.name,this.defNum=this.editdetail.sort,this.defChannel=this.editdetail.channel,this.defDeposit=this.editdetail.deposit,this.defPayment=this.editdetail.payment,this.giftAmountRule=this.editdetail.giftAmountRule,this.editdetail.giftAmountRule&&(this.presentOn=this.editdetail.giftAmountRule-1,0==this.editdetail.giftAmount?(this.defGiftAmount="",this.presentOn="-1"):this.defGiftAmount=this.editdetail.giftAmount),""!=this.editdetail.depositShopIds&&(this.customslectsShopIds=this.editdetail.depositShopIds.split(",")),this.giftPointRule=this.editdetail.giftPointRule,this.editdetail.giftPointRule&&(this.integralOn=this.editdetail.giftPointRule-1,0==this.editdetail.giftPoint?this.defGiftPoint="":this.defGiftPoint=this.editdetail.giftPoint),this.depositRule=this.editdetail.depositRule,2==this.editdetail.depositRule?(this.conditionOn=0,this.typeName="满足储值区间可赠送"):(this.conditionOn=1,this.typeName="满足储值条件可赠送",1==this.editdetail.depositRule?this.rangeName="等于":3==this.editdetail.depositRule?this.rangeName="大于等于":4==this.editdetail.depositRule&&(this.rangeName="小于等于")))},formatValue:function(t){this[t]=l.a.toFloatStr(this[t],2)}}},r=(i("5d4b"),i("7610")),d=Object(r.a)(c,s,[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"headLine"},[this._v("方案设置\n\t\t\t\t"),e("span",{staticClass:"borderLine"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"headLine"},[this._v("赠送内容\n\t\t\t\t"),e("span",{staticClass:"borderLine"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"headLine"},[this._v("方案设置\n\t\t\t\t"),e("span",{staticClass:"borderLine"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{float:"right"}},[e("i")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{float:"right"}},[e("i")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"headLine"},[this._v("赠送内容\n\t\t\t\t"),e("span",{staticClass:"borderLine"})])}],!1,null,"d750ccd0",null);d.options.__file="src\\module\\marketing_tools\\member_store_solution.vue";e.default=d.exports}}]);