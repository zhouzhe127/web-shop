(window.webpackJsonp=window.webpackJsonp||[]).push([["enter_goods_batch"],{"500a6":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("win",{attrs:{align:"center",width:1024,height:450,ok:t.btnOk},on:{winEvent:t.closeSelfWin}},[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.title))]),t._v(" "),i("div",{attrs:{slot:"content",id:"select-batch"},slot:"content"},[0==t.type?[i("div",{staticClass:"batch-title"},[i("li",[t._v("商品名称："+t._s(t.goods.name))]),t._v(" "),i("li",[t._v("单位："+t._s(t.goods.unit))]),t._v(" "),i("li",[i("span",{staticClass:"clear",on:{click:t.clearInput}},[t._v("清空输入")])])])]:t._e(),t._v(" "),1==t.type?[i("div",{staticClass:"batch-title"},[i("li",[t._v("物料名称："+t._s(t.material.name))]),t._v(" "),i("li",[t._v("单位："+t._s(t.material.unit))]),t._v(" "),i("li",[i("span",{staticClass:"clear",on:{click:t.clearInput}},[t._v("清空输入")])])])]:t._e(),t._v(" "),i("div",{staticClass:"table"},[i("div",{staticClass:"table-head"},[i("li",[t._v("序号")]),t._v(" "),i("li",[t._v("批次编号")]),t._v(" "),i("li",[t._v("生产日期")]),t._v(" "),i("li",[t._v("供应商")]),t._v(" "),i("li",[t._v("出库数量")]),t._v(" "),i("li",[t._v("所属仓库")]),t._v(" "),i("li",[t._v("入货数量")]),t._v(" "),i("li",[t._v("耗损数量")])]),t._v(" "),i("div",{staticClass:"table-body"},t._l(t.allList,function(e,s){return i("div",{key:s,staticClass:"table-row"},[i("li",[t._v(t._s(s+1))]),t._v(" "),i("li",[t._v(t._s(e.batchCode))]),t._v(" "),i("li",[t._v(t._s(t.getTime(e.productionTime)))]),t._v(" "),i("li",[t._v(t._s(e.supplier))]),t._v(" "),0==t.type?i("li",[t._v(t._s(e.numShow)+t._s(t.goods.unit))]):t._e(),t._v(" "),1==t.type?i("li",[t._v(t._s(e.numShow)+t._s(t.material.unit))]):t._e(),t._v(" "),i("li",[t._v(t._s(e.wName||"暂无")+"-"+t._s(e.aName||"暂无"))]),t._v(" "),i("li",{staticClass:"unit-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.intoNum,expression:"item.intoNum"}],staticClass:"input-num",attrs:{type:"text",placeholder:"输入数字"},domProps:{value:e.intoNum},on:{input:function(i){i.target.composing||t.$set(e,"intoNum",i.target.value)}}})]),t._v(" "),i("li",{staticClass:"unit-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.consumeNum,expression:"item.consumeNum"}],staticClass:"input-num",attrs:{type:"text",placeholder:"输入数字"},domProps:{value:e.consumeNum},on:{input:function(i){i.target.composing||t.$set(e,"consumeNum",i.target.value)}}})])])}))])],2)])};s._withStripped=!0;var n=i("bbb9"),a={data:function(){return{title:"批次选择",btnOk:{},btnCancel:{},cate:"",allList:"",selList:"",batchNum:"",supplier:""}},props:["goods","material","selGoods","selMat","type"],watch:{type:"init"},methods:{init:function(){if(0==this.type){if(this.allList=this.selGoods.length?n.a.deepCopy(this.selGoods):n.a.deepCopy(this.goods.batchInfo),!this.selGoods.length){var t=!0,e=!1,i=void 0;try{for(var s,a=this.allList[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var o=s.value;o.intoNum="",o.consumeNum=""}}catch(t){e=!0,i=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw i}}}}else if(1==this.type&&(this.allList=this.selMat.length?n.a.deepCopy(this.selMat):n.a.deepCopy(this.material.batchInfo),!this.selMat.length)){var r=!0,l=!1,u=void 0;try{for(var c,v=this.allList[Symbol.iterator]();!(r=(c=v.next()).done);r=!0){var _=c.value;_.intoNum="",_.consumeNum=""}}catch(t){l=!0,u=t}finally{try{!r&&v.return&&v.return()}finally{if(l)throw u}}}},clearInput:function(){var t=n.a.deepCopy(this.allList),e=!0,i=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var r=a.value;r.intoNum="",r.consumeNum=""}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}this.allList=t},chooseTime:function(){this.showTime=!this.showTime},transFormDate:function(t){return n.a.format(new Date(t),"yyyy-MM-dd")},getReturnInfo:function(t){this.startTime=t.startTime,this.endTime=t.endTime,this.showTime=!1},closeSelfWin:function(t){var e="goods";if(0==this.type?e="goods":1==this.type&&(e="mat"),"ok"==t){var i=!0,s=!1,n=void 0;try{for(var a,o=this.allList[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var r=a.value;if(Number(r.intoNum)+Number(r.consumeNum)>r.num)return void this.$store.commit("setWin",{title:"操作提示",content:"批次编号:"+r.batchCode+",剩余可入货数量不足"})}}catch(t){s=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}this.$emit(e,t,this.allList)}else this.$emit(e,t)},initBtn:function(){this.btnOk={content:"确定",style:"background-color:#ff9200;"}},reset:function(){this.supplier="",this.batchNum="",this.startTime=(new Date).setHours(0,0,0,0),this.endTime=(new Date).getTime(),this.changeList=this.allList},getTime:function(t){return n.a.format(1e3*parseInt(t),"yyyy年MM月dd日")}},mounted:function(){this.initBtn(),this.init()},components:{win:function(){return i.e("win").then(i.bind(null,"f60a"))},canMulti:function(){return i.e("can_multi").then(i.bind(null,"742e"))}}},o=(i("9ee9"),i("7610")),r=Object(o.a)(a,s,[],!1,null,"1f7205fd",null);r.options.__file="src\\module\\invoicing_system\\warehouse_manage\\enter_goods_batch.vue";e.default=r.exports},5722:function(t,e,i){},"9ee9":function(t,e,i){"use strict";var s=i("5722");i.n(s).a},d2b4:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("win",{attrs:{align:"center",type:"alert",width:600,height:"auto",ok:{style:{backgroundColor:"#f8941f"},content:"确定"}},on:{winEvent:t.winEvent}},[i("span",{attrs:{slot:"title"},slot:"title"},[t._v("无法匹配")]),t._v(" "),i("div",{attrs:{slot:"content",id:"enter-goods-error"},slot:"content"},[i("div",{staticClass:"tab"},[i("span",{class:{active:1==t.errorType},on:{click:function(e){t.errorType=1}}},[t._v("商品")]),t._v(" "),i("span",{class:{active:2==t.errorType},on:{click:function(e){t.errorType=2}}},[t._v("物料")])]),t._v(" "),1==t.errorType?i("div",{staticClass:"list"},[i("div",{staticClass:"title"},[i("span",[t._v("序号")]),t._v(" "),i("span",[t._v("商品名称")]),t._v(" "),i("span",[t._v("条码")]),t._v(" "),i("span",[t._v("原因")])]),t._v(" "),i("ul",[t._l(t.goodsList,function(e,s){return i("li",{key:s},[i("span",[t._v(t._s(s+1))]),t._v(" "),i("span",{attrs:{title:e.itemName}},[t._v(t._s(e.itemName))]),t._v(" "),i("span",[t._v(t._s(e.barCode))]),t._v(" "),i("span",[t._v(t._s(e.reason))])])}),t._v(" "),i("li",{staticClass:"empty"},[t._v("- 暂无条目 -")])],2)]):t._e(),t._v(" "),2==t.errorType?i("div",{staticClass:"list material"},[i("div",{staticClass:"title"},[i("span",[t._v("序号")]),t._v(" "),i("span",[t._v("物料名称")]),t._v(" "),i("span",[t._v("原因")])]),t._v(" "),i("ul",[t._l(t.matList,function(e,s){return i("li",{key:s},[i("span",[t._v(t._s(s+1))]),t._v(" "),i("span",{attrs:{title:e.name}},[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v(t._s(e.reason))])])}),t._v(" "),i("li",{staticClass:"empty"},[t._v("- 暂无条目 -")])],2)]):t._e()])])};s._withStripped=!0;var n={data:function(){return{errorType:1,goodsList:[],matList:[]}},props:["errorList"],methods:{winEvent:function(t){this.$emit("errorEmit",t)},initData:function(){this.goodsList=this.errorList.goods,this.matList=this.errorList.material,!this.goodsList.length&&this.matList.length&&(this.errorType=2)}},mounted:function(){this.initData()},components:{win:function(){return i.e("win").then(i.bind(null,"f60a"))}}},a=(i("f322"),i("7610")),o=Object(a.a)(n,s,[],!1,null,"6d6de9cb",null);o.options.__file="src\\module\\invoicing_system\\warehouse_manage\\enter_goods_error.vue";e.default=o.exports},f322:function(t,e,i){"use strict";var s=i("fff6");i.n(s).a},fff6:function(t,e,i){}}]);