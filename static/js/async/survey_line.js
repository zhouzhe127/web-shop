(window.webpackJsonp=window.webpackJsonp||[]).push([["survey_line"],{2553:function(t,e,i){"use strict";var a=i("51c7");i.n(a).a},"51c7":function(t,e,i){},"631c":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"line"},[i("div",{staticClass:"head"},[i("span",{staticClass:"name"},[t._v("营业趋势")]),t._v(" "),i("div",{staticClass:"tab"},[i("ul",{staticClass:"select-ban",on:{click:t.tabBtn}},t._l(t.tabList,function(e,a){return i("li",{key:a,class:{active:t.tabIndex==a},attrs:{"data-index":a}},[t._v(t._s(e.name))])}))])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"chart-select select-ban"},t._l(t.checkList,function(e,a){return i("div",{key:a,staticClass:"check-div",class:[{active:t.lineSelect[e.name]},e.className],attrs:{"data-index":a},on:{click:t.chartSelect}},[i("i"),t._v(t._s(e.name))])}))])};a._withStripped=!0;var s={props:["line","echarts"],data:function(){return{dataLine:{xAxis:{business:[],amount:[],orderNumber:[],discount:[]},total:{business:[],amount:[],orderNumber:[],discount:[]},eatIn:{business:[],amount:[],orderNumber:[],discount:[]},takeOut:{business:[],amount:[],orderNumber:[],discount:[]},quickPayment:{business:[],amount:[],orderNumber:[],discount:[]}},tabList:[{type:"business",name:"营业总额"},{type:"discount",name:"优惠总额"},{type:"amount",name:"入账金额"},{type:"orderNumber",name:"订单量"}],checkList:[{name:"总值",className:"total",color:"#ff9800"},{name:"堂吃",className:"eatIn",color:"#fcd030"},{name:"外卖",className:"takeOut",color:"#1b88ee"},{name:"快捷支付",className:"quickPayment",color:"#a16bff"}],xName:"日期",yNameLine:["营业总额","优惠总额","入账金额","订单量"],yNameIndexLine:0,tabIndex:0,lineType:"business",options:["日","周","月","季度","年"],lineDom:null,lineSelect:{"总值":!0,"堂吃":!0,"外卖":!0,"快捷支付":!0},coverShow:!1,seriesData:[]}},watch:{line:"analytic",cover:"setCover",echarts:"initEchart"},components:{},mounted:function(){this.echarts&&this.initEchart(),this.analytic()},methods:{initEchart:function(){this.lineDom=this.echarts.init(document.getElementById("line-charts")),this.lineDom.setOption(this.getLineData(this.dataLine,this.lineType))},setCover:function(){this.coverShow=this.cover},analytic:function(){var t=this.line;for(var e in t)for(var i in t[e]){this.dataLine.xAxis[i]=[],this.dataLine[e][i]=[];var a=[],s=[];for(var n in t[e][i]){s.push(t[e][i][n]);var r=n.split("");r.length>6&&r.splice(6,0,"-"),r.splice(4,0,"-"),n=r.join(""),a.push(n)}this.dataLine.xAxis[i]=a,this.dataLine[e][i]=s}this.echarts&&(this.setLineListData(this.dataLine,this.lineType),this.lineDom.setOption(this.getLineData(this.dataLine,this.lineType)))},tabBtn:function(){var t=event.target;if("li"==t.tagName.toLocaleLowerCase()){var e=parseInt(t.getAttribute("data-index"));this.tabIndex=e,this.lineType=this.tabList[e].type,this.yNameIndexLine=e,this.setLineListData(this.dataLine,this.lineType),this.lineDom.setOption(this.getLineData(this.dataLine,this.lineType))}},chartSelect:function(t){var e=t.currentTarget,i=parseInt(e.getAttribute("data-index")),a=this.checkList[i].name;this.lineSelect[a]=!this.lineSelect[a],this.setLineListData(this.dataLine,this.lineType),this.lineDom.setOption(this.getLineData(this.dataLine,this.lineType))},setLineListData:function(t,e){var i=[],a=!0,s=!1,n=void 0;try{for(var r,c=this.checkList[Symbol.iterator]();!(a=(r=c.next()).done);a=!0){var o=r.value,l={name:o.name,type:"line",animation:!0,yAxisIndex:0,lineStyle:{normal:{width:2,color:o.color}},itemStyle:{normal:{color:o.color}},data:t[o.className][e]};i.push(l)}}catch(t){s=!0,n=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw n}}this.seriesData=i},getLineData:function(t,e){return{legend:{selected:this.lineSelect},grid:{top:30,left:80,right:50,bottom:30},tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,label:{backgroundColor:"#505765"}}},xAxis:[{name:this.xName,type:"category",boundaryGap:!1,axisLine:{onZero:!1},data:t.xAxis[e]}],yAxis:[{name:this.yNameLine[this.yNameIndexLine],type:"value",splitNumber:3,axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"#EDEDED",width:1}}}],series:this.seriesData}}}},n=(i("2553"),i("7610")),r=Object(n.a)(s,a,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chart-box"},[e("div",{attrs:{id:"line-charts"}})])}],!1,null,"802b633c",null);r.options.__file="src\\module\\home_page\\survey_line.vue";e.default=r.exports}}]);