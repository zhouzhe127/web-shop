(window.webpackJsonp=window.webpackJsonp||[]).push([["activity_custom_vip"],{"169e":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"addVip"}},[i("Win",{attrs:{width:950,height:500},on:{winEvent:t.winEvent}},[i("section",{staticStyle:{padding:"50px 50px","min-width":"900px"},attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"vip-left"},[i("div",{staticClass:"vip-filter"},[i("span",{staticClass:"vip-name"},[t._v("注册日期")]),t._v(" "),i("div",{staticStyle:{position:"relative",width:"300px",display:"inline-block","vertical-align":"top",height:"40px"}},[i("div",{staticStyle:{display:"inline-block",border:"1px solid #b3b3b3",width:"300px",height:"40px","line-height":"40px",cursor:"pointer"},on:{click:t.showCalendar}},[t.loginTime?i("span",{staticStyle:{"border-right":"1px solid #b3b3b3",display:"inline-block",float:"left","text-align":"center",width:"255px",height:"40px"}},[t._v(t._s(t.start)+" ---- "+t._s(t.end))]):i("span",{staticStyle:{"border-right":"1px solid #b3b3b3",display:"inline-block",float:"left","text-align":"center",width:"255px",height:"40px"}},[t._v("注册日期")]),t._v(" "),i("span",{staticClass:"down",staticStyle:{right:"18px"}})]),t._v(" "),t.show?i("canMulti",{attrs:{starttime:t.atime,endtime:t.btime},on:{castTime:t.castTime}}):t._e()],1)]),t._v(" "),i("div",{staticClass:"vip-filter"},[i("span",{staticClass:"vip-name"},[t._v("性别")]),t._v(" "),i("mulSelect",{key:"id",attrs:{styles:{"background-color":"rgb(240,240,240)"},list:t.sexList,selects:t.sexIndex,name:"name",isradio:!0},on:{selOn:t.selOn}})],1),t._v(" "),i("div",{staticClass:"vip-filter vip-age"},[i("span",{staticClass:"vip-name"},[t._v("年龄")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.ageone,expression:"ageone"}],attrs:{type:"text",placeholder:"开始年龄"},domProps:{value:t.ageone},on:{input:function(e){e.target.composing||(t.ageone=e.target.value)}}}),t._v(" "),i("span",{staticStyle:{margin:"0 40px"}},[t._v("至")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.agetwo,expression:"agetwo"}],attrs:{type:"text",placeholder:"结束年龄"},domProps:{value:t.agetwo},on:{input:function(e){e.target.composing||(t.agetwo=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"vip-filter vip-phone"},[i("span",{staticClass:"vip-name"},[t._v("手机号")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.telephone,expression:"telephone"}],attrs:{type:"text",placeholder:"请输入电话号码",maxlength:"11"},domProps:{value:t.telephone},on:{input:function(e){e.target.composing||(t.telephone=e.target.value)}}})]),t._v(" "),i("div",{staticStyle:{"margin-top":"30px","margin-left":"60px"}},[i("a",{staticClass:"gray",attrs:{href:"javascript:void(0);"},on:{click:t.vipReset}},[t._v("重置")]),t._v(" "),i("a",{staticClass:"yellow",attrs:{href:"javascript:void(0);"},on:{click:t.vipFilter}},[t._v("筛选")])])]),t._v(" "),i("div",{staticClass:"vip-right"},[i("p",[t._v("共关联出")]),t._v(" "),i("p",[t._v(t._s(t.member)+"位")]),t._v(" "),i("p",[t._v("会员")])])])])],1)};n._withStripped=!0;var a=i("bbb9"),s=i("81a2");var r={data:function(){return{index:0,selectvips:[],goodsCom:[],sexList:[{name:"不限",id:"0"},{name:"男",id:"1"},{name:"女",id:"2"}],loginTime:"",sexIndex:["0"],startAge:"",endAge:"",phone:"",member:0,startBirth:"",endBirth:"",memfilter:"",atime:(new Date).getTime(),btime:(new Date).getTime(),createTime:[],show:!1}},methods:{selOn:function(t){this.sexIndex=t},castTime:function(t){this.show=!1;var e=t.startTime,i=t.endTime;this.atime=e,this.btime=i,this.loginTime=!0},winEvent:function(t){var e={status:t};"ok"==t&&(e.data={member:this.member,memfilter:this.memfilter,sexIndex:this.sexIndex,startAge:this.startAge,endAge:this.endAge,phone:this.phone,atimevip:this.atime,btimevip:this.btime}),this.$emit("selectVip",e)},showCalendar:function(){this.show=!this.show},vipFilter:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var i,n,r,o,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.startAge&&(i=new Date,n=i.getFullYear()-e.startAge,i.setFullYear(n,1),i.setMonth((new Date).getMonth()),e.startBirth=a.a.format(i,"yyyy-MM-dd")),""!=e.endAge&&(r=new Date,o=r.getFullYear()-e.endAge,r.setFullYear(o,1),r.setMonth((new Date).getMonth()),e.endBirth=a.a.format(r,"yyyy-MM-dd")),console.log(e.startBirth),/^[0-9]*$/.test(e.phone)){t.next=7;break}return e.$store.commit("setWin",{content:"手机号输入有误"}),t.abrupt("return",!0);case 7:return e.loginTime?e.memfilter=JSON.stringify({startTime:e.atime/1e3,endTime:e.btime/1e3,gender:e.sexIndex[0],startBirthday:e.endBirth,endBirthday:e.startBirth,mobile:e.phone}):e.memfilter=JSON.stringify({startTime:"",endTime:"",gender:e.sexIndex[0],startBirthday:e.endBirth,endBirthday:e.startBirth,mobile:e.phone}),t.next=10,s.a.getMemberNum({data:{memberId:e.memfilter}});case 10:l=t.sent,e.member=l;case 12:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function n(a,s){try{var r=e[a](s),o=r.value}catch(t){return void i(t)}if(!r.done)return Promise.resolve(o).then(function(t){n("next",t)},function(t){n("throw",t)});t(o)}("next")})})()},vipReset:function(){this.atime=(new Date).getTime(),this.btime=(new Date).getTime(),this.show=!1,this.sexIndex=["0"],this.startAge="",this.endAge="",this.phone=""}},computed:{start:{get:function(){return a.a.format(this.atime,"yyyy-MM-dd")}},end:{get:function(){return a.a.format(this.btime,"yyyy-MM-dd")}},ageone:{get:function(){return this.startAge},set:function(t){this.startAge=""!=t?parseInt(t):""}},agetwo:{get:function(){return this.endAge},set:function(t){this.endAge=""!=t?parseInt(t):""}},telephone:{get:function(){return this.phone},set:function(t){this.phone=""!=t?parseInt(t):""}}},components:{canMulti:function(){return i.e("can_multi").then(i.bind(null,"742e"))},Win:function(){return i.e("win").then(i.bind(null,"f60a"))},mulSelect:function(){return i.e("mul_select").then(i.bind(null,"7d09"))}}},o=(i("1987"),i("7610")),l=Object(o.a)(r,n,[],!1,null,"5609218a",null);l.options.__file="src\\module\\marketing_tools\\activity_custom_vip.vue";e.default=l.exports},1987:function(t,e,i){"use strict";var n=i("8228");i.n(n).a},8228:function(t,e,i){}}]);