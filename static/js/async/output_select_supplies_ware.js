(window.webpackJsonp=window.webpackJsonp||[]).push([["output_select_supplies_ware"],{"09f6":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"output-select-goods"}},[t._m(0),t._v(" "),i("div",[i("div",{staticClass:"table-select"},[i("div",{staticClass:"select-title"},[t._v("\n\t\t\t\t货品信息\n\t\t\t\t"),i("span",{staticClass:"circle"}),t._v(" 共\n\t\t\t\t"),i("span",{staticClass:"select-num"},[t._v(t._s(t.sleList.length))]),t._v(" 个条目\n\t\t\t\t"),i("a",{staticClass:"packUp",on:{click:function(e){t.show=!t.show}}},[t._v("\n\t\t\t\t\t"+t._s(t.show?"收起":"展开")+"\n\t\t\t\t")])]),t._v(" "),i("div",{staticClass:"select-body"},[t._m(1),t._v(" "),t._l(t.sleList,function(e,s){return t.show?i("div",{key:s,staticClass:"select-item"},[i("div",{staticClass:"select-row"},[i("li",{staticStyle:{color:"#ff3c04"},on:{click:function(i){t.delList(e,s)}}},[t._v("删除")]),t._v(" "),i("li",s<9?[t._v(t._s("0"+(s+1)))]:[t._v(t._s(s+1+10*(t.page-1)))]),t._v(" "),i("li",[t._v(t._s(e.name))]),t._v(" "),i("li",[t._v(t._s(t.tebData[e.type]))]),t._v(" "),i("li",[t._v(t._s(t.getString(e.cate,"name")))]),t._v(" "),i("li",[t._v(t._s(t.setUnit(e.surplus,e.unit)))]),t._v(" "),i("li",[t._v(t._s(e.batch))])])]):t._e()}),t._v(" "),0==t.sleList.length?i("div",{attrs:{id:"emptyData"}},[t._v("-----暂无条目-----")]):t._e()],2)]),t._v(" "),i("div",{staticClass:"search-module"},[i("div",{staticClass:"inline-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.mName,expression:"mName"}],staticClass:"search-input",attrs:{type:"text",placeholder:"请输入物料名称"},domProps:{value:t.mName},on:{input:function(e){e.target.composing||(t.mName=e.target.value)}}}),t._v(" "),i("div",{staticClass:"sleBtn"},[i("select-store",{attrs:{sorts:t.oneCate,isSingle:!0,tipName:"请选择一级分类"},on:{emit:t.getDrop}})],1)]),t._v(" "),i("div",{staticClass:"inline-box sleBtn",on:{click:t.checkOne}},[i("select-store",{ref:"twosel",attrs:{sorts:t.twoCate,isSingle:!0,tipName:"请选择二级分类"},on:{emit:t.getNext}})],1),t._v(" "),i("div",{staticClass:"inline-box setSpeen"},[i("div",{staticClass:"blue filter",on:{click:t.search}},[t._v("筛选")]),t._v(" "),i("div",{staticClass:"gray reset",on:{click:t.reset}},[t._v("重置")])])]),t._v(" "),i("div",{staticClass:"table-select"},[i("div",{staticClass:"select-title"},[t._v("\n\t\t\t\t物料列表\n\t\t\t\t"),i("span",{staticClass:"circle"}),t._v(" 共\n\t\t\t\t"),i("span",{staticClass:"select-num"},[t._v(t._s(t.listTotal))]),t._v(" 个条目\n\t\t\t")]),t._v(" "),i("div",{staticClass:"select-body"},[t._m(2),t._v(" "),t._l(t.goodsList,function(e,s){return i("div",{key:s,staticClass:"select-item",class:{active:e.select}},[i("div",{staticClass:"select-row"},[e.select?i("li",[t._v("已添加")]):t._e(),t._v(" "),!e.select&&e.surplus>0?i("li",{staticClass:"add",on:{click:function(i){t.addList(e,s)}}},[t._v("添加")]):t._e(),t._v(" "),e.surplus<=0?i("li",{staticClass:"surplus-empty",on:{click:t.addEmpty}},[t._v("添加")]):t._e(),t._v(" "),s+1+10*(t.page-1)<10?i("li",[t._v(t._s("0"+(s+1)))]):i("li",[t._v(t._s(s+1+10*(t.page-1)))]),t._v(" "),i("li",[t._v(t._s(e.name||"--"))]),t._v(" "),i("li",[t._v(t._s(t.tebData[e.type]))]),t._v(" "),i("li",[t._v(t._s(t.getString(e.cate,"name")))]),t._v(" "),i("li",[t._v(t._s(t.setUnit(e.surplus,e.unit)))]),t._v(" "),i("li",[t._v(t._s(e.batch))])])])}),t._v(" "),0==t.goodsList.length?i("div",{attrs:{id:"emptyData"}},[t._v("-----暂无条目-----")]):t._e()],2)]),t._v(" "),i("div",{staticClass:"page-box"},[i("pageBtn",{attrs:{isNoPaging:!1,isNoJump:!0,total:t.pageTotal,page:t.page},on:{pageNum:t.pageChange}})],1)])])};s._withStripped=!0;var n=i("81a2"),a=i("bbb9"),r=i("05dd");function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function s(n,a){try{var r=e[n](a),l=r.value}catch(t){return void i(t)}if(!r.done)return Promise.resolve(l).then(function(t){s("next",t)},function(t){s("throw",t)});t(l)}("next")})}}var o={data:function(){return{page:1,selType:0,goodsList:"",allGoods:"全部类型",pageTotal:0,num:10,tebData:["物料"],sleList:[],mName:"",oneCate:[],twoCate:[],oneSle:"",twoSle:"",cataList:"",listTotal:0,sinSle:[],show:!0}},props:["type","sleSupplies","wid","addBtn","dstShopId","srcShopId","shopId"],methods:{init:function(){var t=this;return l(regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.whGetInventoryMaterialList({data:{wid:t.wid,page:t.page,num:t.num,name:t.mName,cid:t.twoSle?t.twoSle.id?t.twoSle.id:"":t.oneSle.id?t.oneSle.id:"",shopId:t.shopId}});case 2:i=e.sent,t.goodsList=i.list,t.pageTotal=Number(i.total),t.listTotal=Number(i.count),t.checkSle();case 7:case"end":return e.stop()}},e,t)}))()},getCate:function(){var t=this;return l(regeneratorRuntime.mark(function e(){var i,s,a,r,l,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.invoiv_getCategoryList();case 2:for(i=e.sent,t.cataList=i,s=!0,a=!1,r=void 0,e.prev=7,l=t.cataList[Symbol.iterator]();!(s=(o=l.next()).done);s=!0)0==(c=o.value).pid&&t.oneCate.push(c);e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),a=!0,r=e.t0;case 15:e.prev=15,e.prev=16,!s&&l.return&&l.return();case 18:if(e.prev=18,!a){e.next=21;break}throw r;case 21:return e.finish(18);case 22:return e.finish(15);case 23:case"end":return e.stop()}},e,t,[[7,11,15,23],[16,,18,22]])}))()},addEmpty:function(){this.alert("该商品库存数量不足")},checkIn:function(){var t=[];for(var e in this.sleSupplies)this.sleSupplies[e].noPrev?this.sinSle.push(this.sleSupplies[e]):t.push(this.sleSupplies[e]);this.sleList=t},checkSle:function(){var t=!0,e=!1,i=void 0;try{for(var s,n=this.goodsList[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){s.value.select=!1}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}var a=!0,r=!1,l=void 0;try{for(var o,c=this.goodsList[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var u=o.value,v=!0,h=!1,d=void 0;try{for(var _,p=this.sleList[Symbol.iterator]();!(v=(_=p.next()).done);v=!0){var f=_.value;u.id==f.id&&(u.select=!0)}}catch(t){h=!0,d=t}finally{try{!v&&p.return&&p.return()}finally{if(h)throw d}}var m=!0,g=!1,y=void 0;try{for(var w,S=this.sinSle[Symbol.iterator]();!(m=(w=S.next()).done);m=!0){var C=w.value;u.id==C.id&&(u.select=!0)}}catch(t){g=!0,y=t}finally{try{!m&&S.return&&S.return()}finally{if(g)throw y}}}}catch(t){r=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(r)throw l}}},setUnit:function(t,e){var i="",s="",n=1,a=!0,l=!1,o=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var v=c.value;1==v.isMin?(s=v.name,1==v.isDefault&&(i=v.name,n=v.value)):1==v.isDefault&&(i=v.name,n=v.value)}}catch(t){l=!0,o=t}finally{try{!a&&u.return&&u.return()}finally{if(l)throw o}}return r.a.comUnit(t,n,i,s)},getString:function(t,e){if("string"!=typeof t&&t){var i=[],s=!0,n=!1,a=void 0;try{for(var r,l=t[Symbol.iterator]();!(s=(r=l.next()).done);s=!0){var o=r.value;i.push(o[e])}}catch(t){n=!0,a=t}finally{try{!s&&l.return&&l.return()}finally{if(n)throw a}}return i.join(",")}return t},selectList:function(t){this.selType=t-1},pageChange:function(t){this.page=t.page,this.init()},tebClick:function(t){this.tabactive=t},checkOne:function(){0==this.oneSle.length&&(this.$refs.twosel.sortShow=!1,this.alert("请选择一级分类"))},addList:function(t){var e=this;return l(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.checkGoods(t);case 2:i.sent&&(t.select=!0,e.sleList.push(t));case 4:case"end":return i.stop()}},i,e)}))()},delList:function(t,e){this.sleList.splice(e,1),t.select=!1,this.checkSle()},search:function(){this.init()},reset:function(){this.page=1,this.mName="",this.oneSle="",this.twoSle="";var t=!0,e=!1,i=void 0;try{for(var s,n=this.oneCate[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){s.value.selected=!1}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}this.oneCate=a.a.deepCopy(this.oneCate);var r=!0,l=!1,o=void 0;try{for(var c,u=this.twoCate[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){c.value.selected=!1}}catch(t){l=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(l)throw o}}this.twoCate=a.a.deepCopy(this.twoCate),this.init()},getDrop:function(t){for(var e in t){if(t[e].selected){this.oneSle=t[e];break}this.oneSle=""}for(var i in this.twoCate=[],this.cataList)this.cataList[i].pid==this.oneSle.id&&this.twoCate.push(this.cataList[i])},getNext:function(t){for(var e in t){if(t[e].selected){this.twoSle=t[e];break}this.twoSle=""}},alert:function(t,e){this.$store.commit("setWin",{title:e,content:t})},checkGoods:function(t){var e=this;return l(regeneratorRuntime.mark(function i(){var s,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s={material:[{id:t.id,name:t.name}]},i.next=3,n.a.invoic_getMatchItemList({data:{itemList:s,srcShopId:e.srcShopId,dstShopId:e.dstShopId}});case 3:if(!((a=i.sent).material&&a.material.length>0)){i.next=8;break}return i.abrupt("return",!0);case 8:e.alert("出入货物料不匹配");case 9:case"end":return i.stop()}},i,e)}))()}},mounted:function(){var t=this;return l(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.sleSupplies&&(t.sleList=t.sleSupplies),t.type||t.$store.commit("setPageTools",[{name:"确定",className:["firstBtn wearhouse"],fn:function(){t.$store.commit("setPageTools",[]),t.$emit("select",t.sleList)}},{name:"取消",className:["abrogate"],fn:function(){t.$store.commit("setPageTools",[]),t.$emit("select",!1)}}]),t.getCate(),t.init(),e.next=6,t.checkIn();case 6:case"end":return e.stop()}},e,t)}))()},components:{pageBtn:function(){return i.e("page_element").then(i.bind(null,"5921"))},selectBtn:function(){return i.e("select_btn").then(i.bind(null,"3d41"))},selectStore:function(){return i.e("win").then(i.bind(null,"cb83"))}}},c=(i("305f"),i("7610")),u=Object(c.a)(o,s,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("i"),this._v(" "),e("h3",[this._v("选择添加物料")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"select-head"},[i("li",[t._v("操作")]),t._v(" "),i("li",[t._v("序号")]),t._v(" "),i("li",[t._v("物料名称")]),t._v(" "),i("li",[t._v("类型")]),t._v(" "),i("li",[t._v("分类")]),t._v(" "),i("li",[t._v("库存数量/重量")]),t._v(" "),i("li",[t._v("批次数量")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"select-head"},[i("li",[t._v("操作")]),t._v(" "),i("li",[t._v("序号")]),t._v(" "),i("li",[t._v("物料名称")]),t._v(" "),i("li",[t._v("类型")]),t._v(" "),i("li",[t._v("分类")]),t._v(" "),i("li",[t._v("库存数量/重量")]),t._v(" "),i("li",[t._v("批次数量")])])}],!1,null,"5772c23d",null);u.options.__file="src\\module\\invoicing_system\\warehouse_manage\\output_select_supplies_ware.vue";e.default=u.exports},2259:function(t,e,i){},"305f":function(t,e,i){"use strict";var s=i("2259");i.n(s).a}}]);