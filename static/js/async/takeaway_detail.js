(window.webpackJsonp=window.webpackJsonp||[]).push([["takeaway_detail"],{"3fe8":function(t,e,i){},"46f7":function(t,e,i){"use strict";var s=i("3fe8");i.n(s).a},"4b74":function(t,e,i){"use strict";i.r(e);var s=i("81a2"),a=i("f6ce");var r={data:function(){return{brandId:0,shopId:null,orderBDetail:a.a.session("takeawayDetail"),returnGoodsShow:"0"}},mounted:function(){if(this.initBtn(),this.orderBDetail){var t=a.a.session("userShop");this.brandId=t.currentShop.brandId?t.currentShop.brandId:0,this.shopId=t.currentShop.id}else this.$router.push({path:"/admin/orderStatistics/orderTakeaway",query:this.$route.query})},components:{detailsDes:function(){return i.e("details_des").then(i.bind(null,"33d1"))}},methods:{initBtn:function(){var t=this,e=[{name:"返回",className:["back"],fn:function(){t.returnPage()}},{name:"打印",className:["wearhouse all"],fn:function(){t.printOrderTakeout()}}];this.$store.commit("setPageTools",e)},printOrderTakeout:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.takeoutPrintOrderDetail({data:{brandId:e.brandId,shopId:e.shopId,type:e.orderBDetail.type,oid:e.orderBDetail.oid}});case 2:e.$store.commit("setWin",{title:"操作提示",content:"打印数据已发送！"});case 3:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function s(a,r){try{var o=e[a](r),l=o.value}catch(t){return void i(t)}if(!o.done)return Promise.resolve(l).then(function(t){s("next",t)},function(t){s("throw",t)});t(l)}("next")})})()},returnPage:function(){this.$router.push({path:"/admin/orderStatistics/orderTakeaway",query:this.$route.query})},changeReturnShow:function(t){this.returnGoodsShow=t}}},o=(i("46f7"),i("d801")),l=Object(o.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sta-order-detail"},[i("div",{staticClass:"scroll-box"},[i("div",{staticClass:"sta-left"},[i("div",{staticClass:"left-detail"},[i("span",{staticStyle:{"font-size":"20px","margin-bottom":"10px"}},[t._v("订单号："+t._s(t.orderBDetail.oid))]),t._v(" "),i("span",[t._v("单据状态："+t._s(t.orderBDetail.status))]),t._v(" "),i("div",{staticClass:"takeaway-icon"},[t._v("外卖")])]),t._v(" "),i("div",{staticClass:"left-detail"},[i("div",{staticClass:"detLi",staticStyle:{"font-size":"20px","line-height":"30px"}},[t._v("营业明细\n\t\t\t\t\t"),i("detailsDes",{attrs:{width:385,height:200,title:"消费金额：该订单中所有商品原价累加所得;优惠总计：该订单中满减、优惠券等活动优惠金额统加所得;订单实收金额：该订单实际收入的金额（消费金额减去配送费、优惠金额所得）;销量：该订单中商品总数（不包含赠品）; 赠品：该订单赠品的数量 ;商品实收金额：每个单品打折后的总额"}})],1),t._v(" "),i("div",{staticClass:"left-detail-left"},[i("span",[t._v("消费总额：￥"+t._s(parseFloat(t.orderBDetail.goodsTotalPrice).toFixed(2)))]),t._v(" "),i("span",[t._v("配送费：￥"+t._s(parseFloat(t.orderBDetail.deliverFee).toFixed(2)))]),t._v(" "),i("span",[t._v("优惠总计：￥"+t._s(parseFloat(t.orderBDetail.activityFee).toFixed(2)))]),t._v(" "),i("span",[t._v("餐盒费：￥"+t._s(parseFloat(t.orderBDetail.packageFee).toFixed(2)))]),t._v(" "),i("span",[t._v("平台优惠：￥"+t._s(parseFloat(t.orderBDetail.nonShopPart).toFixed(2)))]),t._v(" "),i("span",[t._v("平台手续费：￥"+t._s(parseFloat(t.orderBDetail.serviceFee).toFixed(2)))]),t._v(" "),i("span",[t._v("退款手续费：￥"+t._s(parseFloat(t.orderBDetail.partRefundServiceFee).toFixed(2)))]),t._v(" "),i("span",[t._v("订单实收金额：￥"+t._s(parseFloat(t.orderBDetail.income).toFixed(2)))])]),t._v(" "),i("div",{staticClass:"left-detail-right"},[i("span",[t._v("销量："+t._s(t.orderBDetail.totalNum))]),t._v(" "),i("span",[t._v("赠品："+t._s(t.orderBDetail.discountNum))])])]),t._v(" "),i("div",{staticClass:"left-detail"},[i("span",[t._v("下单人："+t._s(t.orderBDetail.consignee))]),t._v(" "),i("span",[t._v("电话："+t._s(t.orderBDetail.phone))]),t._v(" "),i("p",[i("em",[t._v("地址：")]),t._v(t._s(t.orderBDetail.address))])]),t._v(" "),i("div",{staticClass:"left-time"},[i("span",[t._v("下单时间："+t._s(t.orderBDetail.createTime))]),t._v(" "),i("span",[t._v("完成时间："+t._s(t.orderBDetail.finishTime))])])]),t._v(" "),i("div",{staticClass:"sta-right"},[i("div",{staticClass:"sta-right-content"},[i("div",[i("span",{class:["sta-detail-takeout",{"sta-border":"0"==t.returnGoodsShow}],on:{click:function(e){t.changeReturnShow("0")}}},[t._v("商品详情")]),t._v(" "),i("span",{class:["sta-detail-takeout",{"sta-border":"1"==t.returnGoodsShow}],on:{click:function(e){t.changeReturnShow("1")}}},[t._v("赠品详情")]),t._v(" "),i("span",{class:["sta-detail-takeout",{"sta-border":"2"==t.returnGoodsShow}],on:{click:function(e){t.changeReturnShow("2")}}},[t._v("退品详情")])]),t._v(" "),i("div",{staticClass:"count-sum"},["0"==t.returnGoodsShow?[i("div",{staticStyle:{width:"20%"}},[t._v("商品应收金额："+t._s(parseFloat(t.orderBDetail.goodsTotalPrice).toFixed(2)))]),t._v(" "),i("div",{staticStyle:{width:"10%"}},[t._v("销量："+t._s(t.orderBDetail.totalNum))]),t._v(" "),i("div",{staticStyle:{width:"10%",float:"right"}},[t._v("赠品："+t._s(t.orderBDetail.discountNum))])]:t._e(),t._v(" "),"1"==t.returnGoodsShow?[i("div",{staticStyle:{width:"10%"}},[t._v("赠品："+t._s(t.orderBDetail.discountNum))]),t._v(" "),i("div",{staticStyle:{width:"30%",color:"#000",float:"left"}},[t._v("赠品总额：￥"+t._s(t.orderBDetail.discountTotalPrice))])]:t._e(),t._v(" "),"2"==t.returnGoodsShow?[i("div",{staticStyle:{width:"10%"}},[t._v("退品："+t._s(t.orderBDetail.discountNum))]),t._v(" "),i("div",{staticStyle:{width:"30%",color:"#F8931F",float:"right"}},[t._v("退品总额：￥"+t._s(t.orderBDetail.discountTotalPrice))])]:t._e()],2),t._v(" "),"0"==t.returnGoodsShow?i("div",{staticClass:"sta-form"},[t._m(0),t._v(" "),t.orderBDetail?[t._l(t.orderBDetail.goodsList,function(e,s){return[i("ul",{key:s,staticClass:"sta-form-show"},[i("li",{staticStyle:{width:"20%"}},[t._v(t._s(s+1))]),t._v(" "),i("li",{staticStyle:{width:"20%"},attrs:{title:e.goodsName}},[t._v(t._s(e.goodsName))]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v(t._s(parseFloat(e.price).toFixed(2)))]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v(t._s(e.num)+"份")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("￥"+t._s(parseFloat(e.total).toFixed(2)))])])]})]:i("ul",{staticClass:"sta-form-show"},[i("li",{staticStyle:{width:"100%",color:"#F8931F"}},[t._v("此单里面没有商品")])])],2):t._e(),t._v(" "),"1"==t.returnGoodsShow?i("div",{staticClass:"sta-form"},[t._m(1),t._v(" "),t._l(t.orderBDetail.discountList,function(e,s){return t.orderBDetail.discountList.length>0?i("ul",{key:s,staticClass:"sta-form-show"},[i("li",{staticStyle:{width:"20%"}},[t._v(t._s(s+1))]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v(t._s(e.discountName))]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v(t._s(e.price))]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v(t._s(e.num)+t._s(e.unit)+"份")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("￥"+t._s(parseFloat(e.total).toFixed(2)))])]):t._e()}),t._v(" "),""==t.orderBDetail.discountList?i("ul",{staticClass:"sta-form-show"},[i("li",{staticStyle:{width:"100%",color:"#F8931F"}},[t._v("此单没有赠品")])]):t._e()],2):t._e(),t._v(" "),"2"==t.returnGoodsShow?i("div",{staticClass:"sta-form"},[t._m(2),t._v(" "),t._l(t.orderBDetail.partRefundGoodsList,function(e,s){return t.orderBDetail.partRefundGoodsList.length>0?i("ul",{key:s,staticClass:"sta-form-show"},[i("li",{staticStyle:{width:"20%"}},[t._v(t._s(s+1))]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v(t._s(e.goodsName))]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v(t._s(e.price))]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v(t._s(e.num)+t._s(e.unit)+"份")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("￥"+t._s(parseFloat(e.total).toFixed(2)))])]):t._e()}),t._v(" "),""==t.orderBDetail.partRefundGoodsList?i("ul",{staticClass:"sta-form-show"},[i("li",{staticStyle:{width:"100%",color:"#F8931F"}},[t._v("此单没有退品")])]):t._e()],2):t._e()])])])])},[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",{staticStyle:{width:"20%"}},[t._v("序号")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("商品名")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("单价")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("商品数量")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("小计")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",{staticStyle:{width:"20%"}},[t._v("序号")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("商品名")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("单价")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("商品数量")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("小计")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",{staticStyle:{width:"20%"}},[t._v("序号")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("商品名")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("单价")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("商品数量")]),t._v(" "),i("li",{staticStyle:{width:"20%"}},[t._v("小计")])])}],!1,null,"f3b6fbc6",null);e.default=l.exports}}]);