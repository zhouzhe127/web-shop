(window.webpackJsonp=window.webpackJsonp||[]).push([["plate_details"],{1466:function(t,i,e){},"14f4":function(t,i,e){"use strict";var a=e("1466");e.n(a).a},b6e3:function(t,i,e){"use strict";e.r(i);var a=e("f6ce"),s=e("bbb9"),l=e("81a2"),n=e("05dd");var r={data:function(){return{detailList:[],recordId:"",isChangeList:!1,item:{},detail:{},materType:{0:"成品",1:"半成品",2:"普通物料"},isBack:!0}},beforeRouteEnter:function(t,i,e){"/admin/pickingList/plateStorage"==i.path?e(function(t){t.isBack=!1}):e()},mounted:function(){var t=this;this.$store.commit("setHeaderTil",{type:"push",params:[{title:"查看详情"}]});var i=[{name:"返回",className:"info",type:4,fn:function(){a.a.session("isBackPickingRecord",!0),t.isBack?window.history.go(-1):(a.a.session("numType",{num:1}),delete t.$route.query.id,t.$router.push({path:"/admin/pickingList",query:t.$route.query}))}}];this.$store.commit("setPageTools",i),this.recordId=this.$route.query.id,this.initOne()},methods:{changeList:function(){this.isChangeList=!this.isChangeList},backItem:function(t,i){t.index=i;for(var e="",a="",s=0;s<t.materialUnit.length;s++)if(t.materialUnit[s].muId==i){a=t.materialUnit[s].value,e=t.materialUnit[s].name;break}if(t.number=n.a.comUnit(t.consumeNum,a,e,t.minName),t.backJ=n.a.comUnit(t.returnNum,a,e,t.minName),t.beforeJ=n.a.comUnit(t.initialNum,a,e,t.minName),t.afterJ=n.a.comUnit(t.surplus,a,e,t.minName),t.batch&&0!=t.batch.length)for(var l=0;l<t.batch.length;l++)t.batch[l].number=n.a.comUnit(t.batch[l].consumeNum,a,e,t.minName),t.batch[l].backJ=n.a.comUnit(t.batch[l].returnNum,a,e,t.minName),t.batch[l].beforeJ=n.a.comUnit(t.batch[l].initialNum,a,e,t.minName),t.batch[l].afterJ=n.a.comUnit(t.batch[l].surplus,a,e,t.minName)},unitConversion:function(){for(var t=0;t<this.detailList.length;t++){for(var i=[],e=0;e<this.detailList[t].materialUnit.length;e++){1==this.detailList[t].materialUnit[e].isDefault&&(this.detailList[t].defaultName=this.detailList[t].materialUnit[e].name,this.detailList[t].defaultValue=this.detailList[t].materialUnit[e].value),1==this.detailList[t].materialUnit[e].isMin&&(this.detailList[t].minName=this.detailList[t].materialUnit[e].name);var a={value:this.detailList[t].materialUnit[e].muId,label:this.detailList[t].materialUnit[e].name};i.push(a)}for(var s=0;s<i.length;s++)if(i[s].label==this.detailList[t].defaultName){var l=i.splice(s,1);i.unshift(l[0])}this.$set(this.detailList[t],"unitList",i),this.$set(this.detailList[t],"index",i[0].value);var r=this.detailList[t].defaultValue,c=this.detailList[t].defaultName,o=this.detailList[t].minName;if(this.detailList[t].number=n.a.comUnit(this.detailList[t].consumeNum,r,c,o),this.detailList[t].backJ=n.a.comUnit(this.detailList[t].returnNum,r,c,o),this.detailList[t].beforeJ=n.a.comUnit(this.detailList[t].initialNum,r,c,o),this.detailList[t].afterJ=n.a.comUnit(this.detailList[t].surplus,r,c,o),this.detailList[t].batch&&0!=this.detailList[t].batch.length)for(var h=0;h<this.detailList[t].batch.length;h++)this.detailList[t].batch[h].number=n.a.comUnit(this.detailList[t].batch[h].consumeNum,r,c,o),this.detailList[t].batch[h].backJ=n.a.comUnit(this.detailList[t].batch[h].returnNum,r,c,o),this.detailList[t].batch[h].beforeJ=n.a.comUnit(this.detailList[t].batch[h].initialNum,r,c,o),this.detailList[t].batch[h].afterJ=n.a.comUnit(this.detailList[t].batch[h].surplus,r,c,o)}},initOne:function(){var t,i=this;return(t=regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.getCheckMaterialRecord({data:{id:i.recordId}});case 2:if(e=t.sent){for(i.detail=s.a.deepCopy(e),a=0;a<e.material.length;a++)if(e.material[a].number="",e.material[a].backJ="",e.material[a].beforeJ="",e.material[a].afterJ="",e.material[a].batch&&0!=e.material[a].batch.length)for(n=0;n<e.material[a].batch.length;n++)e.material[a].batch[n].number="",e.material[a].batch[n].backJ="",e.material[a].batch[n].beforeJ="",e.material[a].batch[n].afterJ="";i.detailList=s.a.deepCopy(e.material),i.unitConversion()}case 4:case"end":return t.stop()}},t,i)}),function(){var i=t.apply(this,arguments);return new Promise(function(t,e){return function a(s,l){try{var n=i[s](l),r=n.value}catch(t){return void e(t)}if(!n.done)return Promise.resolve(r).then(function(t){a("next",t)},function(t){a("throw",t)});t(r)}("next")})})()},transformTime:function(t){return s.a.format(new Date(1e3*Number(t)),"yyyy-MM-dd")}},components:{selectBtn:function(){return e.e("select_btn").then(e.bind(null,"3d41"))}}},c=(e("14f4"),e("d801")),o=Object(c.a)(r,function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"plate_div"}},[t._m(0),t._v(" "),e("section",{staticClass:"ic-contern"},[e("div",{staticClass:"all-contern"},[e("span",{staticClass:"span_contern"},[t._v("领料人："+t._s(t.detail.ownerName))]),t._v(" "),e("span",{staticClass:"span_contern"},[t._v("操作人："+t._s(t.detail.creatorName))]),t._v(" "),e("span",{staticClass:"span_contern"},[t._v(" 备注："+t._s(t.detail.remarks?t.detail.remarks:"--"))])])]),t._v(" "),e("div",{staticClass:"list_num"},[e("section",{staticClass:"totle"},[e("div",{staticClass:"head"},[t._v("\n\t\t\t\t所领物料 · 共"),e("span",{staticClass:"wen_zi"},[t._v(t._s(t.detailList.length))]),t._v("个条目\n\t\t\t\t"),e("span",{staticClass:"changeList",on:{click:function(i){t.changeList()}}},[t._v(t._s(t.isChangeList?"简洁":"详细"))])]),t._v(" "),e("div",{staticClass:"scroll-box"},[e("div",{staticClass:"list-box"},[t._m(1),t._v(" "),0==t.detailList.length?e("ul",{staticClass:"no_record"},[e("li",[t._v("无记录")])]):t._e(),t._v(" "),t._l(t.detailList,function(i,a){return 0!=t.detailList.length?e("section",{key:a,staticStyle:{clear:"both"}},[e("ul",{staticClass:"oUl oulSecond"},[e("li",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a+1)+"\n\t\t\t\t\t\t\t")]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.materialName}},[t._v(t._s(i.materialName))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.materialCategoryName}},[t._v(t._s(i.materialCategoryName))]),t._v(" "),e("li",[t._v(t._s(t.materType[i.materialType]))]),t._v(" "),e("li",{staticStyle:{"line-height":"0","padding-top":"15px"}},[e("el-select",{staticStyle:{width:"100px"},on:{change:function(e){t.backItem(i,e)}},model:{value:i.index,callback:function(e){t.$set(i,"index",e)},expression:"item.index"}},t._l(i.unitList,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.number}},[t._v(t._s(i.number))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.backJ}},[t._v(t._s(i.backJ))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.beforeJ}},[t._v(t._s(i.beforeJ))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.afterJ}},[t._v(t._s(i.afterJ))])]),t._v(" "),t.isChangeList&&0!=i.batch.length?e("section",{staticClass:"sec-box"},[t._m(2,!0),t._v(" "),t._l(i.batch,function(i,a){return e("ul",{key:a,staticClass:"oulThd"},[e("li",[t._v("批次"+t._s(a+1))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.batchCode}},[t._v(t._s(i.batchCode))]),t._v(" "),e("li",[t._v(t._s(t.transformTime(i.productionTime)))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.supplier}},[t._v(t._s(i.supplier))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.purchasePrice}},[t._v(t._s(i.purchasePrice))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.warehouseName+"-"+i.areaName}},[t._v(t._s(i.warehouseName)+"-"+t._s(i.areaName))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.number}},[t._v(t._s(i.number))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.backJ}},[t._v(t._s(i.backJ))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.beforeJ}},[t._v(t._s(i.beforeJ))]),t._v(" "),e("li",{staticClass:"over_hide",attrs:{title:i.afterJ}},[t._v(t._s(i.afterJ))])])})],2):t._e()]):t._e()})],2)])])])])},[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"ic-title"},[i("div",{staticClass:"text"},[this._v("\n\t\t\t领料盘库详情\n\t\t")]),this._v(" "),i("div",{staticClass:"dashed"})])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("ul",{staticClass:"oulFirst"},[e("li",[t._v("序号")]),t._v(" "),e("li",[t._v("物料名")]),t._v(" "),e("li",[t._v("分类")]),t._v(" "),e("li",[t._v("类型")]),t._v(" "),e("li",[t._v("领料单位选择")]),t._v(" "),e("li",[t._v("领料消耗")]),t._v(" "),e("li",[t._v("领料回库")]),t._v(" "),e("li",[t._v("领料人盘库前")]),t._v(" "),e("li",[t._v("领料人盘库后")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("ul",{staticClass:"oulThd font16"},[e("li",[t._v("序号")]),t._v(" "),e("li",[t._v("批次编码")]),t._v(" "),e("li",[t._v("生产日期")]),t._v(" "),e("li",[t._v("供应商")]),t._v(" "),e("li",[t._v("进价")]),t._v(" "),e("li",[t._v("所属仓库")]),t._v(" "),e("li",[t._v("领料消耗")]),t._v(" "),e("li",[t._v("领料回库")]),t._v(" "),e("li",[t._v("领料人盘库前")]),t._v(" "),e("li",[t._v("领料人盘库后")])])}],!1,null,"c30d217a",null);i.default=o.exports}}]);