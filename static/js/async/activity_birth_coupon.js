(window.webpackJsonp=window.webpackJsonp||[]).push([["activity_birth_coupon"],{"175b":function(t,e,s){"use strict";var n=s("748f");s.n(n).a},"2d94":function(t,e,s){"use strict";s.r(e);var n=s("bbb9"),i={props:{couponList:Array,selectCoupon:{type:Array,default:function(){return[]}},isShowaddAndSubtract:{type:Boolean,default:!0}},data:function(){return{index:0,flag2:0,goodsCom:[],CountList:[{name:"全部"},{name:"满减优惠券"},{name:"折扣优惠券"},{name:"赠菜优惠券"},{name:"代金券"}],selects:[],list:[]}},methods:{select:function(t){this.selects=t.selectList,this.list=t.list},winEvent:function(t){this.$emit("winEvent",{status:t,data:{select:this.selects,list:this.list}})},showCount:function(t){if(this.flag2=t,0==t)this.goodsCom=this.couponList;else if(1==t){this.goodsCom=[];for(var e=0;e<this.couponList.length;e++)1!=this.couponList[e].type&&2!=this.couponList[e].type||this.goodsCom.push(this.couponList[e])}else if(2==t){this.goodsCom=[];for(var s=0;s<this.couponList.length;s++)3!=this.couponList[s].type&&4!=this.couponList[s].type||this.goodsCom.push(this.couponList[s])}else if(3==t){this.goodsCom=[];for(var n=0;n<this.couponList.length;n++)5==this.couponList[n].type&&this.goodsCom.push(this.couponList[n])}else{this.goodsCom=[];for(var i=0;i<this.couponList.length;i++)6==this.couponList[i].type&&this.goodsCom.push(this.couponList[i])}},wholeOffCom:function(){this.selects=[]}},watch:{selects:function(){11==this.selects.length&&(this.$store.commit("setWin",{content:"最多选择10张优惠劵"}),this.selects.splice(this.selects.length-1,1))}},components:{Win:function(){return s.e("win").then(s.bind(null,"f60a"))},coupon:function(){return s.e("coupon").then(s.bind(null,"6595"))}},created:function(){this.goodsCom=n.a.deepCopy(this.couponList),this.selects=n.a.deepCopy(this.selectCoupon)}},o=(s("175b"),s("d801")),a=Object(o.a)(i,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"addCount"}},[s("Win",{attrs:{width:900,height:350},on:{winEvent:t.winEvent}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("添加关联优惠券")]),t._v(" "),s("section",{staticStyle:{padding:"20px 50px"},attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"top",staticStyle:{"border-bottom":"1px dashed #ccc","padding-bottom":"20px"}},t._l(t.CountList,function(e,n){return s("span",{key:n,staticClass:"sel",class:{on:t.flag2==n},on:{click:function(e){t.showCount(n)}}},[t._v(t._s(e.name))])})),t._v(" "),s("div",{staticStyle:{"padding-top":"10px",position:"relative"}},[s("span",{staticStyle:{"font-size":"14px",color:"#999999"}},[t._v("选择优惠券：")]),t._v(" "),s("section",{staticClass:"fr",staticStyle:{width:"100%",height:"auto","margin-bottom":"10px"}},[s("a",{staticClass:"unselect fr",attrs:{href:"javascript:void(0)"},on:{click:t.wholeOffCom}},[t._v("全部取消")])]),t._v(" "),s("section",{staticClass:"comList"},[s("coupon",{attrs:{list:t.goodsCom,selects:t.selects,"max-num":5,name:"name",keyName:"id",isShowaddAndSubtract:t.isShowaddAndSubtract},on:{select:t.select}})],1)])])])],1)},[],!1,null,"22b7a9ca",null);e.default=a.exports},"748f":function(t,e,s){},a9eb:function(t,e,s){},beac:function(t,e,s){"use strict";s.r(e);var n=s("81a2"),i=s("bbb9");var o={props:{couponList:Array,selectCoupon:{type:Array,default:function(){return[]}},selectIntegral:{type:Array,default:function(){return[]}},selectIntegralgoods:{type:Array,default:function(){return[]}}},data:function(){return{index:0,flag2:0,goodsCom:[],bannerList:[{name:"优惠券",type:0},{name:"积分卡",type:1},{name:"积分商品",type:2}],bannerIndex:0,CountList:[{name:"单品减免"},{name:"整单减免"},{name:"单品折扣"},{name:"整单折扣"},{name:"赠品券"},{name:"代金券"}],selects:[],list:[],integralCard:[],integralselects:[],page:1,num:10,pageNum:"0",creditCard:[],creditselects:[],okStyle:null}},methods:{choiceType:function(t,e){if(this.bannerIndex=e,1==t){this.integralCard=[];for(var s=0;s<this.couponList.length;s++)7==this.couponList[s].type&&this.integralCard.push(this.couponList[s])}else 2==t&&this.getCredit()},select:function(t){this.selects=t.selectList,this.list=t.list},selectIntegralCard:function(t){this.integralselects=t.selectList},selectcredit:function(t){this.creditselects=t.selectList},winEvent:function(t){this.$emit("winEvent",{status:t,data:{couponselect:this.selects,integralCardselect:this.integralselects,creditCardselect:this.creditselects,list:this.list}})},showCount:function(t){if(this.flag2=t,0==t){this.goodsCom=[];for(var e=0;e<this.couponList.length;e++)1==this.couponList[e].type&&this.goodsCom.push(this.couponList[e])}else if(1==t){this.goodsCom=[];for(var s=0;s<this.couponList.length;s++)2==this.couponList[s].type&&this.goodsCom.push(this.couponList[s])}else if(2==t){this.goodsCom=[];for(var n=0;n<this.couponList.length;n++)3==this.couponList[n].type&&this.goodsCom.push(this.couponList[n])}else if(3==t){this.goodsCom=[];for(var i=0;i<this.couponList.length;i++)4==this.couponList[i].type&&this.goodsCom.push(this.couponList[i])}else if(4==t){this.goodsCom=[];for(var o=0;o<this.couponList.length;o++)5==this.couponList[o].type&&this.goodsCom.push(this.couponList[o])}else if(5==t){this.goodsCom=[];for(var a=0;a<this.couponList.length;a++)6==this.couponList[a].type&&this.goodsCom.push(this.couponList[a])}},wholeOnCom:function(){if("0"==this.bannerIndex){this.selects=[];for(var t=0;t<this.goodsCom.length;t++){var e={};e.id=this.goodsCom[t].id,e.name=this.goodsCom[t].name,e.num=1,this.selects.push(e)}}else if("1"==this.bannerIndex){this.integralselects=[];for(var s=0;s<this.integralCard.length;s++){var n={};n.id=this.integralCard[s].id,n.name=this.integralCard[s].name,n.num=1,this.integralselects.push(n)}}else if("2"==this.bannerIndex){this.creditselects=[];for(var i=0;i<this.creditCard.length;i++){var o={};o.id=this.creditCard[i].id,o.name=this.creditCard[i].name,o.num=1,this.creditselects.push(o)}}},wholeOffCom:function(){0==this.bannerIndex?this.selects=[]:1==this.bannerIndex?this.integralselects=[]:2==this.bannerIndex&&(this.creditselects=[])},getCredit:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.a.getActivityGoodsList({data:{page:e.page,num:e.num}});case 2:(s=t.sent)&&(e.creditCard=s.list,e.creditCard.forEach(function(t){t.num=1}),e.pageNum=s.total);case 4:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,s){return function n(i,o){try{var a=e[i](o),c=a.value}catch(t){return void s(t)}if(!a.done)return Promise.resolve(c).then(function(t){n("next",t)},function(t){n("throw",t)});t(c)}("next")})})()},pageChange:function(t){this.page=t.page,this.num=t.num,this.getCredit()}},watch:{},components:{Win:function(){return s.e("win").then(s.bind(null,"f60a"))},coupon:function(){return s.e("coupon").then(s.bind(null,"6595"))},pageElement:function(){return s.e("page_element").then(s.bind(null,"5921"))}},created:function(){this.goodsCom=i.a.deepCopy(this.couponList),this.selects=i.a.deepCopy(this.selectCoupon),this.integralselects=i.a.deepCopy(this.selectIntegral),this.creditselects=i.a.deepCopy(this.selectIntegralgoods)},mounted:function(){this.okStyle={content:"确定",style:{backgroundColor:"#FF9800",color:"#fff"}}}},a=(s("ee7f"),s("d801")),c=Object(a.a)(o,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"addCount"}},[s("Win",{attrs:{width:900,height:350,ok:t.okStyle},on:{winEvent:t.winEvent}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("添加关联优惠券")]),t._v(" "),s("section",{staticClass:"addcoupon",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"couponType"},t._l(t.bannerList,function(e,n){return s("div",{key:n,staticClass:"diel",class:{on:t.bannerIndex==n},on:{click:function(s){t.choiceType(e.type,n)}}},[t._v(t._s(e.name))])})),t._v(" "),"0"==t.bannerIndex?s("div",{staticClass:"top"},t._l(t.CountList,function(e,n){return s("span",{key:n,staticClass:"sel",class:{on:t.flag2==n},on:{click:function(e){t.showCount(n)}}},[t._v(t._s(e.name))])})):t._e(),t._v(" "),s("div",{staticClass:"choicecoupon"},[s("span",[t._v("选择优惠券：")]),t._v(" "),s("section",{staticClass:"fr choices"},[s("a",{staticClass:"unselect fr",attrs:{href:"javascript:void(0)"},on:{click:t.wholeOffCom}},[t._v("全部取消")]),t._v(" "),s("a",{staticClass:"check fr",staticStyle:{"margin-right":"1px"},attrs:{href:"javascript:void(0)"},on:{click:t.wholeOnCom}},[t._v("全部选择")])]),t._v(" "),"0"==t.bannerIndex?s("section",{staticClass:"comList"},["0"==t.goodsCom.length?s("div",{staticClass:"nolist"},[t._v("-  暂无该类型优惠券  -")]):s("coupon",{attrs:{list:t.goodsCom,selects:t.selects,"max-num":10,name:"name",keyName:"id"},on:{select:t.select}})],1):t._e(),t._v(" "),"1"==t.bannerIndex?s("section",{staticClass:"comList"},["0"==t.integralCard.length?s("div",{staticClass:"nolist"},[t._v("-  暂无积分卡  -")]):s("coupon",{attrs:{list:t.integralCard,selects:t.integralselects,"max-num":10,name:"name",keyName:"id"},on:{select:t.selectIntegralCard}})],1):t._e(),t._v(" "),"2"==t.bannerIndex?s("section",{staticClass:"comList"},["0"==t.creditCard.length?s("div",{staticClass:"nolist"},[t._v("-  暂无积分商品  -")]):s("coupon",{attrs:{list:t.creditCard,selects:t.creditselects,"max-num":10,name:"name",keyName:"id"},on:{select:t.selectcredit}})],1):t._e(),t._v(" "),"2"==t.bannerIndex?s("section",{staticClass:"turn-page"},[s("pageElement",{attrs:{page:Number(t.page),total:Number(t.pageNum),numArr:[10,20,30,40,50],isNoJump:!0},on:{pageNum:t.pageChange}})],1):t._e()])])])],1)},[],!1,null,"c7530fa0",null);e.default=c.exports},ee7f:function(t,e,s){"use strict";var n=s("a9eb");s.n(n).a}}]);