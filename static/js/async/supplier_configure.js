(window.webpackJsonp=window.webpackJsonp||[]).push([["supplier_configure"],{"3d67":function(t,e,n){},4102:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"invo-config"}},[n("div",{staticClass:"head"},[t._v("进销存权限")]),t._v(" "),n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("ul",{staticClass:"config-list"},t._l(t.configList,function(e,i){return n("li",{key:i},[n("span",[t._v(t._s(e.name)+" : "+t._s(0==e.status?"关":"开"))])])}))]),t._v(" "),n("div",{staticClass:"head-short"},[t._v("是否启用配置")]),t._v(" "),n("div",{staticClass:"config-switch"},[n("span",{staticClass:"label"},[t._v("商品 , 物料应用")]),t._v(" "),n("div",{staticClass:"mul-sel"},t._l(t.config,function(e,i){return n("span",{key:i,staticClass:"list",class:{checkbox:e.isSelect},on:{click:function(n){t.chooseList(e,i)}}},[t._v(t._s(e.name))])}))]),t._v(" "),n("div",{staticClass:"head-short"},[t._v("是否可以售卖")]),t._v(" "),n("div",{staticClass:"sale-switch"},[t._v("\n\t\t货架商品不足时\n\t\t"),n("span",{staticClass:"on-off"},[n("on-off",{attrs:{status:t.saleSwitch},on:{statusChange:t.getOnOff}})],1),t._v(" "),t._m(1)]),t._v(" "),n("div",{staticClass:"bottom"},[n("div",{staticClass:"gray btn-com",on:{click:function(e){t.clickBtn("cancel")}}},[t._v("取消")]),t._v(" "),n("div",{staticClass:"yellow btn-com",on:{click:function(e){t.clickBtn("ok")}}},[t._v("确定")])])])};i._withStripped=!0;var a=n("81a2"),r=n("f6ce"),s=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){a=!0,r=t}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(a,r){try{var s=e[a](r),o=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}var c={data:function(){return{configList:[{name:"物料单位修改",status:0,attr:"updateUnit"},{name:"物料单位新建",status:0,attr:"createUnit"},{name:"物料分类修改",status:0,attr:"updateCategory"},{name:"物料分类新建",status:0,attr:"createCategory"},{name:"商品品牌修改",status:0,attr:"updateBrand"},{name:"商品品牌新建",status:0,attr:"createBrand"},{name:"物料修改",status:0,attr:"updateMaterial"},{name:"物料新建",status:0,attr:"createMaterial"},{name:"供应商修改",status:0,attr:"updateSupplier"},{name:"供应商新建",status:0,attr:"createSupplier"},{name:"BOM单修改",status:0,attr:"updateBom"},{name:"BOM单新建",status:0,attr:"createBom"}],config:[{name:"商品",id:0,attr:"isGoods"},{name:"物料",id:1,attr:"isMaterial"}],saleSwitch:!1}},methods:{chooseList:function(t,e){t.isSelect=!t.isSelect,this.config.splice(e,1,t)},getSelectConfig:function(t){var e={},n=!0,i=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var o=r.value;e[o.attr]=Number(o.isSelect)}}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return e},getOnOff:function(t){this.saleSwitch=t},clickBtn:function(t){var e=this;return o(regeneratorRuntime.mark(function n(){var i,a,s,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i={},a={},"ok"!=t){n.next=15;break}return(i=e.getSelectConfig(e.config)).isShelveMinus=Number(e.saleSwitch),n.next=6,e.getHttp("invociUpdateSupplier",i);case 6:a=n.sent,e.alert("保存成功!"),s=0,o=[],1==a.isGoods&&1!=a.isMaterial?(s=1,o=["领料管理","BOM单管理","单位配置","物料分类"]):1!=a.isGoods&&1==a.isMaterial&&(s=2,o=["称重商品配置","货架管理"]),e.$store.commit("setasideDel",o),r.a.session("inventConfigure",s),n.next=16;break;case 15:"cancel"==t&&e.$router.go(-1);case 16:case"end":return n.stop()}},n,e)}))()},alert:function(t){this.$store.commit("setWin",{content:t,title:"温馨提示"})},getHttp:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(regeneratorRuntime.mark(function i(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a[t]({data:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},i,e)}))()},initList:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=s(e,4),a=i[0],r=void 0===a?[]:a,o=i[1],c=void 0===o?{}:o,u=i[2],l=void 0===u?"attr":u,f=i[3],v=void 0===f?"status":f;return r=r.map(function(t){for(var e in c)if(t[l]==e){t[v]=1==c[e];break}return t})}},mounted:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var n,i,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getHttp("invociGetSupplier");case 2:n=e.sent,i=n.isGoods,a=n.isMaterial,r=n.isShelveMinus,t.configList=t.initList(t.configList,n,"attr","status"),t.config=t.initList(t.config,{isGoods:i,isMaterial:a},"attr","isSelect"),t.saleSwitch=1==r;case 7:case"end":return e.stop()}},e,t)}))()},components:{onOff:function(){return n.e("on_off").then(n.bind(null,"034b"))},mulSel:function(){return n.e("mul_select").then(n.bind(null,"7d09"))}}},u=(n("7dd0"),n("7610")),l=Object(u.a)(c,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"assign-tips"},[e("span",{staticClass:"tips-icon"}),this._v("\n\t\t\t进销存权限统一由品牌指派,如有权限需求请联系品牌权限管理人员\n\t\t")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sale"},[e("span",{staticClass:"tips-icon"}),this._v(" "),e("span",{staticClass:"tips-word"},[this._v("开关开启时,销售后货架商品数量可以为负数,下次上架后补充完整")])])}],!1,null,"16ff9270",null);l.options.__file="src\\module\\invoicing_system\\warehouse_manage\\supplier_configure.vue";e.default=l.exports},"7dd0":function(t,e,n){"use strict";var i=n("3d67");n.n(i).a}}]);