(window.webpackJsonp=window.webpackJsonp||[]).push([["sales_party_build"],{"8e94":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{attrs:{id:"table"}},[e._m(0),e._v(" "),e.isAdd?e._e():s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading required"},[e._v("原销方税号")]),e._v(" "),s("input",{attrs:{type:"text",maxlength:"20",disabled:!0},domProps:{value:e.yidentifier}})]),e._v(" "),s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading required"},[e._v("销方税号")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.salesInfo.identifier,expression:"salesInfo.identifier"}],attrs:{type:"text",placeholder:"请输入税号，15位、18位或20位”",maxlength:"20"},domProps:{value:e.salesInfo.identifier},on:{input:function(t){t.target.composing||e.$set(e.salesInfo,"identifier",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading required"},[e._v("销方名称")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.salesInfo.name,expression:"salesInfo.name"}],attrs:{type:"text",placeholder:"请输入销方名称",maxlength:"100"},domProps:{value:e.salesInfo.name},on:{input:function(t){t.target.composing||e.$set(e.salesInfo,"name",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading required"},[e._v("销方地址")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.salesInfo.address,expression:"salesInfo.address"}],attrs:{type:"text",placeholder:"请输入销方地址",maxlength:"100"},domProps:{value:e.salesInfo.address},on:{input:function(t){t.target.composing||e.$set(e.salesInfo,"address",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading required"},[e._v("销方电话")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.salesInfo.telephoneNo,expression:"salesInfo.telephoneNo"}],staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入销方电话",maxlength:"20"},domProps:{value:e.salesInfo.telephoneNo},on:{input:function(t){t.target.composing||e.$set(e.salesInfo,"telephoneNo",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading required"},[e._v("销方银行")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.salesInfo.bank,expression:"salesInfo.bank"}],attrs:{type:"text",placeholder:"请输入销方银行",maxlength:"100"},domProps:{value:e.salesInfo.bank},on:{input:function(t){t.target.composing||e.$set(e.salesInfo,"bank",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading required"},[e._v("销方银行账户")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.salesInfo.bankAcc,expression:"salesInfo.bankAcc"}],attrs:{type:"text",placeholder:"请输入销方银行账户",maxlength:"30"},domProps:{value:e.salesInfo.bankAcc},on:{input:function(t){t.target.composing||e.$set(e.salesInfo,"bankAcc",t.target.value)}}})]),e._v(" "),e.isAdd?s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading required"},[e._v("开票人")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.salesInfo.drawer,expression:"salesInfo.drawer"}],staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入开票人",maxlength:"4"},domProps:{value:e.salesInfo.drawer},on:{input:function(t){t.target.composing||e.$set(e.salesInfo,"drawer",t.target.value)}}})]):e._e(),e._v(" "),e.isAdd?s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading required"},[e._v("开票类型")]),e._v(" "),s("radioBtn",{attrs:{list:e.ticketType,index:e.ticketTypeIndex,name:"name"},on:{selOn:e.doThrowWinResult}})],1):e._e(),e._v(" "),s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading required"},[e._v("电子票开票限额")]),e._v(" "),s("radioBtn",{attrs:{list:e.ticketLimit,index:e.ticketLimitIndex,name:"name"},on:{selOn:e.selTicketLimit}})],1),e._v(" "),e.isAdd?[e._m(1),e._v(" "),s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading"},[e._v("一般纳税人起始时间")]),e._v(" "),s("section",{directives:[{name:"show",rawName:"v-show",value:e.noSelTime,expression:"noSelTime"}],staticClass:"statisticsLists"},[s("section",{staticClass:"tableListInp chairFix",on:{click:function(t){e.isShowSelTime()}}},[s("span",{staticClass:"spanSty"},[e._v("请选择时间")]),e._v(" "),e._m(2)])]),e._v(" "),s("calendar",{directives:[{name:"show",rawName:"v-show",value:!e.noSelTime,expression:"!noSelTime"}],attrs:{time:e.taxpayerTime,show:!0,type:2,format:"yyyy年MM月dd日"},on:{emit:e.startTimeChange}})],1),e._v(" "),s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading"},[e._v("一般纳税人类型")]),e._v(" "),s("selectBtn",{attrs:{sorts:e.taxpayerTypeList,name:e.taxpayerTypeName,selected:e.taxpayerTypeNum},on:{emit:e.changeTaxpayerType,"update:selected":function(t){e.taxpayerTypeNum=t}}})],1),e._v(" "),s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading"},[e._v("复核人")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.salesInfo.reviewer,expression:"salesInfo.reviewer"}],staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入复核人",maxlength:"4"},domProps:{value:e.salesInfo.reviewer},on:{input:function(t){t.target.composing||e.$set(e.salesInfo,"reviewer",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"content-box"},[s("span",{staticClass:"fl sub-heading"},[e._v("收款人")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.salesInfo.payee,expression:"salesInfo.payee"}],staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入收款人",maxlength:"4"},domProps:{value:e.salesInfo.payee},on:{input:function(t){t.target.composing||e.$set(e.salesInfo,"payee",t.target.value)}}})])]:e._e(),e._v(" "),s("div",{staticClass:"content-box",staticStyle:{"margin-top":"50px"}},[s("span",{staticClass:"fl sub-heading"}),e._v(" "),s("a",{staticStyle:{background:"#B3B3B3"},attrs:{href:"javascript:;"},on:{click:function(t){e.del()}}},[e._v("取消")]),e._v(" "),s("a",{staticStyle:{background:"#FF9200"},attrs:{href:"javascript:;"},on:{click:function(t){e.save()}}},[e._v("保存")])])],2)};a._withStripped=!0;var n=s("81a2"),i=s("bbb9");var o={data:function(){return{salesInfo:{identifier:"",name:"",address:"",telephoneNo:"",bank:"",bankAcc:"",drawer:"",reviewer:"",payee:""},taxpayerTime:"",taxpayerTypeList:["不适用","全部适用","部分适用"],taxpayerTypeName:"请选择一般纳税人类型",taxpayerTypeNum:-1,ticketType:[{id:"01",name:"客户端"},{id:"03",name:"服务器"},{id:"04",name:"税控盒子"}],ticketTypeIndex:0,ticketLimit:[{id:0,name:"百元版999.99",num:999.99},{id:1,name:"千元版9999.99",num:9999.99},{id:2,name:"万元版99999.99",num:99999.99}],ticketLimitIndex:"0",noSelTime:!0,yidentifier:""}},props:["isAdd","editData"],created:function(){this.isAdd||(this.salesInfo=i.a.deepCopy(this.editData),this.yidentifier=this.salesInfo.identifier,this.ticketLimitIndex=-1),this.$store.commit("setPageTools",[])},methods:{changeTaxpayerType:function(e){this.taxpayerTypeNum=e},isShowSelTime:function(){this.noSelTime=!1},startTimeChange:function(e){this.taxpayerTime=e},timestampToTime:function(e){var t=new Date(e);return t.getFullYear()+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1+"")},doThrowWinResult:function(e){this.ticketTypeIndex=e},selTicketLimit:function(e){this.ticketLimitIndex=e},addSales:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.salesInfo.yidentifier=t.isAdd?t.salesInfo.identifier:t.yidentifier,t.isAdd&&(t.salesInfo.ybnsrqssj=t.timestampToTime(t.taxpayerTime),t.salesInfo.ybnsrlx=-1==t.taxpayerTypeNum?"":t.taxpayerTypeNum+2,t.salesInfo.issueType=t.ticketType[t.ticketTypeIndex].id),t.salesInfo.eticketLim=t.ticketLimit[t.ticketLimitIndex].num,t.salesInfo.type=t.isAdd?"01":"02",e.next=6,n.a.invoiceAddSeller({data:t.salesInfo});case 6:e.sent&&t.$emit("salesFun","ok");case 8:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,s){return function a(n,i){try{var o=t[n](i),l=o.value}catch(e){return void s(e)}if(!o.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}("next")})})()},del:function(){this.$emit("salesFun","cancel")},save:function(){this.checkData()&&this.addSales()},checkData:function(){return/(^[0-9a-zA-Z]{15}$)|(^[0-9a-zA-Z]{18}$)|(^[0-9a-zA-Z]{20}$)/.test(this.salesInfo.identifier)?""==this.salesInfo.name.trim()?(this.$store.commit("setWin",{title:"温馨提示",winType:"alter",content:"销方名称不能为空"}),!1):""==this.salesInfo.address.trim()?(this.$store.commit("setWin",{title:"温馨提示",winType:"alter",content:"销方地址不能为空"}),!1):/^\d+-?\d+$/.test(this.salesInfo.telephoneNo)?""==this.salesInfo.bank.trim()?(this.$store.commit("setWin",{title:"温馨提示",winType:"alter",content:"销方银行不能为空"}),!1):/^\d+$/.test(this.salesInfo.bankAcc)?this.isAdd&&""==this.salesInfo.drawer.trim()?(this.$store.commit("setWin",{title:"温馨提示",winType:"alter",content:"开票人不能为空"}),!1):-1!=this.ticketLimitIndex||(this.$store.commit("setWin",{title:"温馨提示",winType:"alter",content:"请选择电子票开票限额"}),!1):(this.$store.commit("setWin",{title:"温馨提示",winType:"alter",content:"销方银行账户不能为空,且为纯数字"}),!1):(this.$store.commit("setWin",{title:"温馨提示",winType:"alter",content:"销方电话格式不对"}),!1):(this.$store.commit("setWin",{title:"温馨提示",winType:"alter",content:"销方税号：仅限字母和数字，字数限制为“15个字”或“18个字”或“20 个字”"}),!1)}},components:{selectBtn:function(){return s.e("select_btn").then(s.bind(null,"3d41"))},radioBtn:function(){return s.e("radio_btn").then(s.bind(null,"4dfe"))},calendar:function(){return s.e("calendar_type").then(s.bind(null,"f2dd"))}}},l=(s("bc74"),s("7610")),r=Object(l.a)(o,a,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content-box"},[t("div",{staticClass:"content-title"},[t("span",{staticClass:"titles"},[this._v("新建销方管理")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content-box"},[t("div",{staticClass:"content-title"},[t("span",{staticClass:"titles"},[this._v("其它配置")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl calendar-ctr"},[t("i")])}],!1,null,"2d61e2f1",null);r.options.__file="src\\module\\ticket_config\\sales_party_build.vue";t.default=r.exports},bc74:function(e,t,s){"use strict";var a=s("f65f");s.n(a).a},f65f:function(e,t,s){}}]);