(window.webpackJsonp=window.webpackJsonp||[]).push([["jurisdiction_detail"],{"0a1f":function(e,t,a){"use strict";a.r(t);var i=a("81a2"),n=a("bbb9");function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function i(n,s){try{var r=t[n](s),c=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(c).then(function(e){i("next",e)},function(e){i("throw",e)});e(c)}("next")})}}var r="",c={data:function(){return{tebData:["目标门店","分类指派","单位指派","品牌指派","物料指派","BOM单指派","供应商指派"],typeList:["分类","单位","品牌","物料","BOM单","供应商"],titleList:[],allTotal:0,listData:[],tebIndex:0,total:0,page:1,num:10,planName:"",createUName:"",createTime:"",type:1,tabactive:0,showList:!1,allList:[],childBox:[[{name:"物料单位修改",bind:"updateUnit",selter:"关"},{name:"物料分类修改",bind:"updateCategory",selter:"关"},{name:"商品品牌修改",bind:"updateBrand",selter:"关"},{name:"物料修改",bind:"updateMaterial",selter:"关"},{name:"供应商修改",bind:"updateSupplier",selter:"关"},{name:"BOM单修改",bind:"updateBom",selter:"关"}],[{name:"物料单位新建",bind:"createUnit",selter:"关"},{name:"物料分类新建",bind:"createCategory",selter:"关"},{name:"商品品牌新建",bind:"createBrand",selter:"关"},{name:"物料新建",bind:"createMaterial",selter:"关"},{name:"供应商新建",bind:"createSupplier",selter:"关"},{name:"BOM单新建",bind:"createBom",selter:"关"}]]}},methods:{tebClick:function(e,t){this.tebIndex=t,this.showList=!1;var a=[{titleName:"目标门店",dataName:"shopName"},{titleName:"类型",dataName:"item"},{titleName:"门店",dataName:"shopName"},{titleName:"分类",dataName:"item"},{titleName:"单位",dataName:"item"},{titleName:"品牌",dataName:"item"},{titleName:"物料",dataName:"item"},{titleName:"BOM单",dataName:"item"},{titleName:"供应商",dataName:"item"},{titleName:"指派内容",dataName:"item"},{titleName:"结果",dataName:"status"}],i=[];switch(e){case"目标门店":i=[a[0],a[1]];break;case"分类指派":i=[a[2],a[3],a[10]];break;case"单位指派":i=[a[2],a[4],a[10]];break;case"品牌指派":i=[a[2],a[5],a[10]];break;case"物料指派":i=[a[2],a[6],a[10]];break;case"BOM单指派":i=[a[2],a[7],a[10]];break;case"供应商指派":i=[a[2],a[8],a[10]];break;case"异常":i=[a[2],a[9],a[10]];break;case"权限指派":this.showList=!0}this.titleList=i,0==this.tabactive&&this.getList()},nextinit:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var a,n,s,c,l,o,u,m,p,d,h,b,v,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=0==e.tabactive?"InvoicingetAssignLogDetail":"InvoicingetAssignInventoryConfigLogDetail",t.next=3,i.a[a]({data:{logId:r}});case 3:if(n=t.sent,e.planName=n.planName,e.createUName=n.createUName,e.createTime=n.createTime,1!=e.tabactive||!n.shop){t.next=56;break}n.shop.map(function(e){switch(Number(e.isChain)){case 0:e.item="单店";break;case 1:e.item="直营店";break;case 2:e.item="加盟店";break;case 3:e.item="品牌"}}),s=!0,c=!1,l=void 0,t.prev=12,o=e.childBox[Symbol.iterator]();case 14:if(s=(u=o.next()).done){t.next=38;break}for(m=u.value,p=!0,d=!1,h=void 0,t.prev=19,b=m[Symbol.iterator]();!(p=(v=b.next()).done);p=!0)f=v.value,1==Number(n.plan[f.bind])&&(f.selter="开");t.next=27;break;case 23:t.prev=23,t.t0=t.catch(19),d=!0,h=t.t0;case 27:t.prev=27,t.prev=28,!p&&b.return&&b.return();case 30:if(t.prev=30,!d){t.next=33;break}throw h;case 33:return t.finish(30);case 34:return t.finish(27);case 35:s=!0,t.next=14;break;case 38:t.next=44;break;case 40:t.prev=40,t.t1=t.catch(12),c=!0,l=t.t1;case 44:t.prev=44,t.prev=45,!s&&o.return&&o.return();case 47:if(t.prev=47,!c){t.next=50;break}throw l;case 50:return t.finish(47);case 51:return t.finish(44);case 52:e.allList=n.shop,e.total=Math.ceil(e.allList.length/e.num),e.listData=e.allList.slice((e.page-1)*e.num,e.page*e.num),e.tebClick("目标门店",0);case 56:case"end":return t.stop()}},t,e,[[12,40,44,52],[19,23,27,35],[28,,30,34],[45,,47,51]])}))()},getList:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var a,n,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.listData=[],a={logId:r,page:e.page,size:e.num},n=1==e.type?"InvoicingetAssignDetail":"InvoicingetAssignErrorDetail",1==e.type&&Object.assign(a,{type:e.tebIndex}),t.next=6,i.a[n]({data:a});case 6:if((s=t.sent).list){t.next=9;break}return t.abrupt("return");case 9:0===e.tebIndex&&(c=e,s.list.map(function(t){1==e.type?t.item=1==t.item?"直营店":"加盟店":t.item=c.typeList[Number(t.type)-1]+":"+t.item})),e.listData=s.list,e.total=s.total||0,e.allTotal=s.count||0;case 13:case"end":return t.stop()}},t,e)}))()},changePage:function(e){this.page=e.page,this.num=e.num,this.total=Math.ceil(this.allList.length/this.num),0==this.tabactive?this.getList():this.listData=this.allList.slice((this.page-1)*this.num,this.page*this.num)},getTime:function(e){return n.a.format(e,"yyyy-MM-dd hh:mm")}},mounted:function(){if(console.log(11111),this.$store.commit("setPageTools",[{name:"返回",className:["back"],fn:function(){window.history.go(-1)}}]),r=this.$route.query.logId,this.type=this.$route.query.type,this.tabactive=this.$route.query.tabactive,0==this.tabactive){var e=1==this.type?"目标门店":"异常";this.tebClick(e,0)}else this.tebData=["目标门店","权限指派"];this.nextinit()},components:{comTable:function(){return a.e("table").then(a.bind(null,"4360"))},pageTurn:function(){return a.e("page_element").then(a.bind(null,"5921"))}}},l=(a("9f1e"),a("d801")),o=Object(l.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"jurdetail"}},[a("div",{staticClass:"topbox"},[a("i"),e._v(" "),0==e.tabactive?a("h3",[e._v("查看同步详情")]):a("h3",[e._v("权限指派详情")]),e._v(" "),e._l(72,function(e){return a("div",{key:e,staticClass:"dian"})})],2),e._v(" "),a("div",{staticClass:"innerBox"},[a("ul",[a("li",[a("span",[e._v("方案名称：")]),e._v(" "),a("span",[e._v(e._s(e.planName||"--"))])])]),e._v(" "),a("ul",[a("li",[a("span",[e._v("操作时间：")]),e._v(" "),a("span",[e._v(e._s(e.getTime(e.createTime)))])])]),e._v(" "),a("ul",[a("li",[a("span",[e._v("操作人：")]),e._v(" "),a("span",[e._v(e._s(e.createUName||"--"))])])])]),e._v(" "),a("div",{staticClass:"table"},[1==e.type?a("ul",{staticClass:"tabbutton"},e._l(e.tebData,function(t,i){return a("li",{key:i,class:{active:i==e.tebIndex},on:{click:function(a){e.tebClick(t,i)}}},[a("span",[e._v(e._s(t))])])})):e._e(),e._v(" "),e.showList?a("div",e._l(e.childBox,function(t,i){return a("div",{key:i,staticClass:"childBox"},e._l(t,function(t,i){return a("div",{key:i,staticClass:"inputBox"},[a("h1",[e._v(e._s(t.name)+":")]),e._v(" "),a("div",{staticClass:"right middle"},[e._v(e._s(t.selter))])])}))})):a("div",[a("com-table",{attrs:{titleData:e.titleList,showHand:!1,allTotal:e.allTotal,introData:e.listData}}),e._v(" "),a("div",{staticClass:"page"},[a("page-turn",{attrs:{total:e.total,isNoJump:!0,num:e.num,page:e.page},on:{pageNum:e.changePage}})],1)],1)])])},[],!1,null,"3cc735c1",null);t.default=o.exports},"9f1e":function(e,t,a){"use strict";var i=a("b1bc");a.n(i).a},b1bc:function(e,t,a){}}]);