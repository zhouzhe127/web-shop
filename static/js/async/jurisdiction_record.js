(window.webpackJsonp=window.webpackJsonp||[]).push([["jurisdiction_record"],{"096a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"record"}},[a("ul",{staticClass:"tebBox"},t._l(t.tebData,function(e,i){return a("li",{key:i,class:{active:t.tabactive==i},on:{click:function(e){t.tebClick(i)}}},[t._v(t._s(e))])})),t._v(" "),a("com-table",{attrs:{listName:0==t.tabactive?"指派日志":"权限指派日志",titleData:t.setTitle,allTotal:t.allTotal,introData:t.listData},scopedSlots:t._u([{key:"con-0",fn:function(e){return a("div",{staticClass:"infoDetail",on:{click:function(a){t.checkDetail(a,e)}}},[a("a",{attrs:{href:"javascript:void(0);"}},[t._v("查看详情")]),t._v(" "),1==e.data.status?a("span",[t._v("|")]):t._e(),t._v(" "),1==e.data.status?a("a",{attrs:{href:"javascript:void(0);"}},[t._v("查看异常")]):t._e()])}},{key:"con-2",fn:function(e){return a("div",{},[0==t.tabactive?a("span",[t._v(t._s(1==e.data.status?"异常":"已完成"))]):t._e(),t._v(" "),1==t.tabactive?a("span",[t._v(t._s(e.data.createTime))]):t._e()])}}])}),t._v(" "),a("div",{staticClass:"page"},[a("page-turn",{attrs:{total:t.total,isNoJump:!0,num:t.num,page:t.page},on:{pageNum:t.changePage}})],1)],1)};i._withStripped=!0;var n=a("81a2"),s=a("bbb9");var r="",o="",c=1,u=1,l=10,h=10,m=0,v={data:function(){return{titleList:[{titleName:"操作",titleStyle:{"min-width":"200px"}},{titleName:"方案名称",dataName:"planName"},{titleName:"操作状态"},{titleName:"操作时间",dataName:"createTime"},{titleName:"操作人",dataName:"createUName"}],setTitle:[],allTotal:0,listData:[],total:0,page:1,num:10,tebData:["指派日志","权限指派日志"],tabactive:0}},methods:{init:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a="",i="",0==e.tabactive&&""===r?a="InvoicingetAssignLog":1==e.tabactive&&""===o&&(a="InvoicingetAssignInventoryConfigLog"),console.log(e.setTitle),!a){t.next=13;break}return e.listData=[],t.next=8,n.a[a]({data:{page:e.page,size:e.num}});case 8:(i=t.sent).list&&i.list.map(function(t){t.createTime=e.getTime(t.createTime)}),0==e.tabactive?r=i:o=i,t.next=14;break;case 13:i=0==e.tabactive?r:o;case 14:e.listData=i.list,e.total=i.total||0,e.allTotal=i.count||0;case 17:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,s){try{var r=e[n](s),o=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()},checkDetail:function(t,e){"a"==t.target.localName&&(this.$route.query.logId=e.data.logId,"查看详情"===t.target.innerText?this.$route.query.type=1:this.$route.query.type=2,this.$route.query.tabactive=this.tabactive,this.$router.push({path:"jurisdictionDetail",query:this.$route.query}))},changePage:function(t){this.page=t.page,this.num=t.num,0==this.tabactive?(r="",c=this.page,l=this.num):(o="",u=this.page,h=this.num),this.init()},setButton:function(){var t=this;this.$store.commit("setPageTools",[{name:"返回",className:["back"],fn:function(){c=1,u=1,l=10,h=10,m=0,t.$router.push({path:"/admin/brandAssign"})}},{name:"刷新",className:["refresh"],fn:function(){r="",o="",t.init()}}])},tebClick:function(t){this.tabactive=t,m=this.tabactive,this.setTitle=s.a.deepCopy(this.titleList),1==t?(this.setTitle.splice(2,1),this.page=u,this.num=h):(this.page=c,this.num=l),this.init()},getTime:function(t){return s.a.format(t,"yyyy-MM-dd hh:mm")}},mounted:function(){r="",o="",this.tabactive=m,this.setButton(),this.tebClick(m)},beforeRouteLeave:function(t,e,a){"/admin/brandAssign/jurisdictionDetail"!=t.path&&(c=1,u=1,l=10,h=10,m=0),a()},components:{comTable:function(){return a.e("table").then(a.bind(null,"4360"))},pageTurn:function(){return a.e("page_element").then(a.bind(null,"5921"))}}},p=(a("74bb"),a("7610")),d=Object(p.a)(v,i,[],!1,null,"052c4eb0",null);d.options.__file="src\\module\\invoicing_system\\brand_assign\\jurisdiction_record.vue";e.default=d.exports},"55d3":function(t,e,a){},"74bb":function(t,e,a){"use strict";var i=a("55d3");a.n(i).a}}]);