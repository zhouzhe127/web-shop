(window.webpackJsonp=window.webpackJsonp||[]).push([["off_cause"],{"29e0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this.$createElement;return(this._self._c||t)("wear-cause",{attrs:{type:this.type}})};a._withStripped=!0;var i={data:function(){return{type:1}},components:{wearCause:n("adf1").a}},s=(n("914d"),n("6ceb")),o=Object(s.a)(i,a,[],!1,null,"86b4b2be",null);o.options.__file="src\\module\\invoicing_system\\config_manage\\off_cause.vue";e.default=o.exports},"7aa5":function(t,e,n){"use strict";var a=n("f5c3");n.n(a).a},"914d":function(t,e,n){"use strict";var a=n("bb17");n.n(a).a},adf1:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"all",staticStyle:{"text-align":"left"},attrs:{id:"off"}},[n("ul",{staticClass:"oUl"},[n("li",{on:{click:t.add}},[n("i",{staticClass:"add"}),t._v(" "),n("h2",[t._v("新增原因")])]),t._v(" "),t._l(t.contractList,function(e,a){return n("section",{key:a},[n("li",{staticClass:"oLi"},[0==e.status?n("section",[n("section",[e.edit?n("h3",{staticStyle:{color:"gray"}},[t._v(t._s(e.name))]):n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editName,expression:"editName"}],attrs:{autofocus:"autofocus",maxlength:"30"},domProps:{value:t.editName},on:{input:function(e){e.target.composing||(t.editName=e.target.value)}}})]),t._v(" "),n("p",{staticClass:"index"},[t._v(t._s(a+1))]),t._v(" "),n("section",[n("div",{staticStyle:{background:"gray"},on:{click:function(n){t.deleteOff(e,a)}}},[t._v("删除")]),t._v(" "),e.edit?n("div",{staticStyle:{background:"#f8941f",right:"0"},on:{click:function(n){t.edit(a,e)}}},[t._v("编辑")]):n("div",{staticStyle:{background:"#f8941f",right:"0"},on:{click:function(n){t.editsave(e)}}},[t._v("完成")])])]):n("section",[e.edit?n("h3",{staticStyle:{color:"gray"}},[t._v(t._s(e.name))]):n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editname,expression:"editname"}],attrs:{autofocus:"autofocus",maxlength:"30"},domProps:{value:t.editname},on:{input:function(e){e.target.composing||(t.editname=e.target.value)}}}),t._v(" "),n("p",{staticClass:"index"},[t._v(t._s(a+1))])])])])})],2),t._v(" "),t.showcause?n("addwin",{attrs:{type:t.type},on:{"add-cause":t.addnewcause}}):t._e()],1)};a._withStripped=!0;var i=n("81a2"),s=n("f6ce");function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(i,s){try{var o=e[i](s),c=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(c).then(function(t){a("next",t)},function(t){a("throw",t)});t(c)}("next")})}}var c={data:function(){return{shopId:null,contractList:[],editName:"",showcause:!1}},props:{type:Number},methods:{getList:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.causeList({data:{shopId:t.shopId,type:t.type}});case 2:for(n=e.sent,a=0;a<n.length;a++)n[a].edit=!0;t.contractList=n;case 5:case"end":return e.stop()}},e,t)}))()},addCause:function(t){var e=this;return o(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.addCause({data:{shopId:e.shopId,name:t}});case 2:(a=n.sent).edit=!0,a.status=0,e.contractList.push(a);case 6:case"end":return n.stop()}},n,e)}))()},add:function(){this.showcause=!0},deleteOff:function(t,e){var n=this;this.$store.commit("setWin",{title:"提示信息",winType:"confirm",content:"确认删除?",callback:function(a){"ok"==a&&(i.a.deleteCause({data:{shopId:n.shopId,id:t.id}}),n.contractList.splice(e,1))}})},edit:function(t,e){for(var n=0;n<this.contractList.length;n++)n==t&&(this.contractList[n].edit=!1);this.editName=e.name},editsave:function(t){i.a.editCause({data:{shopId:this.shopId,id:t.id,name:this.editName}}),t.name=this.editName,t.edit=!t.edit},addnewcause:function(t,e){this.showcause=!1,"ok"==t&&this.addCause(e)}},mounted:function(){var t=s.a.session("userShop");this.shopId=t.currentShop.id,this.getList()},components:{addwin:function(){return n.e("addcause_win").then(n.bind(null,"0b11"))}}},r=(n("7aa5"),n("6ceb")),u=Object(r.a)(c,a,[],!1,null,"64a42527",null);u.options.__file="src\\module\\invoicing_system\\config_manage\\cause_public.vue";e.a=u.exports},bb17:function(t,e,n){},f5c3:function(t,e,n){}}]);