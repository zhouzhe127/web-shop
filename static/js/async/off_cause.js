(window.webpackJsonp=window.webpackJsonp||[]).push([["off_cause"],{"29e0":function(t,e,n){"use strict";n.r(e);var a={data:function(){return{type:1}},components:{wearCause:n("adf1").a}},i=(n("4a92"),n("d801")),s=Object(i.a)(a,function(){var t=this.$createElement;return(this._self._c||t)("wear-cause",{attrs:{type:this.type}})},[],!1,null,"8421f146",null);e.default=s.exports},"4a92":function(t,e,n){"use strict";var a=n("87e9");n.n(a).a},"87e9":function(t,e,n){},adf1:function(t,e,n){"use strict";var a=n("81a2"),i=n("f6ce");function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(i,s){try{var o=e[i](s),r=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(r).then(function(t){a("next",t)},function(t){a("throw",t)});t(r)}("next")})}}var o={data:function(){return{shopId:null,contractList:[],editName:"",showcause:!1}},props:{type:Number},methods:{getList:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.causeList({data:{shopId:t.shopId,type:t.type}});case 2:for(n=e.sent,i=0;i<n.length;i++)n[i].edit=!0;t.contractList=n;case 5:case"end":return e.stop()}},e,t)}))()},addCause:function(t){var e=this;return s(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.addCause({data:{shopId:e.shopId,name:t}});case 2:(i=n.sent).edit=!0,i.status=0,e.contractList.push(i);case 6:case"end":return n.stop()}},n,e)}))()},add:function(){this.showcause=!0},deleteOff:function(t,e){var n=this;this.$store.commit("setWin",{title:"提示信息",winType:"confirm",content:"确认删除?",callback:function(i){"ok"==i&&(a.a.deleteCause({data:{shopId:n.shopId,id:t.id}}),n.contractList.splice(e,1))}})},edit:function(t,e){for(var n=0;n<this.contractList.length;n++)n==t&&(this.contractList[n].edit=!1);this.editName=e.name},editsave:function(t){a.a.editCause({data:{shopId:this.shopId,id:t.id,name:this.editName}}),t.name=this.editName,t.edit=!t.edit},addnewcause:function(t,e){this.showcause=!1,"ok"==t&&this.addCause(e)}},mounted:function(){var t=i.a.session("userShop");this.shopId=t.currentShop.id,this.getList()},components:{addwin:function(){return n.e("addcause_win").then(n.bind(null,"0b11"))}}},r=(n("e661"),n("d801")),c=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"all",staticStyle:{"text-align":"left"},attrs:{id:"off"}},[n("ul",{staticClass:"oUl"},[n("li",{on:{click:t.add}},[n("i",{staticClass:"add"}),t._v(" "),n("h2",[t._v("新增原因")])]),t._v(" "),t._l(t.contractList,function(e,a){return n("section",{key:a},[n("li",{staticClass:"oLi"},[0==e.status?n("section",[n("section",[e.edit?n("h3",{staticStyle:{color:"gray"}},[t._v(t._s(e.name))]):n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editName,expression:"editName"}],attrs:{autofocus:"autofocus",maxlength:"30"},domProps:{value:t.editName},on:{input:function(e){e.target.composing||(t.editName=e.target.value)}}})]),t._v(" "),n("p",{staticClass:"index"},[t._v(t._s(a+1))]),t._v(" "),n("section",[n("div",{staticStyle:{background:"gray"},on:{click:function(n){t.deleteOff(e,a)}}},[t._v("删除")]),t._v(" "),e.edit?n("div",{staticStyle:{background:"#f8941f",right:"0"},on:{click:function(n){t.edit(a,e)}}},[t._v("编辑")]):n("div",{staticStyle:{background:"#f8941f",right:"0"},on:{click:function(n){t.editsave(e)}}},[t._v("完成")])])]):n("section",[e.edit?n("h3",{staticStyle:{color:"gray"}},[t._v(t._s(e.name))]):n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editname,expression:"editname"}],attrs:{autofocus:"autofocus",maxlength:"30"},domProps:{value:t.editname},on:{input:function(e){e.target.composing||(t.editname=e.target.value)}}}),t._v(" "),n("p",{staticClass:"index"},[t._v(t._s(a+1))])])])])})],2),t._v(" "),t.showcause?n("addwin",{attrs:{type:t.type},on:{"add-cause":t.addnewcause}}):t._e()],1)},[],!1,null,"9a4b306a",null);e.a=c.exports},e661:function(t,e,n){"use strict";var a=n("f437");n.n(a).a},f437:function(t,e,n){}}]);