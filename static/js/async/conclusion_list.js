(window.webpackJsonp=window.webpackJsonp||[]).push([["conclusion_list"],{"0a55":function(t,e,a){"use strict";var i=a("953e");a.n(i).a},"953e":function(t,e,a){},b082:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"waredeliver"}},[a("div",{staticClass:"serBox"},[a("h1",[t._v("提交时间：")]),t._v(" "),a("div",{staticClass:"timer"},[a("calendar",{attrs:{only:!1,time:t.startTime,format:"yyyy年MM月dd日"},on:{emit:t.startTimeChange}})],1),t._v(" "),a("span",[t._v("-")]),t._v(" "),a("div",{staticClass:"timer",staticStyle:{"margin-right":"10px"}},[a("calendar",{attrs:{only:!1,time:t.endTime,format:"yyyy年MM月dd日"},on:{emit:t.endTimeChange}})],1),t._v(" "),a("div",{staticClass:"rightEvt"},[a("h1",[t._v("审批时间：")]),t._v(" "),a("div",{staticClass:"timer"},[a("calendar",{ref:"auditstart",attrs:{only:!1,time:t.auditStartTime,format:"yyyy年MM月dd日"},on:{emit:t.auditStartTimeChange}})],1),t._v(" "),a("span",[t._v("-")]),t._v(" "),a("div",{staticClass:"timer",staticStyle:{"margin-right":"10px"}},[a("calendar",{ref:"auditend",attrs:{only:!1,time:t.auditEndTime,format:"yyyy年MM月dd日"},on:{emit:t.auditEndTimeChange}})],1)])]),t._v(" "),a("div",{staticClass:"inpBox"},[a("selectBtn",{ref:"select1",staticStyle:{"margin-right":"10px"},attrs:{sorts:t.auditStatus,name:"审核状态"},on:{selOn:t.changeBtn}}),t._v(" "),a("selectBtn",{ref:"select2",attrs:{sorts:t.dispatchStatus,name:"调度状态"},on:{selOn:t.dispatchBtn}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.upUser,expression:"upUser"}],staticClass:"search-input",attrs:{type:"text",maxlength:"10",placeholder:"请输入申请交人"},domProps:{value:t.upUser},on:{input:function(e){e.target.composing||(t.upUser=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkUser,expression:"checkUser"}],staticClass:"search-input",attrs:{type:"text",maxlength:"10",placeholder:"请输入审核人"},domProps:{value:t.checkUser},on:{input:function(e){e.target.composing||(t.checkUser=e.target.value)}}})],1),t._v(" "),a("div",{staticClass:"sleBox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.bathcode,expression:"bathcode"}],staticClass:"search-input",attrs:{type:"text",maxlength:"20",placeholder:"请输入申请单号"},domProps:{value:t.bathcode},on:{input:function(e){e.target.composing||(t.bathcode=e.target.value)}}}),t._v(" "),a("div",{staticClass:"btnChange"},[a("a",{staticClass:"blue",attrs:{href:"javascript:void(0);"},on:{click:t.searchList}},[t._v("筛选")]),t._v(" "),a("a",{staticClass:"gray",attrs:{href:"javascript:void(0);"},on:{click:t.searchReset}},[t._v("重置")])])]),t._v(" "),a("com-table",{attrs:{listName:"仓库发货列表",titleData:t.titleList,allTotal:t.count,introData:t.introData,listWidth:1200},scopedSlots:t._u([{key:"con-0",fn:function(e){return a("div",{on:{click:function(a){t.detailBtn(e.data)}}},[1==e.data.auditStatus&&1==e.data.dispatchStatus?a("span",{staticClass:"orBtn"},[t._v("审核")]):t._e(),t._v(" "),1==e.data.auditStatus&&2==e.data.dispatchStatus?a("span",{staticClass:"orBtn"},[t._v("继续审核")]):t._e(),t._v(" "),1!=e.data.auditStatus||e.data.dispatchStatus>2?a("span",{staticClass:"detailsBtn"},[t._v("查看详情")]):t._e()])}},{key:"con-1",fn:function(e){return a("span",{},[t._v(t._s(e.index+1+10*(t.page-1)))])}},{key:"con-2",fn:function(e){return a("span",{},[t._v(t._s(t.auditStatus[e.data.auditStatus]))])}},{key:"con-3",fn:function(e){return a("span",{},[t._v(t._s(t.dispatchStatus[e.data.dispatchStatus]))])}},{key:"con-5",fn:function(e){return a("span",{},[t._v(t._s(t.shopName(e.data.shopId)))])}},{key:"con-6",fn:function(e){return a("span",{},[t._v(t._s(t.getUserName(e.data.createUid)))])}},{key:"con-8",fn:function(e){return a("span",{},[t._v(t._s(t.getUserName(e.data.auditUid)))])}}])}),t._v(" "),a("div",{staticClass:"page-box"},[a("page-turn",{attrs:{isNoPaging:!0,total:t.pageTotal,page:t.page},on:{pageNum:t.pageChange}})],1)],1)};i._withStripped=!0;var n=a("81a2"),r=a("bbb9"),s=a("f6ce"),u=a("05dd");function d(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),u=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(u).then(function(t){i("next",t)},function(t){i("throw",t)});t(u)}("next")})}}var o=s.a.session("userShop").shopList,c={data:function(){return{startTime:r.a.getTime({time:new Date}).start-u.a.timeConst.ONEMONTH,endTime:r.a.getTime({time:new Date}).end,auditStartTime:0,auditEndTime:0,upUser:"",checkUser:"",bathcode:"",page:1,pageTotal:0,titleList:[{titleName:"操作"},{titleName:"序号"},{titleName:"审核状态"},{titleName:"调度状态"},{titleName:"申请单号",dataName:"code"},{titleName:"申请店铺/品牌"},{titleName:"申请人"},{titleName:"申请时间",dataName:"createTime"},{titleName:"审核人"},{titleName:"审批时间",dataName:"auditTime"}],auditStatus:["全部","审核中","已取消","审核未通过","审核通过"],user:"",auditType:0,dispatchStatus:["全部","未调度","调度中","未出货","全部取消","待入货","已完成","已完成（异常）"],dispatchType:0,wareIds:"",introData:"",count:""}},methods:{init:function(){var t=this;return d(regeneratorRuntime.mark(function e(){var a,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return parseInt(t.startTime)>parseInt(t.endTime)&&(a=[t.endTime,t.startTime],t.startTime=a[0],t.endTime=a[1]),parseInt(t.auditStartTime)>parseInt(t.auditEndTime)&&(i=[t.auditEndTime,t.auditStartTime],t.auditStartTime=i[0],t.auditEndTime=i[1]),e.next=4,n.a.invoic_getAuditList({data:{applyStartTime:parseInt(t.startTime/1e3),applyEndTime:parseInt(t.endTime/1e3),auditStartTime:parseInt(t.auditStartTime/1e3),auditEndTime:parseInt(t.auditEndTime/1e3),auditStatus:t.auditType,dispatchStatus:t.dispatchType,createUid:t.getUserId(t.upUser),auditUid:t.getUserId(t.checkUser),code:t.bathcode,wids:t.wareIds,page:t.page,num:10}});case 4:r=e.sent,t.introData=r.list,t.pageTotal=r.total,t.count=r.count;case 8:case"end":return e.stop()}},e,t)}))()},getWare:function(){var t=this;return d(regeneratorRuntime.mark(function e(){var a,i,r,u,d,o,c,l,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.warehouseList();case 2:return a=e.sent,e.next=5,n.a.getUserList();case 5:for(i=e.sent,r=[],u=!0,d=!1,o=void 0,e.prev=10,c=a[Symbol.iterator]();!(u=(l=c.next()).done);u=!0)m=l.value,r.push(m.id);e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),d=!0,o=e.t0;case 18:e.prev=18,e.prev=19,!u&&c.return&&c.return();case 21:if(e.prev=21,!d){e.next=24;break}throw o;case 24:return e.finish(21);case 25:return e.finish(18);case 26:t.wareIds=r.join(","),t.auditStartTime=0,t.auditEndTime=0,t.user=i,s.a.session("user",t.user),t.init();case 32:case"end":return e.stop()}},e,t,[[10,14,18,26],[19,,21,25]])}))()},getUserName:function(t){var e=!0,a=!1,i=void 0;try{for(var n,r=this.user[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var s=n.value;if(Number(s.userId)===Number(t))return s.userName}}catch(t){a=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(a)throw i}}return"--"},getUserId:function(t){var e=[],a=!0,i=!1,n=void 0;try{for(var r,s=this.user[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var u=r.value;u.userName===t&&e.push(u.userId)}}catch(t){i=!0,n=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return e.length>0?e.join(","):""},startTimeChange:function(t){this.startTime=r.a.getTime({time:t}).start},endTimeChange:function(t){this.endTime=r.a.getTime({time:t}).end},auditStartTimeChange:function(t){this.auditStartTime=r.a.getTime({time:t}).start},auditEndTimeChange:function(t){this.auditEndTime=r.a.getTime({time:t}).end},changeBtn:function(t){this.auditType=t},dispatchBtn:function(t){this.dispatchType=t},searchList:function(){this.upUser&&""==this.getUserId(this.upUser)||this.checkUser&&""==this.getUserId(this.checkUser)?(this.introData="",this.pageTotal=1,this.count=0):this.init()},searchReset:function(){this.auditType=0,this.dispatchType=0,this.upUser="",this.checkUser="",this.bathcode="",this.startTime=r.a.getTime({time:new Date}).start,this.endTime=r.a.getTime({time:new Date}).end,this.auditStartTime=0,this.auditEndTime=0,this.$refs.auditstart.timestr="--",this.$refs.auditend.timestr="--",this.$refs.select1.sortName="审核状态",this.$refs.select1.selected=0,this.$refs.select2.sortName="调度状态",this.$refs.select2.selected=0,this.init()},detailBtn:function(t){this.$route.query.id=t.id,this.$router.push({path:"conclusionList/shipmentVerify",query:this.$route.query})},pageChange:function(t){this.page=t.page,this.init()},shopName:function(t){var e=!0,a=!1,i=void 0;try{for(var n,r=o.brand[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var s=n.value;if(s.id==t)return s.name;if(s.direct){var u=!0,d=!1,c=void 0;try{for(var l,m=s.direct[Symbol.iterator]();!(u=(l=m.next()).done);u=!0){var h=l.value;if(h.id==t)return s.name+"-"+h.name}}catch(t){d=!0,c=t}finally{try{!u&&m.return&&m.return()}finally{if(d)throw c}}}if(s.franchise){var p=!0,f=!1,v=void 0;try{for(var y,g=s.franchise[Symbol.iterator]();!(p=(y=g.next()).done);p=!0){var T=y.value;if(T.id==t)return s.name+"-"+T.name}}catch(t){f=!0,v=t}finally{try{!p&&g.return&&g.return()}finally{if(f)throw v}}}}}catch(t){a=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(a)throw i}}var _=!0,S=!1,b=void 0;try{for(var w,x=o.noBrand[Symbol.iterator]();!(_=(w=x.next()).done);_=!0){var N=w.value;if(N.id==t)return N.name}}catch(t){S=!0,b=t}finally{try{!_&&x.return&&x.return()}finally{if(S)throw b}}}},mounted:function(){this.getWare()},updated:function(){this.$refs.auditstart&&0===this.auditStartTime&&(this.$refs.auditstart.timestr="--"),this.$refs.auditend&&0===this.auditEndTime&&(this.$refs.auditend.timestr="--")},watch:{bathcode:function(t){/[\u4e00-\u9fa5]/g.test(t)&&(this.bathcode="")}},components:{comTable:function(){return a.e("table").then(a.bind(null,"4360"))},calendar:function(){return a.e("calendar_type").then(a.bind(null,"f2dd"))},pageTurn:function(){return a.e("page_element").then(a.bind(null,"5921"))},selectBtn:function(){return a.e("select_btn").then(a.bind(null,"3d41"))}}},l=(a("0a55"),a("7610")),m=Object(l.a)(c,i,[],!1,null,"c5005ee2",null);m.options.__file="src\\module\\invoicing_system\\conclusion\\conclusion_list.vue";e.default=m.exports}}]);