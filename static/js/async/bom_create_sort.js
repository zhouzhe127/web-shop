(window.webpackJsonp=window.webpackJsonp||[]).push([["bom_create_sort"],{"4e64":function(t,i,s){"use strict";var e=s("8e59");s.n(e).a},"8e59":function(t,i,s){},a987:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("win",{attrs:{align:"center",width:800,height:"auto",type:"confirm"},on:{winEvent:t.clickResult}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("仓库消耗排序")]),t._v(" "),s("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"block select-ban"},[s("div",{staticClass:"box list",on:{click:t.listClick}},[t._l(t.list,function(i,e){return i.selected?t._e():s("span",{key:e,staticClass:"btn",attrs:{"data-id":i.id}},[t._v("\n\t\t\t\t\t"+t._s(i.name)+"\n\t\t\t\t")])}),t._v(" "),t.list.length?t._e():s("div",{staticClass:"empty"},[t._v("-本店还没有仓库-")])],2),t._v(" "),s("div",{staticClass:"box sort",on:{click:t.sortClick}},[s("div",{staticClass:"title"},[t._v("已选择：("+t._s(t.sortList.length)+")")]),t._v(" "),t._l(t.sortList,function(i,e){return s("div",{key:e,staticClass:"item"},[s("em",[t._v(t._s(e+1))]),t._v(" "),s("span",{staticClass:"btn sign",attrs:{"data-id":i.id}},[t._v("\n\t\t\t\t\t\t"+t._s(i.name)+"\n\t\t\t\t\t")])])})],2)])])])};e._withStripped=!0;var n=s("bbb9"),r={data:function(){return{list:[],sortList:[],widList:[],shopId:"",isBrand:""}},props:["winOpen"],mounted:function(){var t=n.a.deepCopy(this.winOpen);for(var i in t)t[i]&&"list"!=i&&(this[i]=t[i]);var s=[],e=!0,r=!1,a=void 0;try{for(var l,o=t.list[Symbol.iterator]();!(e=(l=o.next()).done);e=!0){var c=l.value;this.isBrand?c.brandId==this.shopId&&"0"==c.shopId&&s.push(c):c.shopId==this.shopId&&s.push(c)}}catch(t){r=!0,a=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw a}}this.list=s,this.setDefault()},methods:{clickResult:function(t){"ok"==t?this.$emit("emit",this.widList):this.$emit("emit",!1)},setDefault:function(){if(this.widList.length){var t=!0,i=!1,s=void 0;try{for(var e,n=this.widList[Symbol.iterator]();!(t=(e=n.next()).done);t=!0){var r=e.value,a=!0,l=!1,o=void 0;try{for(var c,d=this.list[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value;h.id==r&&(this.sortList.push(h),h.selected=!0)}}catch(t){l=!0,o=t}finally{try{!a&&d.return&&d.return()}finally{if(l)throw o}}}}catch(t){i=!0,s=t}finally{try{!t&&n.return&&n.return()}finally{if(i)throw s}}}else{var u=!0,v=!1,f=void 0;try{for(var p,m=this.list[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){p.value.selected=!1}}catch(t){v=!0,f=t}finally{try{!u&&m.return&&m.return()}finally{if(v)throw f}}}},listClick:function(t){var i=t.target;if(i.className.includes("btn")&&!i.className.includes("ban")){var s=i.getAttribute("data-id"),e={id:s,name:i.textContent};for(var n in this.list)this.list[n].id==s&&(this.list[n].selected=!0);this.sortList.push(e),this.widList.push(s)}i.className.includes("ban")&&this.$message({message:"该物料在此仓库中没有库存，无法排序",type:"error"})},sortClick:function(t){var i=t.target;if(i.className.includes("btn")){var s=i.getAttribute("data-id");for(var e in this.list)this.list[e].id==s&&(this.list[e].selected=!1);for(var n in this.sortList)this.sortList[n].id==s&&(this.sortList.splice(n,1),this.widList.splice(n,1))}}},components:{win:function(){return s.e("win").then(s.bind(null,"f60a"))}}},a=(s("4e64"),s("6ceb")),l=Object(a.a)(r,e,[],!1,null,"b9a00f9c",null);l.options.__file="src\\module\\invoicing_system\\invoicing\\bom_create_sort.vue";i.default=l.exports}}]);