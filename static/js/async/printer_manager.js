(window.webpackJsonp=window.webpackJsonp||[]).push([["printer_manager"],{"0090":function(t,e,n){},3621:function(t,e,n){"use strict";n.r(e);var i=[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"combox"},[e("img",{attrs:{src:n("f518"),alt:"添加"}}),this._v(" "),e("h3",[this._v("新建打印机")])])}],r=n("81a2"),s=n("f6ce");function a(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(r,s){try{var a=e[r](s),o=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}var o={data:function(){return{shopId:null,printerList:[],detial:null,showWin:!1,printerId:"",types:"",printIndex:0,printDetial:null}},mounted:function(){var t=s.a.session("userShop");this.shopId=t.currentShop.id,this.getPrinterList()},components:{printManagerWin:function(){return n.e("printer_manager_win").then(n.bind(null,"a727"))}},methods:{getPrinterList:function(){var t=this;return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getPrinterList({data:{shopId:t.shopId}});case 2:t.printerList=e.sent,t.printerList.sort(t.printerSort("sort"));case 4:case"end":return e.stop()}},e,t)}))()},openWin:function(t,e,n){var i=this;return a(regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if("edit"!=e){s.next=4;break}return s.next=3,r.a.getPrintDetial({data:{shopId:i.shopId,printerId:t}});case 3:i.printDetial=s.sent;case 4:i.ass="printManagerWin",i.showWin=!0,i.printerId=t,i.types=e,i.printIndex=n;case 9:case"end":return s.stop()}},s,i)}))()},throwWinResult:function(t,e){var n=this;this.printDetial=e,"ok"==t?("addPrint"==this.types?this.addPrint():"edit"==this.types&&this.editPrinter(),this.showWin=!1):"cancel"==t&&"edit"==this.types?this.$store.commit("setWin",{title:"操作提示",winType:"confirm",content:"确定删除该打印机?",callback:function(t){"ok"==t&&(n.deletePrinter(),n.showWin=!1)}}):this.showWin=!1},addPrint:function(){var t=this;return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.addPrint({data:{shopId:t.printDetial.shopId,createUid:t.printDetial.createUid,printerName:t.printDetial.printerName,ip:t.printDetial.ip,slaveIp:t.printDetial.slaveIp,maxLen:t.printDetial.maxLen,type:t.printDetial.type,sort:t.printDetial.sort}});case 2:t.getPrinterList();case 3:case"end":return e.stop()}},e,t)}))()},editPrinter:function(){var t=this;return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.editPrinter({data:{printerId:t.printDetial.printerId,shopId:t.printDetial.shopId,createUid:t.printDetial.createUid,printerName:t.printDetial.printerName,ip:t.printDetial.ip,slaveIp:t.printDetial.slaveIp,maxLen:t.printDetial.maxLen,type:t.printDetial.type,sort:t.printDetial.sort}});case 2:t.getPrinterList();case 3:case"end":return e.stop()}},e,t)}))()},deletePrinter:function(){var t=this;return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.deletePrinter({data:{printerId:t.printDetial.printerId,shopId:t.printDetial.shopId}});case 2:t.getPrinterList();case 3:case"end":return e.stop()}},e,t)}))()},printerSort:function(t){return function(e,n){var i=parseInt(e[t]),r=parseInt(n[t]);return i>r?1:i<r?-1:0}}}},p=(n("bea7"),n("d801")),c=Object(p.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"fl user-content",attrs:{id:"printer"}},[n("section",{staticClass:"user-info"},[n("section",{staticClass:"commodity-box"},[n("section",{staticClass:"commodityAdd fl",on:{click:function(e){t.openWin(null,"addPrint",null)}}},[t._m(0)]),t._v(" "),t._l(t.printerList,function(e,i){return n("section",{key:i,staticClass:"fl",staticStyle:{"background-color":"#eeeeee",color:"#898989"},on:{click:function(n){t.openWin(e.id,"edit",i)}}},[n("section",{staticStyle:{"border-left":"2px solid #026eb7",height:"30px",width:"100%","margin-bottom":"40px"}},[n("section",{staticClass:"fl",staticStyle:{width:"210px","text-indent":"10px"}},[n("section",{staticStyle:{height:"30px","line-height":"30px","font-size":"16px","word-wrap":"break-word","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},attrs:{title:e.printerName}},[t._v(t._s(e.printerName))])]),t._v(" "),n("section",{staticClass:"fr",staticStyle:{width:"80px",height:"60px","line-height":"60px","text-align":"center"}},[n("h2",{staticStyle:{"font-size":"64px",color:"#dddddd"}},[t._v(t._s(i+1))])])]),t._v(" "),n("section",{staticStyle:{height:"70px","text-indent":"10px"}},[2==e.type||3==e.type?n("p",{staticStyle:{color:"#666","font-size":"18px","font-weight":"bold","line-height":"30px",height:"30px"}},[t._v("序列号：\n\t\t\t\t\t\t"),n("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(e.ip))])]):n("p",{staticStyle:{color:"#666","font-size":"18px","font-weight":"bold","line-height":"30px",height:"30px"}},[t._v("IP：\n\t\t\t\t\t\t"),n("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(e.ip))])]),t._v(" "),n("p",{staticStyle:{height:"20px","line-height":"20px"}},[t._v("字宽：\n\t\t\t\t\t\t"),n("span",[t._v(t._s(e.maxLen))])]),t._v(" "),n("p",{staticStyle:{height:"20px","line-height":"20px"}},[t._v("类型：\n\t\t\t\t\t\t"),n("span",[t._v(t._s(e.typeName))])])])])})],2),t._v(" "),t.showWin?n(t.ass,{tag:"component",attrs:{printDetial:t.printDetial,printerId:t.printerId,printerList:t.printerList,types:t.types,printIndex:t.printIndex,showWin:t.showWin},on:{printManagerWin:t.throwWinResult}}):t._e()],1)])},i,!1,null,"d10177a2",null);e.default=c.exports},bea7:function(t,e,n){"use strict";var i=n("0090");n.n(i).a},f518:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAvCAYAAABzJ5OsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAKxJREFUeNrs2LENgzAQhWE7ygAZgQ2yApsk9S1hGMJeB7ERGzhHh+w0EXdF0P8ky9IV8BVH8Yi11mCdUsqg1/s4E5HJ+j334JMdn5qZOf4W/jjgwYMHDx48ePDgwYMHD/7XxJxzV5aNOuyrmc0eBfxbWfZIYm2ugt/XZtOzGj/3oefZzFbzD9bpj9mo13KciUhkbcCDBw8ePHjw4MGDBw8e/MkC7hGPUt/lI8AAt9oYPL6CVYkAAAAASUVORK5CYII="}}]);