(window.webpackJsonp=window.webpackJsonp||[]).push([["speech_win"],{2841:function(e,t,n){},"2b22":function(e,t,n){},"3d73":function(e,t,n){"use strict";var i=n("2841");n.n(i).a},4823:function(e,t,n){"use strict";var i=n("2b22");n.n(i).a},"8e1a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTA0ODZBOUIwQkFFMTFFNzk3RDJCQzVDOEI2MTFBNjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTA0ODZBOUMwQkFFMTFFNzk3RDJCQzVDOEI2MTFBNjgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1MDQ4NkE5OTBCQUUxMUU3OTdEMkJDNUM4QjYxMUE2OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MDQ4NkE5QTBCQUUxMUU3OTdEMkJDNUM4QjYxMUE2OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pkpzd28AAAC/SURBVHjaYvz//z8DNQELNsGFCxeyAqmJQBwBxIJo0u+BeAUQ58fHx/9G18uEw6JsIM7EYhgDVAwkl0W0C4HAGEpnAV0xHc31GUAKJGaCTSMuF8LEP2KR+4RPLyMsUoA2UxQ7QJ8w4nMh2YCR2smG6i5kQovB/8hhSSqf9i4cNZB6pQ166sfFHxAX/gBiDmDaMgDSDwnolUfSg9PA9UAcCcTnSXDUenwGpgPxVyD2BrmUgEEgl20F4iJkQYAAAwB53EHrkKaJbQAAAABJRU5ErkJggg=="},"8e35":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAyRTk3N0U3NjkwOTExRTY4MzI2OEU1NkY3Qjg2QTA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAyRTk3N0U4NjkwOTExRTY4MzI2OEU1NkY3Qjg2QTA3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDJFOTc3RTU2OTA5MTFFNjgzMjY4RTU2RjdCODZBMDciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDJFOTc3RTY2OTA5MTFFNjgzMjY4RTU2RjdCODZBMDciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7A3duJAAAANElEQVR42mL6//8/Ax6MDPCpY2BioBIYNYiOBrEA8X8i1f4fel5jJNI7jKPpaNQgHAAgwAAuLjvvigxAWAAAAABJRU5ErkJggg=="},b3b0:function(e,t,n){"use strict";n.r(t);var i=n("81a2"),s=n("bbb9");function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(s,r){try{var a=t[s](r),c=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(c).then(function(e){i("next",e)},function(e){i("throw",e)});e(c)}("next")})}}var a={data:function(){return{speechList:[],speechNames:this.speechName,showPath:!1,chooseMenu:"",menuList:[]}},props:{speechs:{type:Array,default:function(){return[]}},speechName:{type:String},speechId:"",speechType:"",type:""},computed:{isEdit:function(){return 0!=this.speechs.length||""!=this.speechName},cancelType:function(){return this.isEdit?{content:"删除"}:{content:"取消"}}},methods:{winEvent:function(e){var t=this;"ok"==e?this.isEdit?this.editSpeech():this.addSpeech():"cancel"==e&&this.isEdit?this.$store.commit("setWin",{title:"操作提示",winType:"confirm",content:"确认删除话术组",callback:function(e){"ok"==e&&t.deleteSpeech()}}):this.$emit("closeWin")},addSpeech:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,s,r,a,c,o,h,u,p,l,d,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.speechNames.trim()){t.next=3;break}return e.valiData("话术组名称不能为空"),t.abrupt("return",!1);case 3:if(n=[],"new"!=e.type){t.next=52;break}s=!0,r=!1,a=void 0,t.prev=8,c=e.speechList[Symbol.iterator]();case 10:if(s=(o=c.next()).done){t.next=18;break}if(""!=o.value.value){t.next=15;break}return e.valiData("话术内容不能为空"),t.abrupt("return",!1);case 15:s=!0,t.next=10;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(8),r=!0,a=t.t0;case 24:t.prev=24,t.prev=25,!s&&c.return&&c.return();case 27:if(t.prev=27,!r){t.next=30;break}throw a;case 30:return t.finish(27);case 31:return t.finish(24);case 32:for(h=!0,u=!1,p=void 0,t.prev=35,l=e.speechList[Symbol.iterator]();!(h=(d=l.next()).done);h=!0)v=d.value,n.push(v.value);t.next=43;break;case 39:t.prev=39,t.t1=t.catch(35),u=!0,p=t.t1;case 43:t.prev=43,t.prev=44,!h&&l.return&&l.return();case 46:if(t.prev=46,!u){t.next=49;break}throw p;case 49:return t.finish(46);case 50:return t.finish(43);case 51:n=n.join("&");case 52:return t.next=54,i.a.addBaltrick({data:{name:e.speechNames,content:"new"==e.type?n:JSON.stringify(e.speechList),type:"new"==e.type?0:1}});case 54:e.$emit("closeWin","success");case 55:case"end":return t.stop()}},t,e,[[8,20,24,32],[25,,27,31],[35,39,43,51],[44,,46,50]])}))()},editSpeech:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,s,r,a,c,o,h,u,p,l,d,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.speechNames.trim()){t.next=3;break}return e.valiData("话术组名称不能为空"),t.abrupt("return",!1);case 3:if(n=[],"oldnew"!=e.type){t.next=52;break}s=!0,r=!1,a=void 0,t.prev=8,c=e.speechList[Symbol.iterator]();case 10:if(s=(o=c.next()).done){t.next=18;break}if(""!=o.value.value){t.next=15;break}return e.valiData("话术内容不能为空"),t.abrupt("return",!1);case 15:s=!0,t.next=10;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(8),r=!0,a=t.t0;case 24:t.prev=24,t.prev=25,!s&&c.return&&c.return();case 27:if(t.prev=27,!r){t.next=30;break}throw a;case 30:return t.finish(27);case 31:return t.finish(24);case 32:for(h=!0,u=!1,p=void 0,t.prev=35,l=e.speechList[Symbol.iterator]();!(h=(d=l.next()).done);h=!0)v=d.value,n.push(v.value);t.next=43;break;case 39:t.prev=39,t.t1=t.catch(35),u=!0,p=t.t1;case 43:t.prev=43,t.prev=44,!h&&l.return&&l.return();case 46:if(t.prev=46,!u){t.next=49;break}throw p;case 49:return t.finish(46);case 50:return t.finish(43);case 51:n=n.join("&");case 52:return t.next=54,i.a.editBaltrick({data:{id:e.speechId,name:e.speechNames,content:"oldnew"==e.type?n:JSON.stringify(e.speechList),type:"oldnew"==e.type?0:1}});case 54:e.$emit("closeWin","success");case 55:case"end":return t.stop()}},t,e,[[8,20,24,32],[25,,27,31],[35,39,43,51],[44,,46,50]])}))()},deleteSpeech:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.delVerBaltrick({data:{id:e.speechId}});case 2:e.$emit("closeWin","success");case 3:case"end":return t.stop()}},t,e)}))()},valiData:function(e){this.$store.commit("setWin",{content:e,winType:"alert",title:"操作提示"})},createSpeech:function(){if(this.speechList.length>19)return this.$store.commit("setWin",{content:"话术不能多于20条",winType:"alert",title:"操作提示"}),!1;this.speechList.push({value:""})},delSpeech:function(e){this.speechList.splice(e,1),this.speechList.length},delOldSpeech:function(e){this.oldSpeech.splice(e,1),this.oldSpeech.length},chooseFun:function(e){if(this.speechList.length>19)return this.$store.commit("setWin",{content:"话术不能多于20条",winType:"alert",title:"操作提示"}),!1;this.showPath=!0,this.chooseMenu=e},getResult:function(e,t){"ok"==e&&(this.speechList=t),this.showPath=!1},getMeun:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,s,r,a,c,o,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.getSelfMenu({data:{}});case 2:for(n=t.sent,s=!0,r=!1,a=void 0,t.prev=6,c=n[Symbol.iterator]();!(s=(o=c.next()).done);s=!0)(h=o.value).flag&&""!=h.flag&&e.menuList.push(h);t.next=14;break;case 10:t.prev=10,t.t0=t.catch(6),r=!0,a=t.t0;case 14:t.prev=14,t.prev=15,!s&&c.return&&c.return();case 17:if(t.prev=17,!r){t.next=20;break}throw a;case 20:return t.finish(17);case 21:return t.finish(14);case 22:case"end":return t.stop()}},t,e,[[6,10,14,22],[15,,17,21]])}))()}},mounted:function(){if("path"!=this.type&&"oldpath"!=this.type||this.getMeun(),this.speechType&&"0"==this.speechType){var e=!0,t=!1,n=void 0;try{for(var i,r=this.speechs[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var a=i.value,c={};c.value=a,this.speechList.push(c)}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}else this.speechList=s.a.deepCopy(this.speechs)},components:{win:function(){return n.e("win").then(n.bind(null,"f60a"))},"path-win":function(){return Promise.resolve().then(n.bind(null,"e629"))}}},c=(n("4823"),n("d801")),o=Object(c.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("win",{attrs:{width:653,height:695,align:"right",cancel:e.cancelType},on:{winEvent:e.winEvent}},[i("span",{attrs:{slot:"title"},slot:"title"},[e._v("新建话术组")]),e._v(" "),i("div",{staticClass:"speech_content",attrs:{slot:"content"},slot:"content"},[i("header",{staticClass:"content_header"},[i("span",[e._v("话术组名称")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.speechNames,expression:"speechNames",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"4",placeholder:"输入名称"},domProps:{value:e.speechNames},on:{input:function(t){t.target.composing||(e.speechNames=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),i("section",{staticClass:"content_body"},[i("ul",e._l(e.speechList,function(t,s){return i("li",{key:s},[i("span",[e._v(e._s(s+1))]),e._v(" "),"new"==e.type||"oldnew"==e.type?i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.value,expression:"item.value",modifiers:{trim:!0}}],attrs:{maxlength:"100",type:"text",placeholder:"请输入话术内容"},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",n.target.value.trim())},blur:function(t){e.$forceUpdate()}}}):e._e(),e._v(" "),"path"==e.type||"oldpath"==e.type?i("div",{staticClass:"pathname",on:{click:function(n){e.chooseFun(t)}}},[e._v(e._s(t.name))]):e._e(),e._v(" "),i("img",{attrs:{src:n("8e1a")},on:{click:function(t){e.delSpeech(s)}}})])})),e._v(" "),"new"==e.type||"oldnew"==e.type?i("div",{staticClass:"add_win",on:{click:e.createSpeech}},[i("img",{attrs:{src:n("8e35")}}),e._v("新建话术内容")]):e._e(),e._v(" "),"path"==e.type||"oldpath"==e.type?i("div",{staticClass:"add_win",on:{click:function(t){e.chooseFun("")}}},[i("img",{attrs:{src:n("8e35")}}),e._v("选择功能")]):e._e()]),e._v(" "),i("transition",{attrs:{name:"fade"}},[e.showPath?i("path-win",{attrs:{speechList:e.speechList,detail:e.chooseMenu,menuList:e.menuList},on:{getAppliedWin:e.getResult}}):e._e()],1)],1)])},[],!1,null,"483696af",null);t.default=o.exports},e629:function(e,t,n){"use strict";n.r(t);var i={data:function(){return{menuType:[],chooseMenu:""}},props:{speechList:Array,detail:"",menuList:Array},methods:{getAppliedWin:function(e){if("ok"==e){if(this.menuType.length<="0")return this.$store.commit("setWin",{content:"请选择功能",winType:"alert",title:"操作提示"}),!1;var t=!0,n=!1,i=void 0;try{for(var s,r=this.menuList[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var a=s.value;this.menuType[0]==a.type&&(this.chooseMenu=a)}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}var c=!0,o=!1,h=void 0;try{for(var u,p=this.speechList[Symbol.iterator]();!(c=(u=p.next()).done);c=!0){var l=u.value;if(this.chooseMenu.type==l.type)return this.$store.commit("setWin",{content:"请勿添加重复的功能",winType:"alert",title:"操作提示"}),!1}}catch(e){o=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(o)throw h}}if(""!=this.detail)for(var d=0;d<this.speechList.length;d++)this.speechList[d].type==this.detail.type&&this.speechList.splice(d,1,this.chooseMenu);else this.speechList.push(this.chooseMenu)}this.$emit("getAppliedWin",e,this.speechList)}},computed:{},components:{Win:function(){return Promise.resolve().then(n.bind(null,"f60a"))},"mul-select":function(){return n.e("mul_select").then(n.bind(null,"7d09"))}},mounted:function(){""!=this.detail&&this.menuType.push(this.detail.type)}},s=(n("3d73"),n("d801")),r=Object(s.a)(i,function(){var e=this.$createElement,t=this._self._c||e;return t("Win",{attrs:{width:740,height:700,align:"center"},on:{winEvent:this.getAppliedWin}},[t("span",{attrs:{slot:"title"},slot:"title"},[this._v("选择功能")]),this._v(" "),t("div",{attrs:{slot:"content",id:"tan"},slot:"content"},[t("mul-select",{attrs:{styles:{backgroundColor:"rgb(236,236,236)",marginRight:"8px",marginBottom:"8px"},list:this.menuList,selects:this.menuType,name:"name",keys:"type",isradio:!0}})],1)])},[],!1,null,"05f00684",null);t.default=r.exports}}]);