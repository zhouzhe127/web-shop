(window.webpackJsonp=window.webpackJsonp||[]).push([["order_brand"],{"186c":function(t,e,i){},"261f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjYyM0UzMTQ4NTkxMTFFNzlBRDhBMkNGNUZBRUVBMkMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjYyM0UzMTU4NTkxMTFFNzlBRDhBMkNGNUZBRUVBMkMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGNjIzRTMxMjg1OTExMUU3OUFEOEEyQ0Y1RkFFRUEyQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGNjIzRTMxMzg1OTExMUU3OUFEOEEyQ0Y1RkFFRUEyQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj/mrqgAAAO6SURBVHjajFRLbxtVFL5zZzxje+w4fsZtnMRN46KYOCmtlQqaBLWK06JK7YIFEkL9CyxIgSUPiQ0Sahcs2ID6A+iiEkggBUpLjJukEPeNELR1bMuVx57ajmdsz4tzHILiBqpeazSee2e+853vfOcwJ1Jn9q9nV27phu4QeDsxTYM872IYhjCUknr9CZmIv/QeMzI8+lutJifmZlNhwzAk0zSfHwwuwW4nd+5mL5ZKhbNUbakHBweHv6AMlVRVIYahE5Zln3nh6nTapA1Xs9kko/tin3I2G+E4llN1XafAithgQ1GarxWKuZeJBYGZ/6BjEctud9T9/uB5yEInlkV03RgAMoSDY8wL792omtY5XqlIi//m8TQWyODxeAvBYPjzLhjuWRYl2yDbS1EU0t/vO3d0cOTc9h4WpN1uIywFwY0de90C7AzYAyYIAmiweWIj/2gC88FUeV7QQqE9FwTBbiCIZVqEtwmgrQnpaT2se8BY2k0zVamU30EkrKw/EFoDjS7du3/zk3qj9hYSAbHTL8RefNfpdC23oGjbgvSAQWVJX5938cj07KIJBYFXeEqpsJxekoAWPxSJnodnuVx+/HY6c+Xn6eTR191uzyXIht3NbKsAg41GLcLzfMHnC+bXbqRvdzSNTR0/5dB0vYWpHhiLf5RZubq0nl39+tW5BfAtLeH3dCeYzcYT8NqHv/9xJ1OVK1+1Wqqv0ajHJhOH34T/rc3NOp4T+UmFTE4cOo3B84XcPOha3AWGRnQ6xfenEsnxvXsib1Sr5QQwJKJTXEGDdqsHa8uTfBO0hII1JlmWM3eBgV/AxZzkEt33wcxVUXTlMUBjs34MP8Rz/ME76H5/V2O3ZxW6Rmy1W71gUH5o2tqF1RvL1sPcX9eDgfCfXq9/JZtd+xJSGgCxgaWLePr6ya/r17+FwfBgaGjfNZDAEQqGDe4fM2o76F8O+EOSU3TlwAokPj51DF7OXbn6fSmyd/g7sIVSlh6fkqsS73L3KVqnE7UL9nuxsfH9FPrSAVEpC9TRhA6HYykaHfvY5w1cBBAMoCQPvxKA6fKZLFcS5XJpFtK/vDB/egb0LSz9+M0DyrIRwHjEREfGMrIsHZmbSY2Ylpl7ep6hTgw0MWqGBdh6ZnAgYMfYfsn8lFNVNTw3Mz/KnFw4E8neXLsFvdaPHxjPGI5Qyw42NUhhHIjFk6DxbUhRuJb+oQIDQOQgan5qMhkvFjfOaro2AM9Wd9D877IYsIIO7CTQC5m2Dx2cThSKGx/8LcAAbkfTnNpYWOAAAAAASUVORK5CYII="},"972a":function(t,e,i){"use strict";var s=i("186c");i.n(s).a},b8bc:function(t,e,i){t.exports=i.p+"images/preloader.3e54c692.gif"},fcd8:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"padding-top":"20px"},attrs:{id:"sta-ban"}},[s("div",{staticClass:"button"},[s("a",{staticClass:"select",attrs:{href:"javascript:void(0);"}},[t._v("堂吃")]),t._v(" "),s("a",{attrs:{href:"javascript:void(0);"},on:{click:t.toTakeout}},[t._v("外卖")]),t._v(" "),s("a",{attrs:{id:"returncolor",href:"javascript:void(0);"},on:{click:t.toProprietary}},[t._v("自营外卖")])]),t._v(" "),s("div",{staticClass:"order-order-data"},[s("ul",[s("section",{staticClass:"statisticsList fl"},[s("section",{staticClass:"tableListInp"},[s("calendar",{staticStyle:{width:"245px",height:"41px",float:"left"},attrs:{pObj:t.startObj},on:{throwTime:t.getStartTime}})],1)]),t._v(" "),s("span",{staticStyle:{float:"left",width:"25px","line-height":"40px","text-align":"center"}},[t._v("至")]),t._v(" "),s("section",{staticClass:"statisticsList fl"},[s("section",{staticClass:"tableListInp"},[s("calendar",{staticStyle:{width:"245px",height:"41px",float:"left"},attrs:{pObj:t.endObj},on:{throwTime:t.getEndTime}})],1)]),t._v(" "),s("li",{staticStyle:{"line-height":"46px"}},[s("div",{class:{selected:t.isOpenTime},staticStyle:{width:"20px",height:"20px",cursor:"pointer",border:"1px solid #28A8E0",margin:"13px 10px",float:"left"},on:{click:t.selectBusinessHours}}),t._v(" "),s("span",{staticStyle:{"font-size":"16px"}},[t._v("按营业时间")])]),t._v(" "),s("div",{staticStyle:{display:"inline-block"}},[s("li",[s("selectstore",{attrs:{sorts:t.postSelectShopList,tipName:t.selectName},on:{emit:t.getSelectShopList}})],1),t._v(" "),s("a",{staticClass:"fl yellow",staticStyle:{width:"80px",height:"40px","line-height":"40px","margin-left":"10px"},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.sreachOrderInDays()}}},[t._v("搜索")]),t._v(" "),s("a",{staticClass:"fl gray",staticStyle:{width:"80px",height:"40px","line-height":"40px","margin-left":"10px"},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.resetting()}}},[t._v("重置")])])])]),t._v(" "),s("section",{staticStyle:{width:"100%",height:"auto","line-height":"20px",overflow:"hidden","margin-top":"10px"}},[s("section",{staticStyle:{width:"80px",height:"20px","line-height":"20px",float:"left"}},[t._v("选择店铺：")]),t._v(" "),s("section",{staticStyle:{"line-height":"20px",float:"left"}},[t._v(t._s(t.selectName))])]),t._v(" "),t.loading?t._e():s("div",{staticStyle:{width:"128px",margin:"200px auto"}},[s("img",{attrs:{src:i("b8bc")}})]),t._v(" "),t.loading?s("section",{staticClass:"allBox"},[s("div",{staticClass:"aLeft"},[t._m(0),t._v(" "),s("ul",{staticClass:"aUl",staticStyle:{"background-color":"#fff","border-bottom":"1px solid #D2D2D2","border-left":"1px solid #D2D2D2","box-sizing":"border-box",width:"100%"}},[s("li",{staticClass:"aLi",staticStyle:{width:"100px"}}),t._v(" "),s("li",{staticClass:"aLi",staticStyle:{color:"#F8941F",width:"150px"}},[t._v(t._s(t.payTotalNum.totalDay?t.payTotalNum.totalDay:"1"))])]),t._v(" "),s("div",[s("section",{staticStyle:{width:"100%",overflow:"auto","margin-top":"30px","border-left":"1px solid #D2D2D2"}},[t._m(1),t._v(" "),t._l(t.lists,function(e,i){return t.lists.length>0?[s("ul",{key:i,staticClass:"aUl",staticStyle:{"background-color":"#fff","box-sizing":"border-box",width:"100%","border-bottom":"3px solid #F7F7F7"}},[s("li",{staticStyle:{width:"250px",color:"#00AAE7",cursor:"pointer"},on:{click:function(i){t.openDayDetial(e)}}},[t._v(t._s(e.shopName))])])]:t._e()}),t._v(" "),0==t.lists.length?[t._m(2)]:t._e()],2)])]),t._v(" "),s("div",{staticClass:"aRight",staticStyle:{width:"100%",height:"auto","padding-left":"250px",overflow:"auto"}},[s("section",{style:{width:t.showWidth+"px"}},[s("ul",{staticClass:"aUl",staticStyle:{"background-color":"#ECEDF2"}},[s("li",{staticClass:"width70"},[t._v("订单数")]),t._v(" "),s("li",{staticClass:"width70"},[t._v("人数")]),t._v(" "),s("li",{staticClass:"width100 detLi"},[t._v("商品总数\n\t\t\t\t\t\t"),s("detailsDes",{attrs:{title:"该时间段的商品总数包含了订单中所有的商品数量（包括赠品和退品）"}})],1),t._v(" "),s("li",{staticClass:"width70 detLi"},[t._v("销量\n\t\t\t\t\t\t"),s("detailsDes",{attrs:{title:"该时间段已销售的数量（不包含退品数）公式：商品总数-退品数=销量"}})],1),t._v(" "),s("li",{staticClass:"width70"},[t._v("退品数")]),t._v(" "),s("li",{staticClass:"width100"},[t._v("退品总额")]),t._v(" "),s("li",{staticClass:"width100 detLi",on:{click:function(e){t.openDiscount(t.payTotalNum)}}},[t._v("优惠总额\n\t\t\t\t\t\t"),s("img",{staticClass:"detImg",attrs:{src:i("261f")}})]),t._v(" "),t.payTotalNum.cashCoupon?s("li",{staticClass:"width100"},[t._v("代金券")]):t._e(),t._v(" "),s("li",{staticClass:"width100"},[t._v("利润")]),t._v(" "),t._l(t.payTotalNum.paymentList,function(e,i){return[s("li",{key:i,staticClass:"width100 overHid"},[t._v(t._s(e.paymentName))])]}),t._v(" "),s("li",{staticClass:"width100"},[t._v("服务费")]),t._v(" "),s("li",{staticClass:"width100"},[t._v("找零")]),t._v(" "),s("li",{staticClass:"width100"},[t._v("系统取整")]),t._v(" "),s("li",{staticClass:"width100 detLi"},[t._v("消费总额\n\t\t\t\t\t\t"),s("detailsDes",{attrs:{title:"该时段内所有商品原价的金额总计（不计入退品金额）"}})],1),t._v(" "),t.payTotalNum&&1*t.payTotalNum.waitPrice!=0?s("li",{staticClass:"width100"},[t._v("未结账金额")]):t._e(),t._v(" "),s("li",{staticClass:"width100"},[t._v("实收总额")]),t._v(" "),s("li",{staticClass:"width100 detLi"},[t._v("入账总额\n\t\t\t\t\t\t"),s("detailsDes",{attrs:{title:"该时间段中实际收入的金额（不计入未入实账的支付方式的金额）"}})],1),t._v(" "),s("li",{staticClass:"width100 detLi"},[t._v("会员充值\n\t\t\t\t\t\t"),s("detailsDes",{attrs:{title:"该时段内会员充值总计(不计入消费总额及入账总额中)"}})],1),t._v(" "),s("li",{staticClass:"width100 detLi"},[t._v("挂账结清金额\n\t\t\t\t\t\t")])],2),t._v(" "),s("ul",{staticClass:"order-content-show",staticStyle:{"background-color":"#fff","border-bottom":"1px solid #D2D2D2","border-left":"1px solid #D2D2D2","box-sizing":"border-box",width:"100%","border-right":"1px solid #D2D2D2",overflow:"hidden"}},[s("li",{staticClass:"width70",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.payTotalNum.orderNum))]),t._v(" "),s("li",{staticClass:"width70",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.payTotalNum.person))]),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.payTotalNum.goodsNum))]),t._v(" "),s("li",{staticClass:"width70",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.payTotalNum.salesNum))]),t._v(" "),s("li",{staticClass:"width70",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.payTotalNum.returnNum))]),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(t.payTotalNum.returnPrice)))]),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(t.payTotalNum.discountPrice)))]),t._v(" "),t.payTotalNum.cashCoupon?s("li",{staticClass:"width100",staticStyle:{color:"#F8941F",cursor:"pointer","vertical-align":"middle","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},attrs:{title:parseFloat(t.payTotalNum.cashCoupon.price).toFixed(2)+"("+t.payTotalNum.cashCoupon.num+"张)"}},[t._v(t._s(parseFloat(t.payTotalNum.cashCoupon.price).toFixed(2)+"("+t.payTotalNum.cashCoupon.num+"张)"))]):t._e(),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(t.payTotalNum.profit)))]),t._v(" "),t._l(t.payTotalNum.paymentList,function(e,i){return[s("li",{key:i,staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(e.num)))])]}),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(parseFloat(t.payTotalNum.chargePrice).toFixed(2)))]),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(t.payTotalNum.change)))]),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(t.payTotalNum.bitPrice)))]),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(t.payTotalNum.originalPrice)))]),t._v(" "),t.payTotalNum&&1*t.payTotalNum.waitPrice!=0?s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(t.payTotalNum.waitPrice)))]):t._e(),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(t.payTotalNum.paidTotalPrice)))]),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(t.payTotalNum.paymentPrice)))]),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(t.payTotalNum.memberRecharge)))]),t._v(" "),s("li",{staticClass:"width100",staticStyle:{color:"#F8941F"}},[t._v(t._s(t.toFloatStr(t.payTotalNum.settlePrice)))])],2)]),t._v(" "),s("div",{style:{width:t.showWidth+"px"}},[s("section",{staticStyle:{width:"100%",overflow:"auto","margin-top":"30px","min-height":"130px"}},[s("ul",{staticStyle:{"background-color":"#ECEDF2","border-left":"1px solid #D2D2D2","box-sizing":"border-box",width:"100%","border-top":"1px solid #D2D2D2"}},[s("li",{staticClass:"width70"},[t._v("订单数")]),t._v(" "),s("li",{staticClass:"width70"},[t._v("人数")]),t._v(" "),s("li",{staticClass:"width100 detLi"},[t._v("商品总数\n\t\t\t\t\t\t\t"),s("detailsDes",{attrs:{title:"该日商品总数包含了订单中所有的商品数量（包括赠品和退品）"}})],1),t._v(" "),s("li",{staticClass:"width70 detLi"},[t._v("销量\n\t\t\t\t\t\t\t"),s("detailsDes",{attrs:{title:"该日已销售的数量（不包含退品数）公式：商品总数-退品数=销量"}})],1),t._v(" "),s("li",{staticClass:"width70"},[t._v("退品数")]),t._v(" "),s("li",{staticClass:"width100"},[t._v("退品金额")]),t._v(" "),s("li",{staticClass:"width100 detLi"},[t._v("优惠总额\n\t\t\t\t\t\t\t"),s("detailsDes",{attrs:{title:"该日所有的优惠金额总计"}})],1),t._v(" "),s("li",{staticClass:"width100"},[t._v("代金券")]),t._v(" "),s("li",{staticClass:"width100"},[t._v("利润")]),t._v(" "),t._l(t.payTotalNum.paymentList,function(e,i){return[s("li",{key:i,staticClass:"width100 overHid"},[t._v(t._s(e.paymentName))])]}),t._v(" "),s("li",{staticClass:"width100"},[t._v("服务费")]),t._v(" "),s("li",{staticClass:"width100"},[t._v("找零")]),t._v(" "),s("li",{staticClass:"width100"},[t._v("系统取整")]),t._v(" "),s("li",{staticClass:"width100 detLi"},[t._v("消费总额\n\t\t\t\t\t\t\t"),s("detailsDes",{attrs:{title:"该日所有商品原价的金额总计（不计入退品金额）"}})],1),t._v(" "),s("li",{staticClass:"width100 detLi"},[t._v("入账金额\n\t\t\t\t\t\t\t"),s("detailsDes",{attrs:{title:"该日实际收入的金额（不计入未入实账的支付方式的金额）"}})],1),t._v(" "),s("li",{staticClass:"width100"},[t._v("实收金额")]),t._v(" "),s("li",{staticClass:"width100 detLi"},[t._v("会员充值\n\t\t\t\t\t\t\t"),s("detailsDes",{attrs:{title:"该日内会员充值总计(不计入消费总额及入账总额中)"}})],1),t._v(" "),s("li",{staticClass:"width100 detLi"},[t._v("挂账结清金额\n\t\t\t\t\t\t\t")])],2),t._v(" "),t.lists.length>0?[t._l(t.lists,function(e,i){return[s("ul",{key:i,staticStyle:{"background-color":"#fff","border-left":"1px solid #D2D2D2","box-sizing":"border-box",width:"100%","border-bottom":"3px solid #F7F7F7",overflow:"hidden"}},[s("li",{staticClass:"width70"},[t._v(t._s(e.orderNum))]),t._v(" "),s("li",{staticClass:"width70"},[t._v(t._s(e.person))]),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(e.goodsNum))]),t._v(" "),s("li",{staticClass:"width70"},[t._v(t._s(e.salesNum))]),t._v(" "),s("li",{staticClass:"width70"},[t._v(t._s(e.returnNum))]),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(t.toFloatStr(e.returnPrice)))]),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(t.toFloatStr(e.discountPrice)))]),t._v(" "),e.cashCoupon?s("li",{staticClass:"width100",staticStyle:{cursor:"pointer","vertical-align":"middle","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},attrs:{title:parseFloat(e.cashCoupon.price).toFixed(2)+"("+e.cashCoupon.num+"张)"}},[t._v(t._s(parseFloat(e.cashCoupon.price).toFixed(2)+"("+e.cashCoupon.num+"张)"))]):t._e(),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(t.toFloatStr(e.profit)))]),t._v(" "),t._l(e.paymentList,function(e,i){return[t.isZero(e.paymentName)?s("li",{key:i,staticClass:"width100"},[t._v(t._s(t.toFloatStr(e.num)))]):t._e()]}),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(parseFloat(e.chargePrice).toFixed(2)))]),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(t.toFloatStr(e.change)))]),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(t.toFloatStr(e.bitPrice)))]),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(t.toFloatStr(e.originalPrice)))]),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(t.toFloatStr(e.paymentPrice)))]),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(t.toFloatStr(e.paidTotalPrice)))]),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(t.toFloatStr(e.memberRecharge)))]),t._v(" "),s("li",{staticClass:"width100"},[t._v(t._s(t.toFloatStr(e.settlePrice)))])],2)]})]:s("ul",{staticStyle:{width:"100%",height:"50px"}},[s("li",{staticStyle:{color:"orange","text-align":"left",width:"100%","padding-left":"200px"}},[t._v("该时间段并没有订单数据")])])],2)])])]):t._e(),t._v(" "),s("div",{staticStyle:{float:"left","margin-left":"30px","margin-top":"30px"}},[s("pageElement",{attrs:{page:t.currentPage,total:t.totalNum,num:t.num,isNoJump:!0},on:{pageNum:t.pageClick}})],1),t._v(" "),t.preferentialBounced?s("order-win",{attrs:{payTotalNum:t.payTotalNum,title:t.title},on:{toClick:t.whetherToclick}}):t._e()],1)};s._withStripped=!0;var a=i("81a2"),r=i("f6ce"),o=i("bbb9");function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function s(a,r){try{var o=e[a](r),n=o.value}catch(t){return void i(t)}if(!o.done)return Promise.resolve(n).then(function(t){s("next",t)},function(t){s("throw",t)});t(n)}("next")})}}var l={data:function(){return{userData:null,startTime:"",endTime:"",newStartTime:"",newEndTime:"",orderListInDays:[],isZeroPays:[],payTotalNum:{orderNum:0,person:0,goodsNum:0,salesNum:0,returnNum:0,returnPrice:0,discountPrice:0,profit:0,chargePrice:0,paymentList:0,change:0,bitPrice:0,originalPrice:0,waitPrice:0,paidTotalPrice:0,paymentPrice:0,memberRecharge:0},showWidth:1740,payLsZero:!1,exportUrl:"javascript:void(0);",dateTime:[],isOpenTime:"",startH:"",startM:"",startS:"",endH:"",endM:"",endS:"",isBrand:null,selectName:null,shopListBtn:!1,selectShopList:null,postSelectShopList:null,shopIds:null,taskId:"",allTrue:!0,agwge:!0,loading:!0,repeat:!0,countList:[{name:10},{name:50}],paginationList:[],num:10,currentPage:1,preferentialBounced:!1,startObj:{},endObj:{}}},computed:{totalNum:function(){return Math.ceil(this.orderListInDays.length/this.num)},lists:function(){var t=(this.currentPage-1)*this.num,e=this.currentPage*this.num;return this.orderListInDays.slice(t,e)}},methods:{initBtn:function(){var t=this,e=[{name:"导出",style:{},fn:function(){t.exportOrder()}}];this.$store.commit("setPageTools",e)},pageClick:function(t){this.currentPage=t.page,this.num=t.num},toTakeout:function(){var t;t={name:"takeoutBrand",startTime:this.startTime,endTime:this.endTime,isOpenTime:this.isOpenTime},r.a.session("takeoutBrand",t),this.$router.push({path:"/admin/orderStatistics/takeawayBrand",query:this.$route.query})},toProprietary:function(){this.$router.push({path:"/admin/orderStatistics/orderProprietaryBrand",query:this.$route.query})},selectBusinessHours:function(){this.isOpenTime=!this.isOpenTime},getStartTime:function(t){this.newStartTime=t},getEndTime:function(t){this.newEndTime=t},init:function(){this.getOrderListInDays()},openShop:function(t){t.stopPropagation(),this.shopListBtn=!this.shopListBtn},sreachOrderInDays:function(){return this.newEndTime-this.newStartTime>80352e5?(this.$store.commit("setWin",{title:"操作提示",content:"最大只能查询三个月时间"}),!1):parseInt(this.newStartTime/1e3)-parseInt(this.newEndTime/1e3)>0?(this.$store.commit("setWin",{title:"操作提示",content:"时间选择错误"}),!1):(this.startTime=this.newStartTime,this.endTime=this.newEndTime,void this.getOrderListInDays())},resetting:function(){this.startTime=(new Date).setHours(0,0,0,0),this.endTime=(new Date).setHours(23,59,59,999),this.startObj={time:this.startTime},this.endObj={time:this.endTime},this.isOpenTime=!0,this.selectName="";for(var t=0;t<this.selectShopList.length;t++)this.selectShopList[t].selected=!0,this.selectName=this.selectName+this.selectShopList[t].shopName+",";this.getOrderListInDays()},isZero:function(t){for(var e=this.payTotalNum.paymentList,i=!1,s=0;s<e.length;s++)if(t==e[s].paymentName)return i=!0;return i},getOrderListInDays:function(){var t=this;return n(regeneratorRuntime.mark(function e(){var i,s,r,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.repeat){e.next=3;break}return t.$store.commit("setWin",{title:"操作提示",content:"当前查询尚未结束，请结束后再进行查询或刷新浏览器重新查询！"}),e.abrupt("return",!1);case 3:if(t.loading=!1,""!=t.shopIds){e.next=7;break}return t.$store.commit("setWin",{title:"操作提示",content:"请选择要查询的店铺"}),e.abrupt("return",!1);case 7:return i=new Date(t.startTime),s=new Date(t.endTime),t.startH=o.a.format(i,"hh"),t.startM=o.a.format(i,"mm"),t.startS=o.a.format(i,"ss"),t.endH=o.a.format(s,"hh"),t.endM=o.a.format(s,"mm"),t.endS=o.a.format(s,"ss"),r=0,e.next=18,a.a.OrderReport({data:{trueShopId:t.userData.currentShop.id,type:"1",timeType:"1",startTime:parseInt(t.startTime/1e3),endTime:parseInt(t.endTime/1e3),isOpenTime:Number(t.isOpenTime),shopIds:t.shopIds}});case 18:l=e.sent,t.repeat=!1,l.taskId&&(t.taskId=l.taskId,window.timer=setInterval(n(regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r++,e.next=3,a.a.taskInfo({data:{trueShopId:t.userData.currentShop.id,taskId:t.taskId}});case 3:i=e.sent,t.agwge=!0,t.repeat=!0,2==i.status?(t.$store.commit("setWin",{title:"操作提示",content:"请求失败，请重试！"}),t.loading=!1,clearInterval(window.timer)):3==i.status?(t.loading=!0,t.getrrrrrr(t.taskId),clearInterval(window.timer)):(t.agwge=!1,t.repeat=!1),r>60&&(t.agwge=!1,t.$store.commit("setWin",{title:"操作提示",content:"请求失败，请重试！"}),clearInterval(window.timer));case 8:case"end":return e.stop()}},e,t)})),1e3),0==t.agwge&&clearInterval(window.timer));case 21:case"end":return e.stop()}},e,t)}))()},getrrrrrr:function(t){var e=this;return n(regeneratorRuntime.mark(function i(){var s,r,o,n,l,c;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.a.reportGet({data:{trueShopId:e.userData.currentShop.id,taskId:t,type:1}});case 2:if(0!=(s=i.sent).length){i.next=8;break}return e.orderListInDays=[],e.payTotalNum={orderNum:0,person:0,goodsNum:0,salesNum:0,returnNum:0,returnPrice:0,discountPrice:0,profit:0,chargePrice:0,paymentList:[],change:0,bitPrice:0,originalPrice:0,waitPrice:0,paidTotalPrice:0,paymentPrice:0,memberRecharge:0,settlePrice:0},e.payTotalNum.discountList={order:[],coupon:[]},i.abrupt("return");case 8:for(e.orderListInDays=s.shops,e.payTotalNum=s.total,e.payTotalNum.discountList={order:[],coupon:[]},r=0;r<s.shops.length;r++)if(s.shops[r].discountList){for(o=0;o<s.shops[r].discountList.order.length;o++)e.payTotalNum.discountList.order.push(s.shops[r].discountList.order[o]);for(n=0;n<s.shops[r].discountList.coupon.length;n++)e.payTotalNum.discountList.coupon.push(s.shops[r].discountList.coupon[n])}for(l=[],c=0;c<e.payTotalNum.paymentList.length;c++)e.payTotalNum.paymentList[c].num>0&&l.push(e.payTotalNum.paymentList[c]);e.payTotalNum.paymentList=l,e.showWidth=100*e.payTotalNum.paymentList.length+1740;case 16:case"end":return i.stop()}},i,e)}))()},exportOrder:function(){var t=this;return n(regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.orderListInDays.length){e.next=3;break}return t.$store.commit("setWin",{title:"操作提示",content:"没有订单可以导出"}),e.abrupt("return",!1);case 3:if(i=80352e5,!(t.endTime-t.startTime>i)){e.next=9;break}return t.$store.commit("setWin",{title:"操作提示",content:"最大只能查询三个月时间"}),e.abrupt("return",!1);case 9:if(!(parseInt(t.startTime/1e3)-parseInt(t.endTime/1e3)>0)){e.next=12;break}return t.$store.commit("setWin",{title:"操作提示",content:"时间选择错误"}),e.abrupt("return",!1);case 12:return e.next=14,a.a.exportReport({data:{trueShopId:t.userData.currentShop.id,startTime:parseInt(t.startTime/1e3),endTime:parseInt(t.endTime/1e3),isOpenTime:Number(t.isOpenTime),taskId:t.taskId}});case 14:case"end":return e.stop()}},e,t)}))()},toFloatStr:function(t){var e=t+"";return o.a.toFloatStr(e,2)},openDayDetial:function(t){var e={startTime:this.startTime,endTime:this.endTime,allDayPage:this.currentPage,isOpenTime:this.isOpenTime,selectShops:this.isOpenTime,isbrandJoin:!0,itemDetial:t,selectShopList:this.selectShopList,shopId:t.id};r.a.session("brandDetial",e),this.$router.push({path:"/admin/orderStatistics/orderMore",query:this.$route.query})},openDiscount:function(){return null==this.payTotalNum.discountList?(this.$store.commit("setWin",{title:"操作提示",content:"没有优惠信息!"}),!1):0==this.payTotalNum.discountList.coupon.length&&0==this.payTotalNum.discountList.order.length?(this.$store.commit("setWin",{title:"操作提示",content:"没有优惠信息!"}),!1):(this.preferentialBounced=!0,void(this.title="优惠详情"))},whetherToclick:function(t){t&&(this.preferentialBounced=!1)},getSelectShopList:function(t){this.postSelectShopList=t;for(var e="",i="",s=0;s<t.length;s++)1==t[s].selected&&(e=e+t[s].id+",",i=i+t[s].name+",");var a=e.split("").length;""!==e&&(e=e.substring(0,a-1)),this.shopIds=e,this.selectName=""==i?"请选择店铺":i}},destroyed:function(){clearInterval(window.timer)},mounted:function(){var t=this;this.initBtn();var e=r.a.session("brandorderDetial"),i=r.a.session("orderBrand");if(this.userData=r.a.session("userShop"),"3"===this.userData.currentShop.ischain){for(var s=r.a.session("shopList"),a=0;a<s.length;a++)s[a].selected=!0;var o="",n="";e&&(s=e.selectShopList);var l=[];s.forEach(function(t){var e={id:t.id,name:t.shopName,selected:t.selected};l.push(e)});for(var c=0;c<s.length;c++)1==s[c].selected&&(o=o+s[c].id+",",n=n+s[c].shopName+",");var d=o.split("").length;""!==o&&(o=o.substring(0,d-1)),this.startTime=e?e.startTime:i?i.startTime:(new Date).setHours(0,0,0,0),this.endTime=e?e.endTime:i?i.endTime:(new Date).setHours(23,59,59,999),this.newStartTime=e?e.startTime:i?i.startTime:(new Date).setHours(0,0,0,0),this.newEndTime=e?e.endTime:i?i.endTime:(new Date).setHours(23,59,59,999),this.isOpenTime=e?e.isOpenTime:!i||i.isOpenTime,this.isBrand="3"==this.userData.currentShop.ischain,this.selectShopList=e?e.selectShopList:s,this.postSelectShopList=l,this.selectName=""==n?"请选择店铺":n,this.startObj={time:this.startTime},this.endObj={time:this.endTime},this.shopIds=o,0!=this.selectShopList.length?(this.init(),document.onclick=function(){t.shopListBtn=!1},sessionStorage.removeItem("brandorderDetial"),sessionStorage.removeItem("orderBrand")):this.$store.commit("setWin",{title:"操作提示",content:"没有可选店铺"})}else this.$router.push({path:"/admin/orderStatistics/orderMore",query:this.$route.query})},components:{calendar:function(){return i.e("calendar_result").then(i.bind(null,"9265"))},orderWin:function(){return i.e("order_win").then(i.bind(null,"0460"))},selectstore:function(){return i.e("win").then(i.bind(null,"cb83"))},selectBtn:function(){return i.e("select_btn").then(i.bind(null,"3d41"))},detailsDes:function(){return i.e("details_des").then(i.bind(null,"33d1"))},pageElement:function(){return i.e("page_element").then(i.bind(null,"5921"))}}},c=(i("972a"),i("7610")),d=Object(c.a)(l,s,[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"aUl",staticStyle:{"background-color":"#ECEDF2","border-left":"1px solid #D2D2D2","box-sizing":"border-box",width:"100%"}},[e("li",{staticClass:"aLi",staticStyle:{width:"100px"}}),this._v(" "),e("li",{staticClass:"aLi",staticStyle:{width:"150px"}},[this._v("天数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"aUl",staticStyle:{"background-color":"#ECEDF2","box-sizing":"border-box",width:"100%","border-top":"1px solid #D2D2D2"}},[e("li",{staticClass:"aLi",staticStyle:{width:"250px"}},[this._v("店铺名称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticStyle:{height:"80px"}},[e("li",{staticClass:"width100"}),this._v(" "),e("li",{staticClass:"width150"})])}],!1,null,"61023377",null);d.options.__file="src\\module\\statistics\\order_brand.vue";e.default=d.exports}}]);