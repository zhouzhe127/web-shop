(window.webpackJsonp=window.webpackJsonp||[]).push([["member_analysis"],{"1a2c":function(t,e,a){"use strict";var n=a("a02a");a.n(n).a},"234c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"member_analysis"}},[a("section",{staticStyle:{"margin-bottom":"20px"}},[a("com-table",{attrs:{listHeight:80,listWidth:1247,showHand:!1,titleData:t.titleList,introData:t.staticLists,widthType:!0}},t._l(t.title,function(e,n){return a("div",{staticClass:"title",attrs:{slot:"title-"+(n+1)},slot:"title-"+(n+1)},[a("span",[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"prompting",on:{click:function(e){t.isPublicNumber(n)}}},[e.isPublicNumber?a("div",{staticClass:"detDiv"},[a("i",{staticClass:"detI triright"}),t._v(" "),a("h3",{staticClass:"detH3"},[t._v("\n\t\t\t\t\t\t"+t._s(e.tit)+"\n\t\t\t\t\t")])]):t._e()])])}))],1),t._v(" "),a("div",{staticClass:"compared"},t._l(t.payWays,function(e,n){return a("span",{key:n,class:{effect:t.payType==e.id},on:{click:function(a){t.changeRadio(e)}}},[t._v(t._s(e.name))])})),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"data_l"},[a("div",{staticClass:"data_t"},[t._v(t._s(t.payName)+"新增会员(人)")]),t._v(" "),a("div",{staticClass:"data_b"},[a("section",[a("h1",[t._v(t._s(t.newMember))]),t._v(" "),a("div",{staticClass:"percentage"},[a("div",{staticClass:"percentage_l"},[a("p",{staticClass:"first_p"},[t._v("新会员消费占比("+t._s(t.payName)+")")]),t._v(" "),a("p",[t._v(t._s(t.newAccounted))])]),t._v(" "),a("div",{staticClass:"percentage_r"},[a("p",{staticClass:"first_p"},[t._v("老会员消费占比("+t._s(t.payName)+")")]),t._v(" "),a("p",[t._v(t._s(t.oldAccounted))])])])])])]),t._v(" "),a("div",{staticClass:"data_l"},[a("div",{staticClass:"data_t"},[t._v(t._s(t.payName)+"会员消费(元)")]),t._v(" "),a("div",{staticClass:"data_b"},[a("h1",[t._v(t._s(t.consumeTotal))]),t._v(" "),a("div",{staticClass:"percentage"},[a("div",{staticClass:"percentage_l"},[a("p",{staticClass:"first_p"},[t._v("新会员消费金额("+t._s(t.payName)+")")]),t._v(" "),a("p",[t._v(t._s(t.newAmount))])]),t._v(" "),a("div",{staticClass:"percentage_r"},[a("p",{staticClass:"first_p"},[t._v("老会员消费金额("+t._s(t.payName)+")")]),t._v(" "),a("p",[t._v(t._s(t.oldAmount))])])])])])]),t._v(" "),a("analysisLine",{attrs:{echarts:t.echarts}}),t._v(" "),a("analysisPie",{attrs:{echarts:t.echarts,pie:t.pie}})],1)};n._withStripped=!0;var s=a("81a2");function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function n(s,i){try{var r=e[s](i),c=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(c).then(function(t){n("next",t)},function(t){n("throw",t)});t(c)}("next")})}}var r={data:function(){return{titleList:[{titleName:"会员总量",dataName:"totalMember"},{titleName:"储值余额",dataName:"totalAmount"},{titleName:"积分余量 ",dataName:"totalPoint"}],staticLists:[],payWays:[{id:0,name:"昨日"},{id:1,name:"今日"}],payType:0,payName:"昨日",publicNumber:!1,title:[{name:"储值余额",tit:"包含电子卡+实体卡余额总量",isPublicNumber:!1},{name:"积分余量",tit:"包含会员+粉丝的积分总量",isPublicNumber:!1}],echarts:null,pie:[],newMember:"",consumeTotal:"",newAccounted:"",oldAccounted:"",newAmount:"",oldAmount:"",compareData:{}}},methods:{changeRadio:function(t){var e=t.id;this.payType=e,this.payName=t.name,this.getConsumeAndGrowth()},isPublicNumber:function(t){this.title[t].isPublicNumber=!this.title[t].isPublicNumber},percentage:function(t,e){return 0==e?"0%":Math.round(t/e*1e4)/100+"%"},getEcharts:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e("echarts").then(function(){var t=a("375c");return"object"==typeof t&&t&&t.__esModule?t:Object.assign({},"object"==typeof t&&t,{default:t})});case 2:n=e.sent,t.echarts=n;case 4:case"end":return e.stop()}},e,t)}))()},memberRemainAndAccounted:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.memberRemainAndAccounted({});case 2:(a=e.sent)&&(t.staticLists.push(a.total),t.pie=a.accounted);case 4:case"end":return e.stop()}},e,t)}))()},getConsumeAndGrowth:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.getConsumeAndGrowth({data:{type:t.payType}});case 2:(a=e.sent)&&(t.newMember=a.newMember,t.consumeTotal=a.consumeTotal,t.newAccounted=t.percentage(a.newMemberConsume,a.consumeTotal),t.oldAccounted=t.percentage(a.oldMemberConsume,a.consumeTotal),t.newAmount=a.newMemberConsume,t.oldAmount=a.oldMemberConsume,t.compareData=a);case 4:case"end":return e.stop()}},e,t)}))()}},mounted:function(){this.memberRemainAndAccounted(),this.getEcharts(),this.getConsumeAndGrowth()},created:function(){var t={titleStyle:{fontSize:"16px"}},e={conStyle:{color:"#ff9800"}},a=!0,n=!1,s=void 0;try{for(var i,r=this.titleList[Symbol.iterator]();!(a=(i=r.next()).done);a=!0){var c=i.value;Object.assign(c,t,e)}}catch(t){n=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(n)throw s}}},components:{comTable:function(){return a.e("table").then(a.bind(null,"4360"))},detailsDes:function(){return a.e("details_des").then(a.bind(null,"33d1"))},analysisLine:function(){return a.e("analysis_line").then(a.bind(null,"0124"))},analysisPie:function(){return a.e("analysis_pie").then(a.bind(null,"34de"))}}},c=(a("1a2c"),a("6ceb")),o=Object(c.a)(r,n,[],!1,null,"28ef0d0f",null);o.options.__file="src\\module\\member_system\\member_analysis.vue";e.default=o.exports},a02a:function(t,e,a){}}]);