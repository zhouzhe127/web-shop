(window.webpackJsonp=window.webpackJsonp||[]).push([["member_analysis"],{"234c":function(t,e,n){"use strict";n.r(e);var a=n("81a2");function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(s,i){try{var r=e[s](i),c=r.value}catch(t){return void n(t)}if(!r.done)return Promise.resolve(c).then(function(t){a("next",t)},function(t){a("throw",t)});t(c)}("next")})}}var i={data:function(){return{titleList:[{titleName:"会员总量",dataName:"totalMember"},{titleName:"储值余额",dataName:"totalAmount"},{titleName:"积分余量 ",dataName:"totalPoint"}],staticLists:[],payWays:[{id:0,name:"昨日"},{id:1,name:"今日"}],payType:0,payName:"昨日",publicNumber:!1,title:[{name:"储值余额",tit:"包含电子卡+实体卡余额总量",isPublicNumber:!1},{name:"积分余量",tit:"包含会员+粉丝的积分总量",isPublicNumber:!1}],echarts:null,pie:[],newMember:"",consumeTotal:"",newAccounted:"",oldAccounted:"",newAmount:"",oldAmount:"",compareData:{}}},methods:{changeRadio:function(t){var e=t.id;this.payType=e,this.payName=t.name,this.getConsumeAndGrowth()},isPublicNumber:function(t){this.title[t].isPublicNumber=!this.title[t].isPublicNumber},percentage:function(t,e){return 0==e?"0%":Math.round(t/e*1e4)/100+"%"},getEcharts:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("echarts").then(function(){var t=n("375c");return"object"==typeof t&&t&&t.__esModule?t:Object.assign({},"object"==typeof t&&t,{default:t})});case 2:a=e.sent,t.echarts=a;case 4:case"end":return e.stop()}},e,t)}))()},memberRemainAndAccounted:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.memberRemainAndAccounted({});case 2:(n=e.sent)&&(t.staticLists.push(n.total),t.pie=n.accounted);case 4:case"end":return e.stop()}},e,t)}))()},getConsumeAndGrowth:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.getConsumeAndGrowth({data:{type:t.payType}});case 2:(n=e.sent)&&(t.newMember=n.newMember,t.consumeTotal=n.consumeTotal,t.newAccounted=t.percentage(n.newMemberConsume,n.consumeTotal),t.oldAccounted=t.percentage(n.oldMemberConsume,n.consumeTotal),t.newAmount=n.newMemberConsume,t.oldAmount=n.oldMemberConsume,t.compareData=n);case 4:case"end":return e.stop()}},e,t)}))()}},mounted:function(){this.memberRemainAndAccounted(),this.getEcharts(),this.getConsumeAndGrowth()},created:function(){var t={titleStyle:{fontSize:"16px"}},e={conStyle:{color:"#ff9800"}},n=!0,a=!1,s=void 0;try{for(var i,r=this.titleList[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var c=i.value;Object.assign(c,t,e)}}catch(t){a=!0,s=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw s}}},components:{comTable:function(){return n.e("table").then(n.bind(null,"4360"))},detailsDes:function(){return n.e("details_des").then(n.bind(null,"33d1"))},analysisLine:function(){return n.e("analysis_line").then(n.bind(null,"0124"))},analysisPie:function(){return n.e("analysis_pie").then(n.bind(null,"34de"))}}},r=(n("2cb3"),n("d801")),c=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"member_analysis"}},[n("section",{staticStyle:{"margin-bottom":"20px"}},[n("com-table",{attrs:{listHeight:80,listWidth:1247,showHand:!1,titleData:t.titleList,introData:t.staticLists,widthType:!0}},t._l(t.title,function(e,a){return n("div",{staticClass:"title",attrs:{slot:"title-"+(a+1)},slot:"title-"+(a+1)},[n("span",[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"prompting",on:{click:function(e){t.isPublicNumber(a)}}},[e.isPublicNumber?n("div",{staticClass:"detDiv"},[n("i",{staticClass:"detI triright"}),t._v(" "),n("h3",{staticClass:"detH3"},[t._v("\n\t\t\t\t\t\t"+t._s(e.tit)+"\n\t\t\t\t\t")])]):t._e()])])}))],1),t._v(" "),n("div",{staticClass:"compared"},t._l(t.payWays,function(e,a){return n("span",{key:a,class:{effect:t.payType==e.id},on:{click:function(n){t.changeRadio(e)}}},[t._v(t._s(e.name))])})),t._v(" "),n("div",{staticClass:"data"},[n("div",{staticClass:"data_l"},[n("div",{staticClass:"data_t"},[t._v(t._s(t.payName)+"新增会员(人)")]),t._v(" "),n("div",{staticClass:"data_b"},[n("section",[n("h1",[t._v(t._s(t.newMember))]),t._v(" "),n("div",{staticClass:"percentage"},[n("div",{staticClass:"percentage_l"},[n("p",{staticClass:"first_p"},[t._v("新会员消费占比("+t._s(t.payName)+")")]),t._v(" "),n("p",[t._v(t._s(t.newAccounted))])]),t._v(" "),n("div",{staticClass:"percentage_r"},[n("p",{staticClass:"first_p"},[t._v("老会员消费占比("+t._s(t.payName)+")")]),t._v(" "),n("p",[t._v(t._s(t.oldAccounted))])])])])])]),t._v(" "),n("div",{staticClass:"data_l"},[n("div",{staticClass:"data_t"},[t._v(t._s(t.payName)+"会员消费(元)")]),t._v(" "),n("div",{staticClass:"data_b"},[n("h1",[t._v(t._s(t.consumeTotal))]),t._v(" "),n("div",{staticClass:"percentage"},[n("div",{staticClass:"percentage_l"},[n("p",{staticClass:"first_p"},[t._v("新会员消费金额("+t._s(t.payName)+")")]),t._v(" "),n("p",[t._v(t._s(t.newAmount))])]),t._v(" "),n("div",{staticClass:"percentage_r"},[n("p",{staticClass:"first_p"},[t._v("老会员消费金额("+t._s(t.payName)+")")]),t._v(" "),n("p",[t._v(t._s(t.oldAmount))])])])])])]),t._v(" "),n("analysisLine",{attrs:{echarts:t.echarts}}),t._v(" "),n("analysisPie",{attrs:{echarts:t.echarts,pie:t.pie}})],1)},[],!1,null,"5f17df5e",null);e.default=c.exports},"2cb3":function(t,e,n){"use strict";var a=n("31d6");n.n(a).a},"31d6":function(t,e,n){}}]);