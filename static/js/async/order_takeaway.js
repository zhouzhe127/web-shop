(window.webpackJsonp=window.webpackJsonp||[]).push([["order_takeaway"],{"22be":function(e,t,a){"use strict";a.r(t);var r=a("81a2"),i=a("f6ce"),n=a("bbb9");function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function r(i,n){try{var s=t[i](n),o=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}("next")})}}var o={data:function(){return{dataDetial:{},brandId:"",shopId:"",isBrand:"",showDayAllDetail:!1,startTime:(new Date).setHours(0,0,0,0),endTime:(new Date).setHours(23,59,59,999),showAllDay:!1,showDay:!1,isOpenTime:"",orderNumber:"",allDayPage:{page:1,num:10,pageNum:1},dayPage:{page:1,num:10,pageNum:1},status:1,selectTypeNum:"",payTotalNum:{},newpayTotalNum:[],paginationList:[],takeawaytypeList:["全部","饿了么","美团","百度外卖"],exportUrl:"javascript:void(0);"}},methods:{renderHeader:function(e,t){var a=t.column,r="",i=a.label,n=a.property;return"商品总数"==i&&"totalNum"==n?r="该时间段的商品总数包含了订单中所有的商品数量（包括赠品和退品）":"商品数"==i&&"totalNum"==n?r="商品数包含了订单中所有的商品数量（包括赠品和退品）":"销量"==i&&"goodsNum"==n?r="已销售的数量（不包含退品数）公式：商品总数-退品数=销量":"优惠总额"==i&&"activityFee"==n?r="该时间段所有的优惠金额总计":"优惠金额"==i&&"activityFee"==n?r="该时间段内所有的优惠金额总计":"消费总额"==i&&"goodsTotalPrice"==n?r="该时段内所有商品原价的金额总计（不计入退品金额）":"消费金额"==i&&"goodsTotalPrice"==n?r="所有商品原价的金额总计（不计入退品金额）":"入账总额"==i&&"income"==n?r="该时间段中实际收入的金额（不计入未入实账的支付方式的金额）":"入账金额"==i&&"income"==n&&(r="实际收入的金额（不计入未入实账的支付方式的金额）"),e("div",[e("span",{},a.label),e("el-popover",{attrs:{effect:"dark",content:r,placement:"bottom",width:"300"}},[e("span",{class:"el-icon-question",slot:"reference",style:"font-size: 18px;margin-left:5px;"})])])},initBtn:function(e){var t=this,a=[];a=[{name:"返回",style:{backgroundColor:"#fff",border:"1px solid #ff8c01",color:"#ff8c01"},fn:function(){t.initBtn(!0),t.returnPage()}},{name:"打印",style:{backgroundColor:"#fff",border:"1px solid #20a7dd",color:"#20a7dd"},fn:function(){t.printOrderTakeout(),console.log("2")}},{name:"导出",style:{},fn:function(){t.exportOrderTakeaway(),console.log("3")}}],e&&a.shift(),this.$store.commit("setPageTools",a)},toOrder:function(){var e;e={name:"order",startTime:this.startTime,endTime:this.endTime,isOpenTime:this.isOpenTime},i.a.session("orderTakeout",e),this.$router.push({path:"/admin/orderStatistics/orderMore",query:this.$route.query})},toProprietary:function(){this.$router.push({path:"/admin/orderStatistics/orderProprietary",query:this.$route.query})},selectBusinessHours:function(){var e=this.isOpenTime;this.isOpenTime=!e},init:function(){this.startTime=new Date(this.startTime).getTime(),this.endTime=new Date(this.endTime).getTime();var e=this.startTime,t=this.endTime,a=n.a.format(e,"yyyy"),r=n.a.format(e,"MM"),i=n.a.format(e,"dd"),s=n.a.format(t,"yyyy"),o=n.a.format(t,"MM"),l=n.a.format(t,"dd");a==s&&r==o&&i==l?(this.showDay=!0,this.showAllDay=!1,this.takeoutOnedayList(a+"-"+r+"-"+i)):this.takeoutMultidayList()},sreachOrderInDays:function(){return this.endTime-this.startTime>80352e5?(this.$store.commit("setWin",{title:"操作提示",content:"最大只能查询三个月时间"}),!1):parseInt(this.startTime/1e3)-parseInt(this.endTime/1e3)>0?(this.$store.commit("setWin",{title:"操作提示",content:"时间选择错误"}),!1):(this.dayPage.page=1,void this.takeoutMultidayList())},timeToday:function(e){return n.a.format(new Date(e),"yyyy年MM月dd日")},getTime:function(e){var t=/(\d{4})(?:-(\d{1,2})(?:-(\d{1,2}))?)?(?:\s+(\d{1,2}):(\d{1,2}):(\d{1,2}))?/.exec(e);return new Date(t[1],(t[2]||1)-1,t[3]||1,t[4]||0,t[5]||0,t[6]||0).getTime()/1e3},openDayDetial:function(e){this.dayPage.page=1,this.initBtn(),this.status=1,this.takeoutOnedayList(e),this.detailTime=e},getOidList:function(e){this.allDayPage.page=1,this.dayPage.page=1,this.status=1*e,2==this.status||this.status,this.takeoutOnedayList(this.dateTime)},reset:function(){null==this.detailTime&&(this.detailTime=n.a.format(new Date,"yyyy-MM-dd")),this.orderNumber="",this.selectTypeNum="",this.isBrand||(this.startTime=(new Date).setHours(0,0,0,0),this.nedTime=(new Date).setHours(23,59,59,0)),1==this.showDay?this.takeoutOnedayList(this.detailTime):1==this.showAllDay&&this.takeoutMultidayList()},selectTakeawayType:function(){null==this.detailTime&&(this.detailTime=n.a.format(new Date(this.startTime),"yyyy-MM-dd")),1==this.showDay?this.takeoutOnedayList(this.detailTime):1==this.showAllDay&&this.takeoutMultidayList()},onePageClick:function(e){this.dayPage.page=e,this.setPage()},oneNumChange:function(e){this.dayPage.num=e,this.setPage()},pageClick:function(e){this.allDayPage.page=e,this.setPage()},numChange:function(e){this.allDayPage.num=e,this.setPage()},takeoutOnedayList:function(e){var t=this;return s(regeneratorRuntime.mark(function a(){var i,n,s,o,l,d,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.orderNumber="",t.dateTime=e,t.showAllDay=!1,i=e+" "+t.startH+":"+t.startM+":"+t.startS,n=e+" "+t.endH+":"+t.endM+":"+t.endS,s=new Date(t.startTime).getTime(),o=new Date(t.endTime).getTime(),t.newpayTotalNum=[],a.next=10,r.a.getOrderOneDayStat({data:{trueShopId:t.dataDetial?t.dataDetial.itemDetial.shopId:t.shopId,startTime:e==s?t.getTime(i):t.getTime(e+" 00:00:00"),endTime:e==o?t.getTime(n):t.getTime(e+" 23:59:59"),isOpenTime:Number(t.isOpenTime),page:t.dayPage.page,num:t.dayPage.num,status:t.status+1,type:t.selectTypeNum}});case 10:for(l=a.sent,t.payTotalNum=l.total,t.payTotalNum.totalDay=1,t.payTotalNum.days=1,t.newpayTotalNum.push(t.payTotalNum),l&&(t.showDay=!0,d=l.list,t.oneDayOrderList=d),u=0;u<t.oneDayOrderList.length;u++)1==t.oneDayOrderList[u].type?t.oneDayOrderList[u].takeoutName="饿了么":2==t.oneDayOrderList[u].type?t.oneDayOrderList[u].takeoutName="美团外卖":3==t.oneDayOrderList[u].type&&(t.oneDayOrderList[u].takeoutName="百度外卖");t.setPage();case 18:case"end":return a.stop()}},a,t)}))()},takeoutMultidayList:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var a,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.showDay=!1,e.showAllDay=!0,e.startTime=new Date(e.startTime).getTime(),e.endTime=new Date(e.endTime).getTime(),a=e.startTime,i=e.endTime,e.startH=n.a.format(a,"hh"),e.startM=n.a.format(a,"mm"),e.startS=n.a.format(a,"ss"),e.endH=n.a.format(i,"hh"),e.endM=n.a.format(i,"mm"),e.endS=n.a.format(i,"ss"),(1*e.startH>0||1*e.startM>0||1*e.startS||1*e.endH<23||1*e.endM<59||1*e.endS<59)&&(e.isOpenTime=!1),e.newpayTotalNum=[],t.next=16,r.a.getOrderManyDaysStat({data:{trueShopId:e.dataDetial?e.dataDetial.itemDetial.shopId:e.shopId,startTime:parseInt(e.startTime/1e3),endTime:parseInt(e.endTime/1e3),isOpenTime:Number(e.isOpenTime),page:e.allDayPage.page,num:e.allDayPage.num,type:e.selectTypeNum}});case 16:(s=t.sent)&&s.total&&(e.payTotalNum=s.total,e.newpayTotalNum.push(e.payTotalNum),e.orderListInDays=s.list,e.setPage());case 18:case"end":return t.stop()}},t,e)}))()},orderDetails:function(e){var t=this;return s(regeneratorRuntime.mark(function a(){var n,s;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return void 0!=e.orderId&&(t.orderNumber=e.orderId),a.next=3,r.a.getOrderDetail({data:{trueShopId:t.dataDetial?t.dataDetial.itemDetial.shopId:t.shopId,oid:e.orderId?e.orderId:e,type:e.type?e.type:t.selectTypeNum,brandId:t.brandId}});case 3:(n=a.sent).type=e.type?e.type:t.selectTypeNum,s={startTime:t.startTime,endTime:t.endTime,isOpenTime:t.isOpenTime},i.a.session("orderTakeout",s),i.a.session("takeawayDetail",n),t.$router.push({path:"/admin/orderStatistics/takeawayDetail",query:t.$route.query});case 9:case"end":return a.stop()}},a,t)}))()},printOrderTakeout:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var a,i,s,o,l,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.a.format(new Date(e.startTime),"yyyy-MM-dd"),i=n.a.format(new Date(e.endTime),"yyyy-MM-dd"),s=e.dateTime+" "+e.startH+":"+e.startM+":"+e.startS,o=e.dateTime+" "+e.endH+":"+e.endM+":"+e.endS,l={},l=e.payTotalNum,e.showDay||e.showDayAllDetail){t.next=26;break}if(l.startTime=parseInt(e.startTime/1e3),l.endTime=parseInt(e.endTime/1e3),0!=e.orderListInDays.length){t.next=12;break}return e.$store.commit("setWin",{content:"没有订单可以打印"}),t.abrupt("return",!1);case 12:if(d=80352e5,!(e.endTime-e.startTime>d)){t.next=18;break}return e.$store.commit("setWin",{content:"最大只能查询三个月时间"}),t.abrupt("return",!1);case 18:if(!(parseInt(e.startTime/1e3)-parseInt(e.endTime/1e3)>0)){t.next=21;break}return e.$store.commit("setWin",{content:"时间选择错误"}),t.abrupt("return",!1);case 21:return t.next=23,r.a.printOrderStat({data:{shopId:e.dataDetial?e.dataDetial.itemDetial.shopId:e.shopId,printData:JSON.stringify(l)}});case 23:e.$store.commit("setWin",{content:"打印数据已发送！"}),t.next=32;break;case 26:if(!e.showDay||e.showDayAllDetail){t.next=32;break}return l.startTime=e.dateTime==a?e.getTime(s):e.getTime(e.dateTime+" 00:00:00"),l.endTime=e.dateTime==i?e.getTime(o):e.getTime(e.dateTime+" 23:59:59"),t.next=31,r.a.printOrderStat({data:{shopId:e.dataDetial?e.dataDetial.itemDetial.shopId:e.shopId,printData:JSON.stringify(l)}});case 31:e.$store.commit("setWin",{content:"打印数据已发送！"});case 32:case"end":return t.stop()}},t,e)}))()},exportOrderTakeaway:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var a,i,n,s,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.dateTime+" "+e.startH+":"+e.startM+":"+e.startS,i=e.dateTime+" "+e.endH+":"+e.endM+":"+e.endS,n=new Date(e.startTime),s=new Date(e.endTime),""==e.selectTypeNum&&(e.selectTypeNum=0),e.showDay||e.showDayAllDetail){t.next=24;break}if(0!=e.orderListInDays.length){t.next=10;break}return e.exportUrl="javascript:void 0",e.$store.commit("setWin",{content:"没有订单可以导出"}),t.abrupt("return",!1);case 10:if(o=80352e5,!(e.endTime-e.startTime>o)){t.next=16;break}return e.$store.commit("setWin",{content:"最大只能查询三个月时间"}),t.abrupt("return",!1);case 16:if(!(parseInt(e.startTime/1e3)-parseInt(e.endTime/1e3)>0)){t.next=19;break}return e.$store.commit("setWin",{content:"时间选择错误"}),t.abrupt("return",!1);case 19:return t.next=21,r.a.exportOrderStat({data:{trueShopId:e.dataDetial?e.dataDetial.itemDetial.shopId:e.shopId,startTime:parseInt(e.startTime/1e3),endTime:parseInt(e.endTime/1e3),isOpenTime:Number(e.isOpenTime),exportType:1,type:e.selectTypeNum,status:0,format:"csv"}});case 21:e.exportUrl=t.sent,t.next=34;break;case 24:if(!e.showDay||e.showDayAllDetail){t.next=34;break}if(0==e.oneDayOrderList.length){t.next=31;break}return t.next=28,r.a.exportOrderStat({data:{trueShopId:e.dataDetial?e.dataDetial.itemDetial.shopId:e.shopId,startTime:e.dateTime==n?e.getTime(a):e.getTime(e.dateTime+" 00:00:00"),endTime:e.dateTime==s?e.getTime(i):e.getTime(e.dateTime+" 23:59:59"),isOpenTime:Number(e.isOpenTime),exportType:2,type:e.selectTypeNum,status:e.status+1,format:"csv"}});case 28:e.exportUrl=t.sent,t.next=34;break;case 31:return e.exportUrl="javascript:void 0",e.$store.commit("setWin",{content:"没有订单可以导出"}),t.abrupt("return",!1);case 34:case"end":return t.stop()}},t,e)}))()},getInfoByOrder:function(){var e=this.orderNumber;return null==e||void 0==e||""==e?(this.$store.commit("setWin",{content:"请输入订单号码!"}),!1):e.split("").length<10||!/\d+/g.test(e)?(this.$store.commit("setWin",{content:"请输入正确订单号码!"}),!1):void(""!=this.selectTypeNum&&0!=this.selectTypeNum?this.orderDetails(e):this.$store.commit("setWin",{content:"请选择外卖类型!"}))},returnPage:function(){if(this.showDay&&!this.showDayAllDetail)return this.showAllDay=!0,this.showDay=!1,void this.takeoutMultidayList();!this.showDay&&this.showAllDay&&this.returnBrand()},returnBrand:function(){i.a.session("brandorderDetial",this.dataDetial),this.$router.push({path:"/admin/orderStatistics/takeawayBrand",query:this.$route.query})},setPage:function(){if(1==this.showDay){this.dayPage.pageNum=Math.ceil(this.oneDayOrderList.length/this.dayPage.num);var e=(this.dayPage.page-1)*this.dayPage.num,t=this.dayPage.page*this.dayPage.num,a=this.oneDayOrderList.slice(e,t);this.paginationList=a}else if(1==this.showAllDay){this.allDayPage.pageNum=Math.ceil(this.orderListInDays.length/this.allDayPage.num);var r=(this.allDayPage.page-1)*this.allDayPage.num,i=this.allDayPage.page*this.allDayPage.num,n=this.orderListInDays.slice(r,i);this.paginationList=n}}},mounted:function(){var e=i.a.session("userShop"),t=void 0,a=void 0;t=e.currentShop.brandId?e.currentShop.brandId:0,e&&e.accessToken&&e.currentShop&&(a=e.currentShop.id);var r=i.a.session("orderTakeout"),n=i.a.session("brandDetial");this.startTime=n?n.startTime:r?r.startTime:(new Date).setHours(0,0,0,0),this.endTime=n?n.endTime:r?r.endTime:(new Date).setHours(23,59,59,999),this.isOpenTime=n?n.isOpenTime:!r||r.isOpenTime,this.isBrand="3"==e.currentShop.ischain,this.dataDetial=n,this.selectTypeNum=n?n.type:null,this.brandId=t,this.shopId=a,this.initBtn(!this.isBrand),this.init(),sessionStorage.removeItem("orderTakeout")},components:{win:function(){return a.e("win").then(a.bind(null,"f60a"))}}},l=(a("32c9"),a("d801")),d=Object(l.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"statistics-order"}},[e.showDayAllDetail?e._e():a("div",{staticClass:"button"},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:e.toOrder}},[e._v("堂吃")]),e._v(" "),a("a",{staticClass:"select",attrs:{href:"javascript:void(0);"}},[e._v("外卖")]),e._v(" "),a("a",{attrs:{id:"returncolor",href:"javascript:void(0);"},on:{click:e.toProprietary}},[e._v("自营外卖")])]),e._v(" "),e.isBrand?a("section",{staticStyle:{width:"100%",overflow:"hidden"}},[a("section",{staticClass:"oShopDel",staticStyle:{width:"80px"}},[e._v("选择店铺：")]),e._v(" "),a("section",{staticClass:"oShopDel",staticStyle:{margin:"0 5px"}},[e._v(e._s(e.dataDetial.itemDetial.shopName)+" |")]),e._v(" "),a("section",{staticClass:"oShopDel",staticStyle:{width:"80px"}},[e._v("选择时间：")]),e._v(" "),a("section",{staticClass:"oShopDel"},[e._v(e._s(e.timeToday(e.startTime))+"--"+e._s(e.timeToday(e.endTime)))])]):e._e(),e._v(" "),e.showDayAllDetail?e._e():a("div",{staticClass:"order-order-data",staticStyle:{margin:"15px 0",width:"100%"}},[a("section",{staticStyle:{display:"inline-block"}},[e.isBrand?e._e():a("el-date-picker",{attrs:{clearable:!1,type:"datetime",placeholder:"选择日期"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v(" "),e.isBrand?e._e():a("span",{staticStyle:{width:"25px","line-height":"40px","text-align":"center"}},[e._v("至")]),e._v(" "),e.isBrand?e._e():a("el-date-picker",{attrs:{clearable:!1,type:"datetime",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}),e._v(" "),e.isBrand?e._e():a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.sreachOrderInDays}},[e._v("搜索")]),e._v(" "),e.isBrand?e._e():a("div",{staticStyle:{"line-height":"46px",display:"inline-block"}},[a("div",{class:{selected:e.isOpenTime},staticStyle:{width:"20px",height:"20px",cursor:"pointer",border:"1px solid #28A8E0",margin:"13px 10px",float:"left"},on:{click:e.selectBusinessHours}}),e._v(" "),a("span",{staticStyle:{"font-size":"16px"}},[e._v("按营业时间")])]),e._v(" "),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择外卖类型"},on:{change:e.selectTakeawayType},model:{value:e.selectTypeNum,callback:function(t){e.selectTypeNum=t},expression:"selectTypeNum"}},e._l(e.takeawaytypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单号",maxlength:"20",clearable:""},model:{value:e.orderNumber,callback:function(t){e.orderNumber=t},expression:"orderNumber"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getInfoByOrder},slot:"append"})],1),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.reset}},[e._v("重置")])],1)],1)]),e._v(" "),e.showDay?a("section",{staticStyle:{width:"100%",height:"60px"}},[a("el-radio-group",{on:{change:e.getOidList},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("已完成")]),e._v(" "),a("el-radio-button",{attrs:{label:"0"}},[e._v("进行中")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("已取消")]),e._v(" "),a("el-radio-button",{attrs:{label:"3"}},[e._v("售后退款")])],1)],1):e._e(),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"","row-style":{color:"#f8941f"},"header-cell-style":{"background-color":"#f5f7fa"},data:e.newpayTotalNum,border:""}},[a("el-table-column",{attrs:{width:"250",align:"center",prop:"days",label:"天数"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100",align:"center",prop:"orderNum",label:"订单数"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120","render-header":e.renderHeader,"show-overflow-tooltip":"",align:"center",prop:"totalNum",label:"商品总数"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100","render-header":e.renderHeader,"show-overflow-tooltip":"",align:"center",prop:"goodsNum",label:"销量"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100","show-overflow-tooltip":"",align:"center",prop:"discountNum",label:"赠品总数"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100","show-overflow-tooltip":"",align:"center",prop:"partRefund",label:"部分退款"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.partRefund).toFixed(2)))])]}}])}),e._v(" "),"2"!=e.status?a("el-table-column",{attrs:{"min-width":"100","show-overflow-tooltip":"",align:"center",prop:"deliverFee",label:"配送总额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.deliverFee).toFixed(2)))])]}}])}):e._e(),e._v(" "),"2"!=e.status?a("el-table-column",{attrs:{"min-width":"120","render-header":e.renderHeader,"show-overflow-tooltip":"",align:"center",prop:"activityFee",label:"优惠总额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.activityFee).toFixed(2)))])]}}])}):e._e(),e._v(" "),"2"!=e.status?a("el-table-column",{attrs:{"min-width":"120","render-header":e.renderHeader,align:"center","show-overflow-tooltip":"",prop:"goodsTotalPrice",label:"消费总额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.goodsTotalPrice).toFixed(2)))])]}}])}):e._e(),e._v(" "),"2"!=e.status&&"3"!=e.status?a("el-table-column",{attrs:{"min-width":"120","render-header":e.renderHeader,"show-overflow-tooltip":"",align:"center",property:"income",label:"入账总额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.income).toFixed(2)))])]}}])}):e._e()],1),e._v(" "),e.showAllDay?a("section",[a("section",{staticStyle:{"margin-top":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"","header-cell-style":{"background-color":"#f5f7fa"},data:e.paginationList,border:""}},[a("el-table-column",{attrs:{fixed:"",width:"250",align:"center",prop:"shopName",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#00AAE7",cursor:"pointer"},on:{click:function(a){e.openDayDetial(t.row.time)}}},[e._v("查看详情")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100",align:"center",prop:"time",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100",align:"center",prop:"orderNum",label:"订单数"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120","render-header":e.renderHeader,"show-overflow-tooltip":"",align:"center",prop:"totalNum",label:"商品数"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100","render-header":e.renderHeader,"show-overflow-tooltip":"",align:"center",prop:"goodsNum",label:"销量"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100","show-overflow-tooltip":"",align:"center",prop:"discountNum",label:"赠品数"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100","show-overflow-tooltip":"",align:"center",prop:"partRefund",label:"部分退款"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.partRefund).toFixed(2)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100","show-overflow-tooltip":"",align:"center",prop:"deliverFee",label:"配送金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.deliverFee).toFixed(2)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120","show-overflow-tooltip":"",align:"center",prop:"activityFee",label:"优惠金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.activityFee).toFixed(2)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120","render-header":e.renderHeader,align:"center","show-overflow-tooltip":"",prop:"goodsTotalPrice",label:"消费金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.goodsTotalPrice).toFixed(2)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120","render-header":e.renderHeader,"show-overflow-tooltip":"",align:"center",property:"income",label:"入账金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.income).toFixed(2)))])]}}])})],1)],1)]):e._e(),e._v(" "),e.showDay?a("section",[a("section",{staticStyle:{"margin-top":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"","header-cell-style":{"background-color":"#f5f7fa"},data:e.paginationList,border:""}},[a("el-table-column",{attrs:{fixed:"",width:"250",align:"center",prop:"shopName",label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#00AAE7",cursor:"pointer"},on:{click:function(a){e.orderDetails(t.row)}}},[e._v(e._s(t.row.orderId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100",align:"center",prop:"takeoutName",label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100",align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"150","show-overflow-tooltip":"",align:"center",prop:"time",label:"下单时间"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120","render-header":e.renderHeader,"show-overflow-tooltip":"",align:"center",prop:"totalNum",label:"商品数"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100","render-header":e.renderHeader,"show-overflow-tooltip":"",align:"center",prop:"goodsNum",label:"销量"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100","show-overflow-tooltip":"",align:"center",prop:"discountNum",label:"赠品数"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100","show-overflow-tooltip":"",align:"center",prop:"partRefund",label:"部分退款"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.partRefund).toFixed(2)))])]}}])}),e._v(" "),"3"==e.status?a("el-table-column",{attrs:{"min-width":"100","show-overflow-tooltip":"",align:"center",prop:"goodsTotalPrice",label:"退款金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.goodsTotalPrice).toFixed(2)))])]}}])}):e._e(),e._v(" "),"2"!=e.status?a("el-table-column",{attrs:{"min-width":"100","show-overflow-tooltip":"",align:"center",prop:"deliverFee",label:"配送金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.deliverFee).toFixed(2)))])]}}])}):e._e(),e._v(" "),"2"!=e.status?a("el-table-column",{attrs:{"min-width":"120","show-overflow-tooltip":"",align:"center",prop:"activityFee",label:"优惠金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.activityFee).toFixed(2)))])]}}])}):e._e(),e._v(" "),"2"!=e.status?a("el-table-column",{attrs:{"min-width":"120","render-header":e.renderHeader,align:"center","show-overflow-tooltip":"",prop:"goodsTotalPrice",label:"消费金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.goodsTotalPrice).toFixed(2)))])]}}])}):e._e(),e._v(" "),"2"!=e.status&&"3"!=e.status?a("el-table-column",{attrs:{"min-width":"120","render-header":e.renderHeader,"show-overflow-tooltip":"",align:"center",property:"income",label:"入账金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(parseFloat(t.row.income).toFixed(2)))])]}}])}):e._e()],1)],1)]):e._e()],1),e._v(" "),!e.showDay&&e.showAllDay?a("div",{staticStyle:{margin:"20px 0"}},[a("el-pagination",{attrs:{background:"","current-page":e.allDayPage.page,"page-count":e.allDayPage.pageNum,"page-size":e.allDayPage.num,layout:"sizes, prev, pager, next","page-sizes":[10,20,30]},on:{"size-change":e.numChange,"current-change":e.pageClick}})],1):e._e(),e._v(" "),e.showDay?a("div",{staticStyle:{margin:"20px 0"}},[a("el-pagination",{attrs:{background:"","current-page":e.dayPage.page,"page-count":e.dayPage.pageNum,"page-size":e.dayPage.num,layout:"sizes, prev, pager, next","page-sizes":[10,20,30]},on:{"size-change":e.oneNumChange,"current-change":e.onePageClick}})],1):e._e()])},[],!1,null,"79d42a40",null);t.default=d.exports},"32c9":function(e,t,a){"use strict";var r=a("b754");a.n(r).a},b754:function(e,t,a){}}]);