(window.webpackJsonp=window.webpackJsonp||[]).push([["warehouse_win"],{"05ac":function(e,t,s){},"0c7d":function(e,t,s){"use strict";s.r(t);var i=s("81a2"),r=s("f6ce"),a=s("bbb9");var n={data:function(){return{width:980,height:400,searchText:"",homeList:[],homeSel:0,homeId:"",selectHomes:"",selWare:[],chooseWare:"",searchList:[],homeItem:"",keyName:1==this.wareType?"name":"areaName",areName:["仓库","货架"],ischain:r.a.session("userShop").currentShop.ischain,shopId:r.a.session("shopId"),brandId:r.a.session("userShop").currentShop.brandId}},props:["title","wareType","goodsWid","goodsareaId"],methods:{init:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var s,r,n,o,h,c,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=1==t.wareType?"getShelvesList":"warehouseList",e.next=3,i.a[s]();case 3:if(r=e.sent,t.homeList=r,t.wareType||(3!=t.ischain?t.homeList=t.filtrate("shopId",t.shopId):t.homeList=t.filtrate("shopId",0)),!t.goodsWid){e.next=26;break}for(n=!0,o=!1,h=void 0,e.prev=10,c=t.homeList[Symbol.iterator]();!(n=(l=c.next()).done);n=!0)(u=l.value).id==t.goodsWid&&(t.homeList=[u]);e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),o=!0,h=e.t0;case 18:e.prev=18,e.prev=19,!n&&c.return&&c.return();case 21:if(e.prev=21,!o){e.next=24;break}throw h;case 24:return e.finish(21);case 25:return e.finish(18);case 26:t.searchList=a.a.deepCopy(t.homeList),t.renewal();case 28:case"end":return e.stop()}},e,t,[[10,14,18,26],[19,,21,25]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,s){return function i(r,a){try{var n=t[r](a),o=n.value}catch(e){return void s(e)}if(!n.done)return Promise.resolve(o).then(function(e){i("next",e)},function(e){i("throw",e)});e(o)}("next")})})()},filtrate:function(e,t){var s=[],i=!0,r=!1,a=void 0;try{for(var n,o=this.homeList[Symbol.iterator]();!(i=(n=o.next()).done);i=!0){var h=n.value;Number(h[e])===Number(t)&&s.push(h)}}catch(e){r=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return s},renewal:function(){this.searchList[0]?(this.selectHomes=this.searchList[0].area,this.homeId=this.searchList[0].id):this.selectHomes=[]},winEvent:function(e){this.$emit("wareEvent",e),this.searchText=""},clearText:function(){this.searchText="",this.homeSel=0,this.searchList=a.a.deepCopy(this.homeList),this.renewal()},chooseText:function(){var e=[];if(this.searchText&&""!=this.searchText){this.searchList=[];var t=!0,s=!1,i=void 0;try{for(var r,n=a.a.deepCopy(this.homeList)[Symbol.iterator]();!(t=(r=n.next()).done);t=!0){var o=r.value,h=[],c=!1;if(o.name.indexOf(this.searchText)>-1)e.push(o),c=!0;else if(o.area&&!c){var l=!0,u=!1,d=void 0;try{for(var m,f=o.area[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){var p=m.value;p[this.keyName].indexOf(this.searchText)>-1&&(c=!0,e.push(o),h.push(p))}}catch(e){u=!0,d=e}finally{try{!l&&f.return&&f.return()}finally{if(u)throw d}}}c&&(h.length>0&&(o.area=h),this.searchList.push(o))}}catch(e){s=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(s)throw i}}this.renewal()}},changeHome:function(e,t,s){this.homeSel=e,this.homeId=s,this.homeItem=t,this.selectHomes=t.area,this.chooseWare="",this.selWare=[]},wareChange:function(e){this.selWare=e,this.chooseWare=this.selectHomes[e[0]];var t=!0,s=!1,i=void 0;try{for(var r,a=this.selectHomes[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var n=r.value;n.id==e[0]&&(this.chooseWare=n)}}catch(e){s=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(s)throw i}}}},mounted:function(){this.shopId=r.a.session("itemId"),this.goodsareaId&&this.selWare.push(this.goodsareaId),this.init()},watch:{goodsareaId:function(){this.selWare.push(this.goodsareaId)}},components:{mulSelect:function(){return s.e("mul_select").then(s.bind(null,"7d09"))},win:function(){return s.e("win").then(s.bind(null,"f60a"))}}},o=(s("970b"),s("d801")),h=Object(o.a)(n,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("win",{attrs:{width:e.width,height:e.height,align:"center"},on:{winEvent:e.winEvent},scopedSlots:e._u([{key:"content",fn:function(t){return s("div",{attrs:{id:"tan"}},[s("div",{attrs:{id:"house"}},[s("div",{staticClass:"sousuo"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"输入"+e.areName[e.wareType]+"名称/区域"},domProps:{value:e.searchText},on:{input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),e._v(" "),s("div",{staticClass:"res",on:{click:e.clearText}},[e._v("重置")]),e._v(" "),s("div",{staticClass:"choose",on:{click:e.chooseText}},[e._v("筛选")])]),e._v(" "),s("div",[s("section",{staticClass:"fl",staticStyle:{width:"100%",padding:"10px 80px"}},[e._l(e.searchList,function(t,i){return[s("span",{key:i,staticClass:"sel",class:{on:e.homeSel==i},on:{click:function(s){e.changeHome(i,t,t.id)}}},[e._v(e._s(t.name))])]})],2),e._v(" "),e._l(45,function(e){return s("div",{key:e,staticClass:"dian"})}),e._v(" "),e.selectHomes&&e.selectHomes.length>0?s("section",{staticClass:"comList",staticStyle:{width:"100%",padding:"10px 80px"}},[s("mul-select",{attrs:{styles:{backgroundColor:"#F1F1F1",width:"180px",borderRadius:"3px",marginRight:"8px"},list:e.selectHomes,name:e.keyName,isradio:!0,selects:e.selWare,keys:"id"},on:{selOn:e.wareChange}})],1):e._e()],2)])])}}])},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.title))])])},[],!1,null,"779badac",null);t.default=h.exports},"970b":function(e,t,s){"use strict";var i=s("05ac");s.n(i).a}}]);