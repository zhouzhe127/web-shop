(window.webpackJsonp=window.webpackJsonp||[]).push([["public_details"],{"27c0":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{attrs:{id:"materials-putin-storage"}},[i("div",{staticClass:"return",on:{click:e.returnPage}},[e._v("返回")]),e._v(" "),e.materialShow?i("div",{staticClass:"material-info"},[i("div",{staticClass:"titleTop"},[i("div",{staticClass:"topbox"},[i("i"),e._v(" "),i("h3",[e._v("物料信息")]),e._v(" "),e._l(32,function(e){return i("div",{key:e,staticClass:"dian"})})],2)]),e._v(" "),i("ul",{staticClass:"material-info-body"},[i("li",[i("div",[e._v("物料名称："+e._s(e.materialInfo.name))]),e._v(" "),i("div",[e._v("物料单位："+e._s(e.unitInfoName))]),e._v(" "),i("div",[e._v("单位换算："+e._s(e.unitInfoConversion?e.unitInfoConversion:e.sameUnitConver))])]),e._v(" "),i("li",[i("div",[e._v("物料简码："+e._s(e.materialInfo.BC))]),e._v(" "),i("div",[e._v("默认单位："+e._s(e.unitInfoDefault))]),e._v(" "),i("div",[e._v("分类："+e._s(e.cateInfoName))])]),e._v(" "),i("li",[i("div",[e._v("品牌："+e._s(e.materialInfo.brandName||"无"))]),e._v(" "),i("div",[e._v("最小单位："+e._s(e.unitInfoMin))]),e._v(" "),i("div",[e._v("保质期："+e._s(e.materialInfo.validity+e.validityType))])])])]):e._e(),e._v(" "),1==e.detailsType?i("div",{staticClass:"new-inventory"},[i("div",{staticClass:"titleTop"},[i("div",{staticClass:"topbox"},[i("i"),e._v(" "),i("h3",[e._v("操作记录")]),e._v(" "),e._l(32,function(e){return i("div",{key:e,staticClass:"dian"})})],2)]),e._v(" "),i("ul",{staticClass:"new-inventory-body"},[i("li",[i("section",[i("h6",[e._v("操作类型:")]),e._v(" "),i("span",[e._v(e._s(e.operationRecordsList.typeName||"--"))])]),e._v(" "),i("section",[i("h6",[e._v("操作时间:")]),e._v(" "),i("span",[e._v(e._s(e.timeConversion(e.operationRecordsList.createTime)))])])]),e._v(" "),i("li",[i("section",[i("h6",[e._v("操作前数量/重量:")]),e._v(" "),i("span",[e._v(e._s(e.operationRecordsList.createBefore))])]),e._v(" "),i("section",[i("h6",[e._v("数量/重量变化:")]),e._v(" "),i("span",[e._v(e._s(e.operationRecordsList.createChange))])])]),e._v(" "),i("li",[i("section",[i("h6",[e._v("操作后数量/重量:")]),e._v(" "),i("span",[e._v(e._s(e.operationRecordsList.createAfter))])]),e._v(" "),i("section",[i("h6",[e._v("操作人:")]),e._v(" "),i("span",[e._v(e._s(e.operationRecordsList.createName||"--"))])])]),e._v(" "),e.pickingShow?i("li",[i("section",[i("h6",[e._v("领料人:")]),e._v(" "),i("span",[e._v(e._s(e.operationRecordsList.ownerName||"--"))])])]):e._e(),e._v(" "),i("li",[i("section",[i("h6",[e._v("备注:")]),e._v(" "),i("span",[e._v(e._s(e.operationRecordsList.remark))])])])])]):e._e(),e._v(" "),2==e.detailsType?i("div",{staticClass:"operationTable"},[e.operationRecordsList[0]?i("p",[e._v("操作记录 · 日期："+e._s(e.timeConversionDay(e.operationRecordsList[0].createTime)))]):e._e(),e._v(" "),e._m(0),e._v(" "),e._l(e.operationRecordsList,function(t,o){return i("ul",{key:o,staticClass:"table-body"},[i("li",[e._v(e._s(e.timeConversionHourse(t.createTime)))]),e._v(" "),i("li",[e._v(e._s(t.goodsName||"--"))]),e._v(" "),i("li",[e._v(e._s(t.createChange||"--"))]),e._v(" "),i("li",[e._v(e._s(t.createBefore||"--"))]),e._v(" "),i("li",[e._v(e._s(t.createAfter||"--"))])])})],2):e._e(),e._v(" "),3==e.detailsType?i("div",{staticClass:"operationTableEdit"},[e.operationRecordsList[0]?i("p",[e._v("修改批次信息 · 操作时间："+e._s(e.timeConversion(Number(e.operationRecordsList[0].createTime))))]):e._e(),e._v(" "),e._m(1),e._v(" "),i("div",{staticClass:"table-body-edit"},[e._m(2),e._v(" "),i("ul",{staticClass:"table-body-edit-info"},[e.operationRecordsContent[4]?i("li",[e._v(e._s(e.operationRecordsContent[4].modifyBefore))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[0]?i("li",[e._v(e._s(e.timeConversion(e.operationRecordsContent[0].modifyBefore)))]):e._e(),e._v(" "),e.operationRecordsContent[1]?i("li",[e._v(e._s(e.timeConversion(e.operationRecordsContent[1].modifyBefore)))]):e._e(),e._v(" "),e.operationRecordsContent[2]?i("li",[e._v(e._s(e.operationRecordsContent[2].modifyBefore))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[5]?i("li",[e._v(e._s(e.operationRecordsContent[5].modifyBefore))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[6]?i("li",[e._v(e._s(e.operationRecordsContent[6].modifyBefore))]):i("li",[e._v("--")])]),e._v(" "),i("ul",{staticClass:"table-body-edit-info"},[e.operationRecordsContent[4]?i("li",[e._v(e._s(e.operationRecordsContent[4].modifyAfter))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[0]?i("li",[e._v(e._s(e.timeConversion(e.operationRecordsContent[0].modifyAfter)))]):e._e(),e._v(" "),e.operationRecordsContent[1]?i("li",[e._v(e._s(e.timeConversion(e.operationRecordsContent[1].modifyAfter)))]):e._e(),e._v(" "),e.operationRecordsContent[2]?i("li",[e._v(e._s(e.operationRecordsContent[2].modifyAfter))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[5]?i("li",[e._v(e._s(e.operationRecordsContent[5].modifyAfter))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[6]?i("li",[e._v(e._s(e.operationRecordsContent[6].modifyAfter))]):i("li",[e._v("--")])])])]):e._e(),e._v(" "),4==e.detailsType?i("div",{staticClass:"operationTableEdit"},[e.operationRecordsList[0]?i("p",[e._v("修改物料信息 · 操作时间："+e._s(e.timeConversion(Number(e.operationRecordsList[0].createTime))))]):e._e(),e._v(" "),e._m(3),e._v(" "),i("div",{staticClass:"table-body-edit"},[e._m(4),e._v(" "),i("ul",{staticClass:"table-body-edit-info"},[e.operationRecordsContent[0]?i("li",[e._v(e._s(e.operationRecordsContent[0].modifyBefore))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[1]?i("li",[e._v(e._s(e.operationRecordsContent[1].modifyBefore))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[2]?i("li",[e._v(e._s(e.operationRecordsContent[2].modifyBefore))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[3]?i("li",[e._v(e._s(e.operationRecordsContent[3].modifyBefore.name))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[4]?i("li",[e._v(e._s(e.operationRecordsContent[4].modifyBefore))]):i("li",[e._v("--")])]),e._v(" "),i("ul",{staticClass:"table-body-edit-info"},[e.operationRecordsContent[0]?i("li",[e._v(e._s(e.operationRecordsContent[0].modifyAfter))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[1]?i("li",[e._v(e._s(e.operationRecordsContent[1].modifyAfter))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[2]?i("li",[e._v(e._s(e.operationRecordsContent[2].modifyAfter))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[3]?i("li",[e._v(e._s(e.operationRecordsContent[3].modifyAfter.name))]):i("li",[e._v("--")]),e._v(" "),e.operationRecordsContent[4]?i("li",[e._v(e._s(e.operationRecordsContent[4].modifyAfter))]):i("li",[e._v("--")])])])]):e._e()])};o._withStripped=!0;var n=i("81a2"),r=i("f6ce"),a=i("bbb9");var s={data:function(){return{materialShow:!0,pickingShow:!1,detailsType:1,unitReady:[],unitInfo:[],unitInfoName:"",unitInfoDefault:"",unitInfoMin:"",unitInfoValue:"",unitInfoConversion:"",cateInfo:[],cateInfoName:"",getInfo:{},materialInfo:[],operationRecords:[],operationRecordsList:[],operationRecordsTime:"",operationRecordsContent:[],validityType:"",sameUnitConver:""}},methods:{dealData:function(e,t){var i=[],o=!0,n=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var v=a.value;i.push(v[t])}}catch(e){n=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(n)throw r}}return i},timeConversion:function(e){return a.a.format(new Date(1e3*e),"yyyy-MM-dd hh:mm")},timeConversionDay:function(e){return a.a.format(new Date(1e3*e),"yyyy-MM-dd")},timeConversionHourse:function(e){return a.a.format(new Date(1e3*e),"hh:mm")},init:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var i,o,r,a,s,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.getMaterialDetail({data:{mid:t.getInfo.mid}});case 2:for(i=e.sent,t.materialInfo=i,t.unitInfo=i.unit,0==t.materialInfo.validityType?t.validityType="月":1==t.materialInfo.validityType?t.validityType="日":2==t.materialInfo.validityType&&(t.validityType="年"),o=[],r=0;r<t.unitInfo.length;r++)1==t.unitInfo[r].isDefault&&1==t.unitInfo[r].isMin&&(t.unitInfoDefault=t.unitInfo[r].name,t.unitInfoMin=t.unitInfo[r].name,t.sameUnitConver="1"+t.unitInfo[r].name+"="+t.unitInfo[r].value+t.unitInfoMin),1==t.unitInfo[r].isDefault&&(t.unitInfoDefault=t.unitInfo[r].name),1==t.unitInfo[r].isMin&&(t.unitInfoMin=t.unitInfo[r].name),0==t.unitInfo[r].isMin&&(o.push(t.unitInfo[r]),t.unitInfo[r].unitConversion="1"+t.unitInfo[r].name+"="+t.unitInfo[r].value+t.unitInfoMin);return t.conversionArr=o,t.unitInfoName=t.dealData(t.unitInfo,"name").join("、"),t.unitInfoConversion=t.dealData(t.conversionArr,"unitConversion").join("|"),t.cateInfo=i.cate,t.cateInfoName=t.dealData(t.cateInfo,"name").join("、"),e.next=15,n.a.getLogDetail({data:{id:t.getInfo.tid,type:t.getInfo.type,mid:t.getInfo.mid,createTime:t.getInfo.time}});case 15:for(v in a=e.sent,t.operationRecords=a,t.operationRecordsList=a.list,t.operationRecordsTime=a.list.length?a.list[0].creatTime:"",s=["","盘库","入库","耗损","修改批次信息","商品物料消耗","出库（调库）","入库（调库）","领料","回库","修改物料信息"])t.operationRecordsList.logType==v&&(t.operationRecordsList.typeName=s[v]);console.log(t.operationRecordsList),t.operationRecordsContent=a.list.content;case 23:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,i){return function o(n,r){try{var a=t[n](r),s=a.value}catch(e){return void i(e)}if(!a.done)return Promise.resolve(s).then(function(e){o("next",e)},function(e){o("throw",e)});e(s)}("next")})})()},returnPage:function(){r.a.session("publicDetailReturn",!0),this.$router.push({path:"/admin/inventoryManagement/suppliesDetail",query:this.$route.query})}},mounted:function(){this.getInfo=this.$route.query,1==this.getInfo.type?this.detailsType=1:8==this.getInfo.type?(this.detailsType=1,this.pickingShow=!0):5==this.getInfo.type?this.detailsType=2:4==this.getInfo.type?this.detailsType=3:10==this.getInfo.type&&(this.detailsType=4,this.materialShow=!1),this.init()}},v=(i("6138"),i("7610")),_=Object(v.a)(s,o,[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"table-head"},[i("li",[e._v("操作时间")]),e._v(" "),i("li",[e._v("商品")]),e._v(" "),i("li",[e._v("数量/重量变化")]),e._v(" "),i("li",[e._v("操作前数量/重量")]),e._v(" "),i("li",[e._v("操作后数量/重量")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"table-head-edit"},[t("li"),this._v(" "),t("li",[this._v("修改前")]),this._v(" "),t("li",[this._v("修改后")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"table-body-edit-info"},[i("li",[e._v("批次编号")]),e._v(" "),i("li",[e._v("生产日期")]),e._v(" "),i("li",[e._v("失效日期")]),e._v(" "),i("li",[e._v("供应商")]),e._v(" "),i("li",[e._v("进价")]),e._v(" "),i("li",[e._v("备注")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"table-head-edit"},[t("li"),this._v(" "),t("li",[this._v("修改前")]),this._v(" "),t("li",[this._v("修改后")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"table-body-edit-info"},[i("li",[e._v("物料名称")]),e._v(" "),i("li",[e._v("物料简码")]),e._v(" "),i("li",[e._v("分类")]),e._v(" "),i("li",[e._v("品牌")]),e._v(" "),i("li",[e._v("保质期")])])}],!1,null,"62640c6c",null);_.options.__file="src\\module\\invoicing_system\\invoicing\\public_details.vue";t.default=_.exports},6138:function(e,t,i){"use strict";var o=i("8fd3");i.n(o).a},"8fd3":function(e,t,i){}}]);