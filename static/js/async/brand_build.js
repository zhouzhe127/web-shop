(window.webpackJsonp=window.webpackJsonp||[]).push([["brand_build"],{"75d4":function(t,e,a){},"842a":function(t,e,a){"use strict";var i=a("75d4");a.n(i).a},b5b5:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"creatStores"},[[t._m(0),t._v(" "),t._m(1),t._v(" "),a("section",{staticClass:"oTop"},[a("section",{staticStyle:{width:"50%",float:"left"}},[a("section",{staticClass:"obox"},[a("h2",{staticClass:"required"},[t._v("行业分类")]),t._v(" "),a("section",{staticClass:"statisticsList fl",staticStyle:{"margin-right":"40px"}},[a("section",{staticClass:"tableListInp",on:{click:t.showAreaList}},[a("span",{staticClass:"oSpan"},[t._v(t._s(t.allArea))]),t._v(" "),t._m(2)]),t._v(" "),t.areaBtn?a("ul",{staticClass:"tableListUl"},t._l(t.areaList,function(e,i){return a("li",{key:i,on:{click:function(a){t.selectUlArea(i,e)}}},[t._v(t._s(e.name))])})):t._e()])]),t._v(" "),a("section",{staticClass:"obox"},[a("h2",{staticClass:"required"},[t._v("品牌名称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.brandName,expression:"brandName"}],staticClass:"input",attrs:{maxlength:"15",type:"text",placeholder:"输入名称"},domProps:{value:t.brandName},on:{input:function(e){e.target.composing||(t.brandName=e.target.value)}}})]),t._v(" "),a("section",{staticClass:"obox"},[a("h2",{staticClass:"required"},[t._v("负责人姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.peopleName,expression:"peopleName"}],staticClass:"input",attrs:{maxlength:"15",type:"text",placeholder:"输入负责人姓名"},domProps:{value:t.peopleName},on:{input:function(e){e.target.composing||(t.peopleName=e.target.value)}}})])]),t._v(" "),a("section",{staticStyle:{width:"50%",float:"left"}},[a("section",{staticClass:"obox"},[a("h2",{staticClass:"required"},[t._v("联系方式")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNum,expression:"phoneNum"}],staticClass:"input",attrs:{maxlength:"11",type:"text",placeholder:"输入手机号"},domProps:{value:t.phoneNum},on:{input:function(e){e.target.composing||(t.phoneNum=e.target.value)}}})]),t._v(" "),a("form",{staticClass:"fr",staticStyle:{width:"100%"},attrs:{id:"imageUpForm1",enctype:"multipart/form-data"}},[a("section",{staticClass:"obox",staticStyle:{position:"relative"}},[a("h2",{staticClass:"required"},[t._v("上传LOGO")]),t._v(" "),a("a",{staticClass:"blue",staticStyle:{width:"120px",height:"40px","line-height":"40px","margin-top":"-5px"},attrs:{href:"javascript:void(0);"}},[""!==t.logoimg?[t._v("重新上传")]:[t._v("立刻上传")]],2),t._v(" "),a("input",{staticStyle:{cursor:"pointer",display:"block",position:"absolute",left:"90px",top:"-5px",width:"120px",height:"40px",opacity:"0",background:"red"},attrs:{type:"file",id:"file_upload1",accept:"image/jpeg,image/png,image/gif,image/tiff",name:"image"},on:{change:t.imgUpload1}}),t._v(" "),""!==t.logoimg?a("div",{staticStyle:{display:"inline-block"}},[a("span",[t._v("( 已上传：")]),t._v(" "),a("label",{attrs:{for:"uploadFile"}},[t._v(t._s(t.spliceFileName(t.logoimg))+" ")]),t._v(" "),a("span",[t._v(")")])]):t._e()])]),t._v(" "),a("form",{staticClass:"fr",staticStyle:{width:"100%"},attrs:{id:"imageUpForm2",enctype:"multipart/form-data"}},[a("section",{staticClass:"obox",staticStyle:{position:"relative"}},[a("h2",{staticStyle:{float:"left",width:"80px",height:"40px","line-height":"40px","text-align":"center","margin-right":"10px"}},[t._v("上传商标")]),t._v(" "),a("a",{staticClass:"blue",staticStyle:{width:"120px",height:"40px","line-height":"40px","margin-top":"-5px"},attrs:{href:"javascript:void(0);"}},[""!==t.trademarkimg?[t._v("重新上传")]:[t._v("立刻上传")]],2),t._v(" "),a("input",{staticStyle:{cursor:"pointer",display:"block",position:"absolute",left:"90px",top:"-5px",width:"120px",height:"40px",opacity:"0",background:"red"},attrs:{type:"file",id:"file_upload2",accept:"image/jpeg,image/png,image/gif,image/tiff",name:"image"},on:{change:t.imgUpload2}}),t._v(" "),""!==t.trademarkimg?a("div",{staticStyle:{display:"inline-block"}},[a("span",[t._v("( 已上传：")]),t._v(" "),a("span",[t._v(t._s(t.spliceFileName(t.trademarkimg)))]),t._v(" "),a("span",[t._v(" )")])]):t._e()])])])]),t._v(" "),t._m(3),t._v(" "),a("section",{staticClass:"oTop",staticStyle:{height:"100px"}},[a("section",{staticClass:"obox",staticStyle:{width:"50%",float:"left"}},[a("h2",{staticStyle:{float:"left",width:"80px",height:"40px","line-height":"40px","text-align":"center","margin-right":"10px"}},[t._v("AppID")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.appId,expression:"appId"}],staticClass:"input",attrs:{type:"text",onkeyup:"value=value.replace(/[^\\w\\.\\/]/ig,'')",maxlength:"30",placeholder:"请输入微信AppID"},domProps:{value:t.appId},on:{input:function(e){e.target.composing||(t.appId=e.target.value)}}})]),t._v(" "),a("section",{staticClass:"obox",staticStyle:{width:"50%",float:"left"}},[a("h2",{staticStyle:{float:"left",width:"80px",height:"40px","line-height":"40px","text-align":"center","margin-right":"10px"}},[t._v("AppSecret")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.appSecret,expression:"appSecret"}],staticClass:"input",attrs:{type:"text",onkeyup:"value=value.replace(/[^\\w\\.\\/]/ig,'')",maxlength:"50",placeholder:"请输入微信AppSecret"},domProps:{value:t.appSecret},on:{input:function(e){e.target.composing||(t.appSecret=e.target.value)}}})])]),t._v(" "),a("section",{staticStyle:{width:"100%"}},[a("a",{staticClass:"gray return",attrs:{href:"javascript:void(0);"},on:{click:t.returnList}},[t._v("返回")]),t._v(" "),a("a",{staticClass:"nextsubmit yellow",attrs:{href:"javascript:void(0);"},on:{click:t.creatBrandSubmit}},[t._v("提交")])])]],2)};i._withStripped=!0;var s=a("f6ce"),r=a("05dd"),n=a("81a2");function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(s,r){try{var n=e[s](r),o=n.value}catch(t){return void a(t)}if(!n.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}var l=s.a.session("userShop"),p={data:function(){return{areaBtn:!1,areaList:s.a.session("areaList"),brandName:"",peopleName:"",phoneNum:"",logoimg:"",trademarkimg:"",appId:"",appSecret:"",allArea:"请选择行业分类",index1:-1,imglogo1:"",imglogo2:""}},methods:{showAreaList:function(t){t.stopPropagation(),this.areaBtn=!this.areaBtn},selectUlArea:function(t,e){this.allArea=e.name,this.areaBtn=!this.areaBtn,this.index1=t},spliceFileName:function(t){var e=t.split("\\");return e[e.length-1]},returnList:function(){this.$router.push("/brandAudit")},creatBrandSubmit:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.a.checkData({index1:{cond:"$$>=0",pro:"请选择行业分类"},brandName:"品牌名不能为空",peopleName:"负责人姓名不能为空",phoneNum:{reg:/^1[\d]{10,10}$/,pro:"联系方式不符合规范,应为1开头的11位数字"},logoimg:"LOGO不能为空"},t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.a.addBrand({data:{industry:t.areaList[t.index1].id,shopName:t.brandName,appId:t.appId,appSecret:t.appSecret,logoImage:t.imglogo1,license:t.imglogo2,contactMan:t.peopleName,telephone:t.phoneNum}});case 4:a={name:t.brandName,logoImage:t.imglogo1,ischain:3,status:1,direct:[],franchise:[],industry:t.areaList[t.index1].id},l.shopList.brand.push(a),s.a.session("userShop",l),t.$store.commit("setWin",{title:"提示信息:",content:"提交成功"}),t.returnList();case 9:case"end":return e.stop()}},e,t)}))()},imgUpload1:function(t){var e=this;return o(regeneratorRuntime.mark(function a(){var i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.a.bigImgUpload({data:{type:4,shopId:1},formId:"imageUpForm1"});case 2:i=a.sent,e.logoimg=t.target.value,e.imglogo1=i;case 5:case"end":return a.stop()}},a,e)}))()},imgUpload2:function(t){var e=this;return o(regeneratorRuntime.mark(function a(){var i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.a.bigImgUpload({data:{type:4,shopId:1},formId:"imageUpForm2"});case 2:i=a.sent,e.trademarkimg=t.target.value,e.imglogo2=i;case 5:case"end":return a.stop()}},a,e)}))()}}},c=(a("842a"),a("7610")),u=Object(c.a)(p,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("h3",{staticClass:"titleName"},[this._v("创建品牌")]),this._v(" "),e("h3",{staticClass:"titleDashed"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aTitle"},[e("i"),this._v(" "),e("h3",[this._v("基本分类")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fl"},[e("i")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aTitle",staticStyle:{width:"100%",height:"20px","line-height":"20px","margin-left":"61px","margin-top":"30px"}},[e("i",{staticStyle:{width:"3px",height:"20px","background-color":"#EE931E",float:"left",display:"block"}}),this._v(" "),e("h3",[this._v("绑定微信")])])}],!1,null,"52b03b12",null);u.options.__file="src\\module\\brand\\brand_build.vue";e.default=u.exports}}]);