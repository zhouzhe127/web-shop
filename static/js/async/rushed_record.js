(window.webpackJsonp=window.webpackJsonp||[]).push([["rushed_record"],{"653b":function(t,e,n){},a3a2:function(t,e,n){"use strict";var s=n("653b");n.n(s).a},ff60:function(t,e,n){"use strict";n.r(e);var s=n("81a2"),r=n("f6ce");var a={data:function(){return{index:null,allTotal:0,page:1,count:0,num:10,pageNum:1,endTotal:1,showPageList:[10,20],goodsId:"",goodsname:"",uploadUrl:"",grabNum:"",receiveNum:"",recordorderlist:[],allFormList:[],formList:[],shopsList:[]}},methods:{returnStore:function(){this.$router.push("/admin/Assistanthistory/detail")},getShopStockList:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.getShopStockList({data:{goodsId:e.goodsId}});case 2:(n=t.sent)&&(e.allFormList=n,e.$nextTick(function(){e.setPage()}));case 4:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function s(r,a){try{var o=e[r](a),i=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(i).then(function(t){s("next",t)},function(t){s("throw",t)});t(i)}("next")})})()},changeFormat:function(t){return(t-=0)<10?"0"+t:t+""},transFormDates:function(t){10==(t+="").length?(t-=0,t*=1e3):t-=0;var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+this.changeFormat(e.getMinutes())},getshopName:function(t){var e="",n=!0,s=!1,r=void 0;try{for(var a,o=this.shopsList[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var i=a.value;i.id==t&&(e=i.name?i.name:i.shopName)}}catch(t){s=!0,r=t}finally{try{!n&&o.return&&o.return()}finally{if(s)throw r}}return e},setPage:function(){this.endTotal=Math.ceil(this.allFormList.length/this.num);var t=(this.page-1)*this.num,e=this.page*this.num,n=this.allFormList.slice(t,e);this.formList=n},handleSizeChange:function(t){this.num=t,this.setPage()},pageChange:function(t){this.page=t,this.setPage()},getShopList:function(){this.shopsList=[];var t=r.a.session("userShop").currentShop,e={id:t.id,ischain:t.ischain,shopName:t.name};this.shopsList=r.a.session("shopList"),this.shopsList.push(e)},showDetail:function(t){r.a.session("recordStock",t),this.$router.push("/admin/Assistanthistory/detail/record/recordDetail")},renderHeader:function(t,e){var n=e.column,s="",r=n.label,a=n.property;return"原始库存"==r&&"stock"==a&&(s="该商品的总库存=初始库存+增加库存"),"抢购数量"==r&&"grabNum"==a?s="用户抢购商品时，选择该门店后支付成功的数量":"已领取数量"==r&&"receiveNum"==a&&(s="在该门店已经领取的数量"),t("div",[t("span",{},n.label),t("el-popover",{attrs:{class:"item",effect:"dark",content:s,placement:"bottom",width:"300"}},[t("span",{class:"el-icon-question",slot:"reference",style:"font-size: 18px;margin-left:5px;"})])])}},components:{selectBtn:function(){return n.e("select_btn").then(n.bind(null,"3d41"))},pageElement:function(){return n.e("page_element").then(n.bind(null,"5921"))},comTable:function(){return n.e("table").then(n.bind(null,"4360"))}},mounted:function(){var t=this;this.$store.commit("setPageTools",{back:function(){t.returnStore()}}),this.getShopList(),this.uploadUrl=r.a.session("userShop").uploadUrl,this.goodsId=r.a.session("historyrecord").id,this.goodsname=r.a.session("historyrecord").name,this.getShopStockList()}},o=(n("a3a2"),n("d801")),i=Object(o.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"rushedRecord"}},[n("div",{staticClass:"rushedstatus"},[t._v("\n\t\t名称:"+t._s(t.goodsname)+"\n\t")]),t._v(" "),n("div",{staticClass:"list"},[n("div",{staticClass:"list_title"},[n("div",{staticClass:"list_title_l fl"},[n("span",[t._v("库存历史")]),t._v(" "),n("span"),t._v(" "),n("span",[t._v("共\n\t\t\t\t\t\t\t"),n("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.allFormList.length))]),t._v("条记录")])]),t._v(" "),n("div",{staticClass:"list_title_r fr"})]),t._v(" "),n("el-table",{staticStyle:{width:"1410px","margin-bottom":"20px"},attrs:{data:t.formList,border:"",stripe:!0,"header-cell-style":{"background-color":"#f5f7fa"}}},[n("el-table-column",{attrs:{fixed:"",prop:"shopId",label:"店铺名称",width:"310",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{color:"#27a8e0"}},[t._v(t._s(t.getshopName(e.row.shopId)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"stock",label:"原始库存",width:"275","render-header":t.renderHeader,"show-overflow-tooltip":"",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"grabNum",label:"抢购数量",width:"275","render-header":t.renderHeader,"show-overflow-tooltip":"",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"receiveNum",label:"已领取数量",width:"275","render-header":t.renderHeader,"show-overflow-tooltip":"",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"275",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{color:"#E1BB4A"},on:{click:function(n){t.showDetail(e.row)}}},[t._v("详细记录")])]}}])})],1)],1),t._v(" "),n("div",{staticClass:"pageWrap"},[n("el-pagination",{attrs:{background:"","current-page":t.page,"page-size":t.num,layout:"sizes, prev, pager, next","page-count":t.endTotal,"page-sizes":[10,20,30]},on:{"size-change":t.handleSizeChange,"current-change":t.pageChange}})],1)])},[],!1,null,"5e964bca",null);e.default=i.exports}}]);