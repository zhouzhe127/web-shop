(window.webpackJsonp=window.webpackJsonp||[]).push([["printer_config"],{"5b94":function(t,e,n){"use strict";n.r(e);var r=n("81a2");function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,s){try{var a=e[i](s),o=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(o).then(function(t){r("next",t)},function(t){r("throw",t)});t(o)}("next")})}}var s={data:function(){return{conList:[],detial:null,showWin:!1,printsetId:"",types:"",printIndex:0,printDetial:null,docType:[],areaIdsList:[],printerList:[],currentPage:1,num:10}},mounted:function(){var t=this;this.$store.commit("setPageTools",[{name:"新建打印机配置",className:["addStaff","export-btn"],fn:function(){t.openWin(null,"addPcon",null)}}]),this.getOrderNames(),this.getAreaList(),this.getPrinterList(),this.getPrintsetList()},components:{printConfigWin:function(){return Promise.all([n.e("good_list_win"),n.e("printer_config_win")]).then(n.bind(null,"0bbd"))}},computed:{totalNum:function(){return Math.ceil(this.conList.length/this.num)},lists:function(){var t=(this.currentPage-1)*this.num,e=this.currentPage*this.num;return this.conList.slice(t,e)}},methods:{pageClick:function(t){this.currentPage=t},numChange:function(t){this.num=t,this.currentPage=1},getResult:function(t,e){"ok"==t?("edit"==this.types?this.editPrintset(e):"addPcon"==this.types&&this.addPrintset(e),this.showWin=!1):this.showWin=!1},getOrderNames:function(){var t=this;return i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getOrderNames({data:{}});case 2:t.docType=e.sent;case 3:case"end":return e.stop()}},e,t)}))()},getAreaList:function(){var t=this;return i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getArea({data:{}});case 2:t.areaIdsList=e.sent;case 3:case"end":return e.stop()}},e,t)}))()},getPrinterList:function(){var t=this;return i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getPrinterList({data:{}});case 2:t.printerList=e.sent;case 3:case"end":return e.stop()}},e,t)}))()},getPrintsetList:function(){var t=this;return i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getPrintsetList({data:{}});case 2:t.conList=e.sent;case 3:case"end":return e.stop()}},e,t)}))()},addPrintset:function(t){var e=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.addPrintset({data:t});case 2:return e.printDetial=n.sent,n.next=5,r.a.getPrintsetList({data:{}});case 5:e.conList=n.sent;case 6:case"end":return n.stop()}},n,e)}))()},delPrin:function(t,e){var n=this;console.log(e),this.$store.commit("setWin",{title:"操作提示",winType:"confirm",content:'确定删除 "'+t.orderName+'" 打印机配置?',callback:function(r){"ok"==r&&(n.deletePrintset(t,e),n.showWin=!1)}})},deletePrintset:function(t,e){var n=this;return i(regeneratorRuntime.mark(function i(){var s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.a.deletePrintset({data:{printsetId:t.id}});case 2:(s=i.sent)&&s==1*t.id&&n.lists.splice(e,1);case 4:case"end":return i.stop()}},i,n)}))()},editPrintset:function(t){var e=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.editPrintset({data:t});case 2:e.getPrintsetList();case 3:case"end":return n.stop()}},n,e)}))()},openWin:function(t,e,n){var s=this;return i(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s.ass="printConfigWin",s.printsetId=t,s.types=e,s.printIndex=n,"edit"!=e){i.next=8;break}return i.next=7,r.a.getPrintsetById({data:{printsetId:s.printsetId}});case 7:s.printDetial=i.sent;case 8:s.showWin=!0;case 9:case"end":return i.stop()}},i,s)}))()}}},a=(n("f12e"),n("d801")),o=Object(a.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"fl user-content",staticStyle:{width:"100%"},attrs:{id:"printercon"}},[n("div",{staticStyle:{margin:"10px 0"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"","header-cell-style":{"background-color":"#f5f7fa"},data:t.lists,border:""}},[n("el-table-column",{attrs:{fixed:"",align:"center","min-width":"120",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{color:"#FE8D2C",cursor:"pointer"},on:{click:function(n){t.openWin(e.row.id,"edit",e.$index)}}},[t._v("编辑")]),t._v(" "),n("span",{staticStyle:{padding:"0 5px",color:"#D2D2D2"}},[t._v("|")]),t._v(" "),n("span",{staticStyle:{color:"#FD3F1F",cursor:"pointer"},on:{click:function(n){t.delPrin(e.row,e.$index)}}},[t._v("删除")])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"序号"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"150",align:"center",label:"单据数据",prop:"orderName"}}),t._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center","min-width":"150",label:"打印机名称",prop:"printerName"}})],1)],1),t._v(" "),n("div",{staticStyle:{margin:"10px 0"}},[n("el-pagination",{attrs:{background:"","current-page":Number(t.currentPage),"page-count":Number(t.totalNum),"page-size":Number(t.num),layout:"sizes, prev, pager, next","page-sizes":[10,30,50]},on:{"size-change":t.numChange,"current-change":t.pageClick}})],1),t._v(" "),t.showWin?n(t.ass,{tag:"component",attrs:{printDetial:t.printDetial,printerConId:t.printsetId,types:t.types,printIndex:t.printIndex,showWin:t.showWin,docType:t.docType,areaIdsList:t.areaIdsList,printerList:t.printerList},on:{printConfigWin:t.getResult}}):t._e()],1)},[],!1,null,"58d8a126",null);e.default=o.exports},"6c44":function(t,e,n){},f12e:function(t,e,n){"use strict";var r=n("6c44");n.n(r).a}}]);