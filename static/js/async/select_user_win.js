(window.webpackJsonp=window.webpackJsonp||[]).push([["select_user_win"],{"393e":function(t,e,s){"use strict";s.r(e);var n=s("81a2");var r={data:function(){return{fansList:[],showId:"",keyWords:"",page:1,num:10,count:"",userselects:[],total:"",seachValue:""}},props:{selectedList:Array},methods:{winEvent:function(t){if("ok"==t){if(""==this.userselects)return this.$store.commit("setWin",{content:"请选择用户",title:"操作提示",winType:"alert"}),!1;this.$emit("closeWin",this.userselects)}else this.$emit("closeWin")},getUserList:function(t){var e,s=this;return(e=regeneratorRuntime.mark(function e(){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.getAssistantfans({data:{count:s.num,startIndex:s.page,nickname:s.keyWords,groupId:-1}});case 2:r=e.sent,i=0;case 4:if(!(i<r.fansList.length)){e.next=23;break}if(0!=s.userselects.length){e.next=9;break}r.fansList[i].selected=!1,e.next=20;break;case 9:a=0;case 10:if(!(a<s.userselects.length)){e.next=20;break}if(s.userselects[a].id!=r.fansList[i].id){e.next=16;break}return r.fansList[i].selected=s.userselects[a].selected,e.abrupt("break",20);case 16:r.fansList[i].selected=!1;case 17:a++,e.next=10;break;case 20:i++,e.next=4;break;case 23:s.fansList=r.fansList,"1"==s.page&&(s.count=r.count),s.total=Math.ceil(s.count/10),t&&0==s.fansList.length&&s.$store.commit("setWin",{content:"无此用户",title:"操作提示",winType:"alert"});case 27:case"end":return e.stop()}},e,s)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,s){return function n(r,i){try{var a=t[r](i),o=a.value}catch(t){return void s(t)}if(!a.done)return Promise.resolve(o).then(function(t){n("next",t)},function(t){n("throw",t)});e(o)}("next")})})()},chooseUser:function(t){if(this.userselects.length>=10)return this.$store.commit("setWin",{title:"温馨提示",winType:"alter",content:"最多可选十个工作人员"}),!1;if(t.selected=!t.selected,t.selected){this.userselects.push(t);for(var e=0;e<this.fansList.length;e++)if(1!=this.fansList[e].selected)return}else for(var s=0;s<this.userselects.length;s++)this.userselects[s].id==t.id&&this.userselects.splice(s,1)},selectUser:function(){if(""==this.keyWords)return this.$store.commit("setWin",{content:"请选择用户",title:"操作提示",winType:"alert"}),!1;this.page=1,this.getUserList(1,!0)},resertUser:function(){this.keyWords="",this.getUserList(1)},pageChange:function(t){this.page=t.page,this.num=t.num,this.getUserList()}},mounted:function(){this.userselects=[];var t=!0,e=!1,s=void 0;try{for(var n,r=this.selectedList[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var i=n.value;this.userselects.push(i)}}catch(t){e=!0,s=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw s}}this.getUserList(1)},components:{pageElement:function(){return s.e("page_element").then(s.bind(null,"5921"))},win:function(){return s.e("win").then(s.bind(null,"f60a"))}}},i=(s("ee35"),s("d801")),a=Object(i.a)(r,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("win",{attrs:{width:589,height:349},on:{winEvent:t.winEvent}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("选择微信粉丝")]),t._v(" "),s("div",{staticClass:"user_content",attrs:{slot:"content"},slot:"content"},[s("header",{staticClass:"user_header"},[s("el-input",{staticClass:"input",attrs:{clearable:"",placeholder:"输入关键字"},model:{value:t.keyWords,callback:function(e){t.keyWords="string"==typeof e?e.trim():e},expression:"keyWords"}}),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.selectUser}},[t._v("筛选")]),t._v(" "),s("el-button",{attrs:{type:"info"},on:{click:t.resertUser}},[t._v("重置")])],1),t._v(" "),s("div",{staticClass:"user_list"},[s("ul",t._l(t.fansList,function(e,n){return s("li",{key:n,class:{user_color:e.selected},on:{click:function(s){t.chooseUser(e)}}},[s("i",{class:e.selected?"point":"unpoint"}),t._v(" "),s("img",{attrs:{src:e.imageUrl,alt:""}}),t._v(" "),s("span",[t._v(t._s(e.name))])])}))]),t._v(" "),s("footer",{staticClass:"user_footer"},[s("section",{staticClass:"turn-page"},[s("pageElement",{attrs:{background:"",layout:"prev, pager, next",page:Number(t.page),total:Number(t.total),numArr:[10,20,30,40,50],isNoJump:!0},on:{pageNum:t.pageChange}})],1)])])])},[],!1,null,"3c48b06d",null);e.default=a.exports},"6ec9":function(t,e,s){"use strict";s.r(e);var n=s("81a2");var r={data:function(){return{fansList:[],showId:"",keyWords:"",page:1,num:10,count:"",total:"",selects:""}},props:["showIds"],methods:{winEvent:function(t){if("ok"==t){if(""==this.selects)return this.$store.commit("setWin",{content:"请选择用户",title:"操作提示",winType:"alert"}),!1;this.$emit("closeWin",this.selects)}else this.$emit("closeWin")},getUserList:function(t){var e,s=this;return(e=regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.getAssistantfans({data:{count:s.num,startIndex:s.page,nickname:s.keyWords,groupId:-1}});case 2:r=e.sent,s.fansList=r.fansList,"1"==s.page&&(s.count=r.count),s.total=Math.ceil(s.count/s.num),t&&0==s.fansList.length&&s.$store.commit("setWin",{content:"无此用户",title:"操作提示",winType:"alert"});case 7:case"end":return e.stop()}},e,s)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,s){return function n(r,i){try{var a=t[r](i),o=a.value}catch(t){return void s(t)}if(!a.done)return Promise.resolve(o).then(function(t){n("next",t)},function(t){n("throw",t)});e(o)}("next")})})()},chooseUser:function(t){this.selects=t,this.showId=t},selectUser:function(){if(""==this.keyWords)return this.$store.commit("setWin",{content:"请选择用户",title:"操作提示",winType:"alert"}),!1;this.page=1,this.getUserList(!0)},resertUser:function(){this.keyWords="",this.getUserList()},pageChange:function(t){this.page=t.page,this.num=t.num,this.getUserList()}},mounted:function(){this.getUserList(),this.showIds&&(this.showId=this.showIds,this.selects=this.showIds)},components:{pageElement:function(){return s.e("page_element").then(s.bind(null,"5921"))},win:function(){return s.e("win").then(s.bind(null,"f60a"))}}},i=(s("b4ec"),s("d801")),a=Object(i.a)(r,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("win",{attrs:{width:589,height:349},on:{winEvent:t.winEvent}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v("选择用户")]),t._v(" "),s("div",{staticClass:"user_content",attrs:{slot:"content"},slot:"content"},[s("header",{staticClass:"user_header"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyWords,expression:"keyWords",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"输入关键字"},domProps:{value:t.keyWords},on:{input:function(e){e.target.composing||(t.keyWords=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),s("button",{staticClass:"select",on:{click:t.selectUser}},[t._v("筛选")]),t._v(" "),s("button",{staticClass:"resert",on:{click:t.resertUser}},[t._v("重置")])]),t._v(" "),s("div",{staticClass:"user_list"},[s("ul",t._l(t.fansList,function(e,n){return s("li",{key:n,class:e.id==t.showId?"user_color":"",on:{click:function(s){t.chooseUser(e.id)}}},[s("img",{attrs:{src:e.imageUrl,alt:""}}),t._v(" "),s("span",[t._v(t._s(e.name))])])}))]),t._v(" "),s("footer",{staticClass:"user_footer"},[s("section",{staticClass:"turn-page"},[s("pageElement",{attrs:{page:Number(t.page),total:Number(t.total),numArr:[10,20,30,40,50],isNoJump:!0},on:{pageNum:t.pageChange}})],1)])])])},[],!1,null,"309a8ae0",null);e.default=a.exports},b4ec:function(t,e,s){"use strict";var n=s("ce73");s.n(n).a},ce73:function(t,e,s){},d25e9:function(t,e,s){},ee35:function(t,e,s){"use strict";var n=s("d25e9");s.n(n).a}}]);