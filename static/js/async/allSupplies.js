(window.webpackJsonp=window.webpackJsonp||[]).push([["allSupplies"],{"4fd2":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"supplise"}},[s("div",{staticClass:"search-module"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.goodsName,expression:"goodsName"}],staticClass:"search-input",attrs:{type:"text",placeholder:"请输入物料名称"},domProps:{value:t.goodsName},on:{input:function(e){e.target.composing||(t.goodsName=e.target.value)}}}),t._v(" "),1==t.tabactive?s("div",{staticClass:"inline-box"},[s("select-btn",{ref:"select",attrs:{sorts:t.classfiy,name:"全部类型"}})],1):t._e(),t._v(" "),1==t.tabactive?s("div",{staticClass:"inline-box"},[t._v("\n\t\t\t\t仓库所属：\n\t\t\t\t"),s("select-btn",{ref:"selects",attrs:{sorts:t.wareVal,name:"全部"},on:{selOn:t.selectWare}})],1):t._e(),t._v(" "),s("div",{staticClass:"button-box"},[s("div",{staticClass:"blue filter",on:{click:t.search}},[t._v("筛选")]),t._v(" "),s("div",{staticClass:"gray reset",on:{click:t.reset}},[t._v("重置")])])]),t._v(" "),s("section",{staticClass:"listBox"},[s("div",{staticClass:"listTitle"},[s("p",[t._v("批次列表"),s("span",[t._v("·")]),t._v("共"),s("strong",[t._v(t._s(t.allCount))]),t._v("个条目")])]),t._v(" "),t._m(0),t._v(" "),t._l(t.allList,function(e,i){return s("div",{key:i,staticClass:"homeList batchTitle"},[s("ol",[s("li",{staticClass:"infoDetail"},[s("a",{staticStyle:{color:"#5ebee8"},attrs:{href:"javascript:void(0);"},on:{click:function(s){t.addDetailhouse(e)}}},[t._v("查看详情")])]),t._v(" "),1+i+10*(t.page-1)<10?s("li",[t._v(t._s("0"+(i+1)))]):s("li",[t._v(t._s(1+i+10*(t.page-1)))]),t._v(" "),s("li",[t._v(t._s(e.name))]),t._v(" "),s("li",t._l(e.cate,function(e,i){return s("span",{key:i},[s("strong",[t._v(t._s(e.name))]),t._v(" ")])})),t._v(" "),s("li",[t._v("物料")]),t._v(" "),s("li",[t._v(t._s(e.shopName))]),t._v(" "),e.goodsNum?s("li",[t._v(t._s(e.goodsNum.surplus)),t._l(e.unit,function(e,i){return s("span",{key:i},[1==e.isMin?s("strong",[t._v(t._s(e.name))]):t._e()])})],2):s("li",[t._v("--")])])])}),t._v(" "),0==t.allList.length?s("div",{attrs:{id:"emptyData"}},[t._v("目前没有可操作数据")]):t._e()],2),t._v(" "),s("div",{staticStyle:{float:"right","margin-top":"10px"}},[s("page-turn",{attrs:{isNoJump:!1,isNoPaging:!0,total:t.pageTotal,page:t.page},on:{pageNum:t.pageChange}})],1)])};i._withStripped=!0;var a=s("81a2"),n=s("bbb9"),r=s("f6ce");var o={data:function(){return{allList:"",page:1,pageTotal:0,num:10,goodsName:"",sleName:"",typeCate:["物料"],wareGoods:"全部",selWare:"",classfiy:["全部类型","物料"],shopIds:"",allCount:0}},props:["wareList","wareVal","tabactive"],methods:{init:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var s,i,r,o,l,c,u,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.invoic_getMaterialListByShopIds({data:{shopIds:e.shopIds,search:e.sleName,page:e.page}});case 2:s=t.sent,e.allList=s.list,e.pageTotal=s.total,e.allCount=s.count,i=!0,r=!1,o=void 0,t.prev=9,l=e.allList[Symbol.iterator]();case 11:if(i=(c=l.next()).done){t.next=20;break}return u=c.value,t.next=15,a.a.invoiv_getMaterialNum({data:{mids:u.id,shopId:u.shopId}});case 15:v=t.sent,u.goodsNum=v[0];case 17:i=!0,t.next=11;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(9),r=!0,o=t.t0;case 26:t.prev=26,t.prev=27,!i&&l.return&&l.return();case 29:if(t.prev=29,!r){t.next=32;break}throw o;case 32:return t.finish(29);case 33:return t.finish(26);case 34:e.allList=n.a.deepCopy(e.allList);case 35:case"end":return t.stop()}},t,e,[[9,22,26,34],[27,,29,33]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,s){return function i(a,n){try{var r=e[a](n),o=r.value}catch(t){return void s(t)}if(!r.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()},addDetailhouse:function(t){r.a.session("materialDetailShopId",t.shopId),this.$router.push({path:"warehouseMaterialDetail",query:{id:t.id}})},batchLose:function(t){this.$router.push({path:"inventoryManagement/materialsPutinStorage",query:{id:t.id,type:1}})},search:function(){this.shopIds=this.selWare,this.sleName=this.goodsName,this.init()},reset:function(){this.goodsName="",this.sleName="",this.shopIds=this.getShops(this.wareList),this.$refs.select.sortName="全部类型",this.$refs.selects.sortName="全部",this.$refs.select.selected=0,this.$refs.selects.selected=0,this.init()},pageChange:function(t){this.page=t.page,this.init()},selectWare:function(t){this.selWare=t>0?this.wareList[t-1].shopId:this.getShops(this.wareList)},alert:function(t,e){this.$store.commit("setWin",{title:e,content:t})},getShops:function(t){var e=[];for(var s in t)0!=t[s].shopId&&e.push(t[s].shopId);return e.join(",")}},mounted:function(){this.shopIds=this.getShops(this.wareList),this.selWare=this.shopIds,this.init()},components:{pageTurn:function(){return s.e("page_element").then(s.bind(null,"5921"))},selectStore:function(){return s.e("win").then(s.bind(null,"cb83"))},selectBtn:function(){return s.e("select_btn").then(s.bind(null,"3d41"))}}},l=(s("b314"),s("7610")),c=Object(l.a)(o,i,[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"homeTitle batchTitle"},[s("ul",{staticStyle:{width:"100%",float:"left"}},[s("li",[t._v("操作")]),t._v(" "),s("li",[t._v("序号")]),t._v(" "),s("li",[t._v("物料名称")]),t._v(" "),s("li",[t._v("分类")]),t._v(" "),s("li",[t._v("类型")]),t._v(" "),s("li",[t._v("仓库所属")]),t._v(" "),s("li",[t._v("库存数量/重量")])])])}],!1,null,"2d02eebe",null);c.options.__file="src\\module\\invoicing_system\\warehouse_manage\\allSupplies.vue";e.default=c.exports},"8e4b":function(t,e,s){},b314:function(t,e,s){"use strict";var i=s("8e4b");s.n(i).a}}]);