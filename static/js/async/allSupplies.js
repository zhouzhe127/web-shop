(window.webpackJsonp=window.webpackJsonp||[]).push([["allSupplies"],{"22b9":function(e,t,a){},"4fd2":function(e,t,a){"use strict";a.r(t);var s=a("81a2"),i=a("bbb9"),l=a("f6ce");function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o={data:function(){var e;return n(e={allList:"",page:1,pageTotal:0,num:10,goodsName:"",sleName:"",typeCate:["物料"],wareGoods:"全部",selWare:"",classfiy:["全部类型","物料"],shopIds:"",allCount:0},"typeCate",[{value:-1,label:"全部类型"},{value:0,label:"成品"},{value:1,label:"半成品"},{value:2,label:"普通物料"}]),n(e,"typeValue",-1),e},props:["wareList","tabactive"],methods:{init:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var a,l,n,o,r,u,c,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.invoic_getMaterialListByShopIds({data:{shopIds:t.shopIds,search:t.sleName,page:t.page,type:t.typeValue}});case 2:a=e.sent,t.allList=a.list,t.pageTotal=a.total,t.allCount=a.count,l=!0,n=!1,o=void 0,e.prev=9,r=t.allList[Symbol.iterator]();case 11:if(l=(u=r.next()).done){e.next=20;break}return c=u.value,e.next=15,s.a.invoiv_getMaterialNum({data:{mids:c.id,shopId:c.shopId}});case 15:v=e.sent,c.goodsNum=v[0];case 17:l=!0,e.next=11;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(9),n=!0,o=e.t0;case 26:e.prev=26,e.prev=27,!l&&r.return&&r.return();case 29:if(e.prev=29,!n){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(26);case 34:t.allList=i.a.deepCopy(t.allList);case 35:case"end":return e.stop()}},e,t,[[9,22,26,34],[27,,29,33]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function s(i,l){try{var n=t[i](l),o=n.value}catch(e){return void a(e)}if(!n.done)return Promise.resolve(o).then(function(e){s("next",e)},function(e){s("throw",e)});e(o)}("next")})})()},addDetailhouse:function(e){l.a.session("materialDetailShopId",e.shopId),this.$router.push({path:"warehouseMaterialDetail",query:{id:e.id}})},batchLose:function(e){this.$router.push({path:"inventoryManagement/materialsPutinStorage",query:{id:e.id,type:1}})},selectWare:function(e){this.shopIds=-1==e?this.wareList[0].all:e,console.log(this.shopIds)},search:function(){this.sleName=this.goodsName,this.init()},reset:function(){this.goodsName="",this.sleName="",this.selWare="",this.typeValue=-1,this.shopIds=this.wareList[0].all,this.init()},pageChange:function(e){this.page=e.page,this.init()},alert:function(e,t){this.$store.commit("setWin",{title:t,content:e})}},mounted:function(){console.log(this.wareList),this.shopIds=this.wareList[0].all,this.init()},components:{pageTurn:function(){return a.e("page_element").then(a.bind(null,"5921"))},selectStore:function(){return a.e("win").then(a.bind(null,"cb83"))},selectBtn:function(){return a.e("select_btn").then(a.bind(null,"3d41"))}}},r=(a("aba2"),a("d801")),u=Object(r.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"supplise"}},[a("div",{staticClass:"search-module"},[a("div",{staticClass:"sleType"},[a("el-input",{attrs:{placeholder:"请输入物料名称"},model:{value:e.goodsName,callback:function(t){e.goodsName=t},expression:"goodsName"}})],1),e._v(" "),a("div",{staticClass:"sleType"},[a("el-select",{attrs:{placeholder:"全部类型"},model:{value:e.typeValue,callback:function(t){e.typeValue=t},expression:"typeValue"}},e._l(e.typeCate,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),1==e.tabactive?a("div",{staticClass:"inline-box"},[e._v("\n\t\t\t\t仓库所属：\n\t\t\t\t"),e._v(" "),a("div",{staticClass:"sleType"},[a("el-select",{attrs:{placeholder:"全部"},on:{change:e.selectWare},model:{value:e.selWare,callback:function(t){e.selWare=t},expression:"selWare"}},e._l(e.wareList,function(e){return a("el-option",{key:e.shopId,attrs:{label:e.shopName,value:e.shopId}})}))],1)]):e._e(),e._v(" "),a("div",{staticClass:"button-box"},[a("div",{staticClass:"blue filter",on:{click:e.search}},[e._v("筛选")]),e._v(" "),a("div",{staticClass:"gray reset",on:{click:e.reset}},[e._v("重置")])])]),e._v(" "),a("section",{staticClass:"listBox"},[a("div",{staticClass:"listTitle"},[a("p",[e._v("批次列表"),a("span",[e._v("·")]),e._v("共"),a("strong",[e._v(e._s(e.allCount))]),e._v("个条目")])]),e._v(" "),e._m(0),e._v(" "),e._l(e.allList,function(t,s){return a("div",{key:s,staticClass:"homeList batchTitle"},[a("ol",[a("li",{staticClass:"infoDetail"},[a("a",{staticStyle:{color:"#5ebee8"},attrs:{href:"javascript:void(0);"},on:{click:function(a){e.addDetailhouse(t)}}},[e._v("查看详情")])]),e._v(" "),1+s+10*(e.page-1)<10?a("li",[e._v(e._s("0"+(s+1)))]):a("li",[e._v(e._s(1+s+10*(e.page-1)))]),e._v(" "),a("li",[e._v(e._s(t.name))]),e._v(" "),a("li",e._l(t.cate,function(t,s){return a("span",{key:s},[a("strong",[e._v(e._s(t.name))]),e._v(" ")])})),e._v(" "),a("li",[e._v(e._s(e.typeCate[Number(t.type)+1].label))]),e._v(" "),a("li",[e._v(e._s(t.shopName))]),e._v(" "),t.goodsNum?a("li",[e._v(e._s(t.goodsNum.surplus)),e._l(t.unit,function(t,s){return a("span",{key:s},[1==t.isMin?a("strong",[e._v(e._s(t.name))]):e._e()])})],2):a("li",[e._v("--")])])])}),e._v(" "),0==e.allList.length?a("div",{attrs:{id:"emptyData"}},[e._v("目前没有可操作数据")]):e._e()],2),e._v(" "),a("div",{staticStyle:{float:"right","margin-top":"10px"}},[a("page-turn",{attrs:{isNoJump:!1,isNoPaging:!0,total:e.pageTotal,page:e.page},on:{pageNum:e.pageChange}})],1)])},[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homeTitle batchTitle"},[a("ul",{staticStyle:{width:"100%",float:"left"}},[a("li",[e._v("操作")]),e._v(" "),a("li",[e._v("序号")]),e._v(" "),a("li",[e._v("物料名称")]),e._v(" "),a("li",[e._v("分类")]),e._v(" "),a("li",[e._v("类型")]),e._v(" "),a("li",[e._v("仓库所属")]),e._v(" "),a("li",[e._v("库存数量/重量")])])])}],!1,null,"2f4af2e2",null);t.default=u.exports},aba2:function(e,t,a){"use strict";var s=a("22b9");a.n(s).a}}]);