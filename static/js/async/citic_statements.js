(window.webpackJsonp=window.webpackJsonp||[]).push([["citic_statements"],{"1ba8":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"citic-statements"}},[a("section",{staticStyle:{width:"100%",height:"60px"}},[a("section",{staticClass:"orMaRetBox"},[a("calendar",{staticStyle:{float:"left"},attrs:{time:t.startTime,format:"yyyy年MM月dd日"},on:{emit:t.startTimeChange}}),t._v(" "),a("a",{on:{click:t.searchBtn}},[a("span",{staticClass:"order-order-search"})])],1),t._v(" "),a("section",[a("a",{staticClass:"yellow",staticStyle:{height:"45px","line-height":"45px",float:"right","margin-right":"30px",width:"100px"},on:{click:t.exportBtn}},[t._v("导出")])])]),t._v(" "),a("section",{staticStyle:{width:"100%",height:"40px"}},[a("ul",{staticClass:"route"},t._l(t.payList,function(e,n){return a("li",{key:n,staticClass:"routeLi",class:{onc:t.payChannel==t.payList[n].id},on:{click:function(a){t.payBtn(n,e)}}},[t._v(t._s(e.name))])})),t._v(" "),a("comTable",{attrs:{showHand:!1,titleData:t.titleListTop,introData:t.allDetial}}),t._v(" "),a("comTable",{attrs:{showHand:!1,listHeight:50,titleData:t.titleListContent,introData:t.zxOrderList},scopedSlots:t._u([{key:"con-6",fn:function(e){return a("div",{on:{click:function(a){t.openDetial(e.data)}}},[a("a",{staticClass:"yellow",staticStyle:{width:"100%"},attrs:{href:"javascript:void(0);"}},[t._v("查看详情")])])}}])}),t._v(" "),a("div",{},[a("pageElement",{attrs:{page:t.page,total:t.total,num:t.num,isNoJump:!0},on:{pageNum:t.pageClick}})],1)],1),t._v(" "),t.show?a("citicDetail",{attrs:{detial:t.detial},on:{winEvent:t.winEvent}}):t._e()],1)};n._withStripped=!0;var i=a("bbb9"),l=a("81a2");var s={data:function(){return{startTime:(new Date).getTime()-864e5,payList:[{id:"-1",name:"全部渠道"},{id:"1",name:"微信"},{id:"2",name:"公众平台"},{id:"3",name:"支付宝"}],allDetial:[],zxOrderList:[],num:10,page:1,total:1,count:1e3,payChannel:"-1",detial:{},show:!1,titleListTop:[{titleName:"全部收入",dataName:"allSum"},{titleName:"全部手续费",dataName:"allHandingFee"},{titleName:"支付宝收入",dataName:"aliPayAll"},{titleName:"支付宝手续费",dataName:"aliPayHandingFee"},{titleName:"微信收入",dataName:"weChatAll"},{titleName:"微信手续费",dataName:"weChatHandingFee"},{titleName:"公众账号收入",dataName:"weChatPubAll"},{titleName:"公众账号手续费",dataName:"weChatPubHandingFee"}],titleListContent:[{titleName:"商户订单号",dataName:"shopOrderId"},{titleName:"交易时间",dataName:"dealTime"},{titleName:"交易渠道",dataName:"payChannel"},{titleName:"交易金额",dataName:"dealSum"},{titleName:"手续费",dataName:"handingFee"},{titleName:"费率",dataName:"handingPercent"},{titleName:"操作"}]}},methods:{pageClick:function(t){this.page=t.page,this.num=t.num,this.inte()},winEvent:function(){this.show=!1},startTimeChange:function(t){this.startTime=t},inte:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var a,n,s,r,o,c,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.a.format(e.startTime,"yyyy"),n=i.a.format(e.startTime,"MM")-1,s=i.a.format(e.startTime,"dd"),r=new Date(a,n,s),t.next=6,l.a.obtainPay({data:{startTime:parseInt(r/1e3),page:e.page,num:e.num,payChannel:e.payChannel}});case 6:for(o=t.sent,c=o.list,m=0;m<c.length;m++)c[m].dealTime=i.a.format(c[m].dealTime,"yyyy.MM.dd/ hh:mm"),""!=c[m].payChannel&&null!==c[m].payChannel&&(1==c[m].payChannel&&(c[m].payChannel="微信支付"),2==c[m].payChannel&&(c[m].payChannel="微信公众平台支付"),3==c[m].payChannel&&(c[m].payChannel="支付宝支付"));e.zxOrderList=[],e.allDetial=[],e.allDetial.push(o.title),e.total=o.page,e.num=o.num,e.zxOrderList=i.a.deepCopy(c);case 15:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function n(i,l){try{var s=e[i](l),r=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(r).then(function(t){n("next",t)},function(t){n("throw",t)});t(r)}("next")})})()},searchBtn:function(){this.page=0,this.payChannel="-1",this.inte()},exportBtn:function(){if(this.zxOrderList.length<=0)return this.$store.commit("setWin",{content:"没有对账单数据"}),!1;l.a.exportExcel({data:{startTime:parseInt(this.startTime/1e3),format:"csv"}})},openDetial:function(t){this.detial=t,this.show=!0},getPage:function(){this.inte()},payBtn:function(t){this.page=0,this.payChannel=this.payList[t].id,this.inte()}},components:{calendar:function(){return a.e("calendar_type").then(a.bind(null,"f2dd"))},citicDetail:function(){return a.e("citic_statements_detail").then(a.bind(null,"ab69"))},comTable:function(){return a.e("table").then(a.bind(null,"4360"))},pageElement:function(){return a.e("page_element").then(a.bind(null,"5921"))}},mounted:function(){this.inte()}},r=(a("d4a7"),a("7610")),o=Object(r.a)(s,n,[],!1,null,"d9c38d6c",null);o.options.__file="src\\module\\statistics\\citic_statements.vue";e.default=o.exports},ae03:function(t,e,a){},d4a7:function(t,e,a){"use strict";var n=a("ae03");a.n(n).a}}]);