(window.webpackJsonp=window.webpackJsonp||[]).push([["goods_count_detail"],{"1a76":function(t,e,a){},9905:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"goods-count"}},[a("div",{staticClass:"page-head"},[t._v("盘库记录详情")]),t._v(" "),a("div",{staticClass:"info"},[a("li",[t._v("记录编号 : "+t._s(t.info.code))]),t._v(" "),a("li",[t._v("操作时间 : "+t._s(t.info.createTimeZh))]),t._v(" "),a("li",[t._v("操作人 : "+t._s(t.info.createUName))])]),t._v(" "),a("div",[a("table-com",{attrs:{showHand:!1,titleHeight:50,showTitle:1,titleData:t.tableTitle,fixed:2,widthType:!0,introData:t.tableData,listWidth:1200,bannerStyle:{color:"#333",fontSize:"16px"},mainBox:{color:"#666"},listHeight:70},scopedSlots:t._u([{key:"con-6",fn:function(e){var n=e.data;e.index;return a("div",{},[a("span",{staticClass:"arrow",class:{"arrow-up":n.arrow,"arrow-down":!n.arrow}}),t._v("\n\t\t\t"+t._s(n.change)+"\n\t\t")])}}])})],1),t._v(" "),a("div",{staticClass:"bottom"},[a("page",{attrs:{page:t.pageObj.currentPage,total:t.pageObj.totalNum,num:t.pageObj.num,isNoPaging:!0},on:{pageNum:t.funGetPageNum}})],1)])};n._withStripped=!0;var r=a("81a2"),i=a("05dd"),o=a("bbb9");function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function n(r,i){try{var o=e[r](i),u=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(u).then(function(t){n("next",t)},function(t){n("throw",t)});t(u)}("next")})}}var c={data:function(){return{tableTitle:[{titleName:"序号",dataName:"itemIndex"},{titleName:"商品名",dataName:"itemName"},{titleName:"条码",dataName:"barCode"},{titleName:"仓库所属",dataName:"storeName"},{titleName:"盘库前",dataName:"before"},{titleName:"盘库后",dataName:"after"},{titleName:"变化量",dataName:"change"}],tableData:[],pageObj:{num:10,currentPage:1,totalNum:1,listNum:0},info:{},logId:""}},props:{tab:{type:[String,Number],default:1}},activated:function(){this.initBtn()},mounted:function(){var t=this;return u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.isPrimitive(t.$route.query.id)&&(t.logId=t.$route.query.id),t.initBtn(),t.getData();case 3:case"end":return e.stop()}},e,t)}))()},methods:{getData:function(){var t=this;return u(regeneratorRuntime.mark(function e(){var a,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},n={},r="",i={},a={logId:t.logId,page:t.pageObj.currentPage,size:t.pageObj.num},e.next=4,t.getHttp("invoicingGetCheckInventoryLogDetail",a);case 4:n=e.sent,Array.isArray(n.list)&&(t.tableData=n.list,t.tableData=t.addItemIndex(t.tableData)),n.unit&&n.unit.length>0&&(r=t.tableData[0]?t.tableData[0].unitId:"",i=t.getMaterilaUnitInfo(n.unit,r)),t.initData(i),"object"==o.a.type(n.logDetail)&&(t.info=n.logDetail,t.info.createTimeZh=o.a.getTime({time:t.info.createTime,format:"yyyy-MM-dd hh:mm"}).format),t.pageObj.totalNum=n.total||0,t.pageObj.listNum=n.count||0;case 11:case"end":return e.stop()}},e,t)}))()},initData:function(t){switch(this.tab+""){case"1":this.tableData=this.tableData.map(function(t){return t.arrow=Number(t.after)>Number(t.before),t.before=""+t.before+t.unitName,t.after=""+t.after+t.unitName,t.storeName=t.wName+"/"+t.aName,t.change=""+t.change+t.unitName,t});break;case"2":this.tableData=this.tableData.map(function(e){return e.arrow=Number(e.after)>Number(e.before),e.before=i.a.comUnit(Number(e.before),t.countUnitVal,t.countUnitName,t.minName),e.after=i.a.comUnit(Number(e.after),t.countUnitVal,t.countUnitName,t.minName),e.change=i.a.comUnit(Number(e.change),t.countUnitVal,t.countUnitName,t.minName),e.storeName=e.wName+"/"+e.aName,e})}},getMaterilaUnitInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],a={},n=!0,r=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=o.value;1==c.isMin&&(a.minName=c.name,a.minVal=c.value),1==c.isDefault&&(a.defName=c.name,a.defVal=c.value),c.muId==e&&(c.countUnitName=c.name,c.countUnitVal=c.value)}}catch(t){r=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}return a},addItemIndex:function(t){for(var e=0;e<t.length;e++){var a=(this.pageObj.currentPage-1)*this.pageObj.num+1+e;t[e].itemIndex=a>=10?a:"0"+a}return t},funGetPageNum:function(t){this.pageObj.num=t.num,this.pageObj.currentPage=t.page,this.getData()},getHttp:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a[t]({data:a});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}},n,e)}))()},isPrimitive:function(t){return"string"==typeof t||"number"==typeof t},initBtn:function(){var t=this;this.$store.commit("setPageTools",[{name:"返回",style:{height:"40px",border:"1px solid #ccc","background-color":"#fff",color:"#999"},fn:function(){t.$router.go(-1)}}])}},components:{tableCom:function(){return a.e("table").then(a.bind(null,"4360"))},page:function(){return a.e("page_element").then(a.bind(null,"5921"))}}},m=(a("c021"),a("7610")),s=Object(m.a)(c,n,[],!1,null,"3908ca6c",null);s.options.__file="src\\module\\invoicing_system\\invoicing\\goods_count_detail.vue";e.default=s.exports},c021:function(t,e,a){"use strict";var n=a("1a76");a.n(n).a}}]);