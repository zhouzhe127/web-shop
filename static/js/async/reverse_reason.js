(window.webpackJsonp=window.webpackJsonp||[]).push([["reverse_reason"],{2448:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"return_be"},[n("section",{staticClass:"return_one"},[n("div",{staticClass:"btn-concent",on:{click:t.addReason}},[n("button",{staticClass:"increase"},[t._v("添加")])])]),t._v(" "),n("section",{staticClass:"return_two"},[n("section",{staticClass:"totle"},[t._m(0),t._v(" "),0==t.refundFood.length?n("ul",{staticClass:"ul-null"},[n("li",[t._v("暂无反结账原因")])]):t._l(t.refundFood,function(e,s){return n("ul",{key:s,staticClass:"oUl oulSecond"},[n("li",{staticStyle:{cursor:"pointer"}},[1==e.isDefined?n("span",[n("span",{staticStyle:{color:"#FE8D2C"},on:{click:function(n){t.editInfo(s,e)}}},[t._v("编辑")]),t._v(" "),n("span",{staticStyle:{padding:"0 20px",color:"#D2D2D2"}},[t._v("|")]),t._v(" "),n("span",{staticStyle:{color:"#FD3F1F"},on:{click:function(n){t.deleteRefundBtn(s,e)}}},[t._v("删除")])]):n("span",[t._v("不可操作")])]),t._v(" "),n("li",[t._v(t._s(e.sort))]),t._v(" "),n("li",[t._v(t._s(e.reasonName))])])}),t._v(" "),t._m(1)],2)]),t._v(" "),t.isShow?n("refund-win",{attrs:{isAdd:t.isAdd,refundReasonId:t.refundReasonId,userData:t.userData},on:{throwWinResult:t.doThrowWinResult}}):t._e()],1)};s._withStripped=!0;var i=n("81a2"),o=n("f6ce"),r=n("bbb9");var a={data:function(){return{isAdd:!0,isShow:!1,userData:Object,refundFood:Array,refundReasonId:"",refundReasonIndex:""}},mounted:function(){this.userData=o.a.session("userShop"),this.init()},methods:{init:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.getReasonList({data:{shopId:e.userData.currentShop.id,type:1}});case 2:(n=t.sent)&&(e.refundFood=n,e.sortList());case 4:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function s(i,o){try{var r=e[i](o),a=r.value}catch(t){return void n(t)}if(!r.done)return Promise.resolve(a).then(function(t){s("next",t)},function(t){s("throw",t)});t(a)}("next")})})()},addReason:function(){if(this.refundFood.length>=10)return this.$store.commit("setWin",{title:"提示信息",content:"反结账原因添加已满"}),!1;this.isAdd=!0,this.isShow=!0},editInfo:function(t,e){this.refundReasonId=e.id,this.refundReasonIndex=t,this.isAdd=!1,this.isShow=!0},deleteRefundBtn:function(t,e){var n=this;this.$store.commit("setWin",{title:"提示信息",winType:"confirm",content:"确认要删除吗？",callback:function(s){"ok"==s&&i.a.deleteReason({data:{rid:e.id,shopId:n.userData.currentShop.id,type:1}}).then(function(){n.refundFood.splice(t,1)})}})},doThrowWinResult:function(t,e){"ok"==t&&(this.isAdd?this.refundFood.push(e):this.refundFood.splice(this.refundReasonIndex,1,e),this.sortList()),this.isShow=!1},sortList:function(){this.refundFood=r.a.sortByAll(this.refundFood,["sort","id"],!0)}},components:{refundWin:function(){return n.e("reverse_reason_win").then(n.bind(null,"b187"))}}},u=(n("679e"),n("7610")),c=Object(u.a)(a,s,[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"oUl oulFirst"},[e("li",[this._v("操作")]),this._v(" "),e("li",[this._v("排序")]),this._v(" "),e("li",[this._v("反结账原因")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"oUl oulFirst"},[e("li",[this._v("操作")]),this._v(" "),e("li",[this._v("排序")]),this._v(" "),e("li",[this._v("反结账原因")])])}],!1,null,"6979736c",null);c.options.__file="src\\module\\shop_config\\reverse_reason.vue";e.default=c.exports},"679e":function(t,e,n){"use strict";var s=n("e92a");n.n(s).a},e92a:function(t,e,n){}}]);