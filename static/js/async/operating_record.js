(window.webpackJsonp=window.webpackJsonp||[]).push([["operating_record"],{"1ecd":function(t,e,n){"use strict";var a=n("df15");n.n(a).a},bb1c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{margin:"20px 0 30px 0"}},[n("div",{staticClass:"serBox"},[n("h1",[t._v("操作时间：")]),t._v(" "),n("div",{staticClass:"timer"},[n("calendar",{attrs:{only:!1,time:t.startTime,format:"yyyy年MM月dd日"},on:{emit:t.startTimeChange}})],1),t._v(" "),n("div",{staticClass:"timer"},[n("calendar",{attrs:{only:!1,time:t.endTime,format:"yyyy年MM月dd日"},on:{emit:t.endTimeChange}})],1),t._v(" "),n("div",{staticStyle:{display:"inline-block","vertical-align":"top",margin:"0 10px"}},[n("select-btn",{ref:"select",attrs:{sorts:t.typeList,name:t.allGoods},on:{selOn:t.selectList}})],1),t._v(" "),n("div",{staticClass:"setSpeen"},[n("a",{staticClass:"gray",staticStyle:{width:"100px",height:"40px","line-height":"40px","margin-right":"8px"},attrs:{href:"javascript:void(0);"},on:{click:t.searchReset}},[t._v("重置")]),t._v(" "),n("a",{staticClass:"blue",staticStyle:{width:"100px",height:"40px","line-height":"40px"},attrs:{href:"javascript:void(0);"},on:{click:t.searchList}},[t._v("筛选")])])]),t._v(" "),n("section",{staticClass:"listBox",staticStyle:{width:"100%",height:"auto","margin-top":"20px"}},[n("com-table",{attrs:{listName:"操作记录列表",titleData:t.titleList,allTotal:t.numTotle,introData:t.dataList},scopedSlots:t._u([{key:"con-0",fn:function(e){return n("span",{},[t._v(t._s(t.typeList[e.data.logType]))])}},{key:"con-5",fn:function(e){return n("span",{},[t._v(t._s(t.changTime(e.data.createTime)))])}}])})],1),t._v(" "),n("page-turn",{ref:"pageTurn",attrs:{total:t.pageTotal,isNoJump:!1,isNoPaging:!0,page:t.page},on:{pageNum:t.changePage}})],1)};a._withStripped=!0;var i=n("81a2"),r=n("bbb9");function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(i,r){try{var s=e[i](r),o=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(o).then(function(t){a("next",t)},function(t){a("throw",t)});t(o)}("next")})}}var o={data:function(){return{startTime:(new Date).setHours(0,0,0,0),endTime:r.a.getTime({time:new Date}).end,typeList:["全部操作类型"],allGoods:"全部操作类型",type:0,dataList:"",createTime:"",numTotle:0,pageTotal:1,page:1,num:10,titleList:[{titleName:"操作类型"},{titleName:"库存变化量",dataName:"invenChange"},{titleName:"货架变化量",dataName:"shelfChange"},{titleName:"库存余量",dataName:"invenTotal"},{titleName:"货架余量",dataName:"shelfTotal"},{titleName:"操作时间"},{titleName:"操作人",dataName:"createUname"}]}},props:["gid"],methods:{init:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.page=1,e.next=3,i.a.getInventoryLogByGid({data:{gid:t.gid,begin:t.startTime/1e3,end:t.endTime/1e3,type:t.type,page:t.page}});case 3:n=e.sent,t.dataList=n.list,t.pageTotal=n.total,t.numTotle=n.count;case 7:case"end":return e.stop()}},e,t)}))()},getType:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.invoicing_getInventoryLogType();case 2:for(a in n=e.sent)t.typeList.push(n[a].typeName);case 4:case"end":return e.stop()}},e,t)}))()},changTime:function(t){return r.a.format(1e3*parseInt(t),"yyyy-MM-dd hh:mm")},startTimeChange:function(t){this.startTime=r.a.getTime({time:t}).start},endTimeChange:function(t){this.endTime=r.a.getTime({time:t}).end},selectList:function(t){this.type=t},searchReset:function(){this.$refs.select.sortName="全部操作类型",this.$refs.select.selected=0,this.type=0,this.startTime=(new Date).setHours(0,0,0,0),this.endTime=r.a.getTime({time:new Date}).end,this.init()},searchList:function(){this.init()},changePage:function(t){this.page=t.page,this.init()}},mounted:function(){this.getType(),this.init()},components:{calendar:function(){return n.e("calendar_type").then(n.bind(null,"f2dd"))},pageTurn:function(){return n.e("page_element").then(n.bind(null,"5921"))},selectBtn:function(){return n.e("select_btn").then(n.bind(null,"3d41"))},comTable:function(){return n.e("table").then(n.bind(null,"4360"))}}},c=(n("1ecd"),n("7610")),l=Object(c.a)(o,a,[],!1,null,"66f0cf8f",null);l.options.__file="src\\module\\invoicing_system\\invoicing\\operating_record.vue";e.default=l.exports},df15:function(t,e,n){}}]);