(window.webpackJsonp=window.webpackJsonp||[]).push([["warehouse_goods_detail"],{"00b9":function(t,e,n){"use strict";var a=n("32c7");n.n(a).a},"32c7":function(t,e,n){},a33b:function(t,e,n){"use strict";n.r(e);var a=n("f6ce"),s=n("bbb9"),o=n("81a2");function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(s,o){try{var i=e[s](o),r=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(r).then(function(t){a("next",t)},function(t){a("throw",t)});t(r)}("next")})}}var r={data:function(){return{page:1,showNum:10,pageTotal:1,typeList:["全部类型","普通商品","称重商品"],allGoods:"全部类型",allList:[],selList:[],gid:"",goodsDetail:"",goodsTitle:"",dateType:["月","日","年"],count:0}},components:{pageBtn:function(){return n.e("page_element").then(n.bind(null,"5921"))},tableCom:function(){return n.e("table").then(n.bind(null,"4360"))}},mounted:function(){a.a.session("goodsneed")&&(this.goodsTitle=a.a.session("goodsneed")),this.$store.commit("setPageTools",[{name:"返回",className:"info",type:4,fn:function(){a.a.session("warehouseDetailDestroy",!0),window.history.go(-1)}}]),this.init(),this.getDetail()},methods:{init:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={gid:t.goodsTitle.id,wid:t.goodsTitle.wid||""},t.goodsTitle.shopId&&Object.assign(n,{shopId:t.goodsTitle.shopId}),e.next=4,o.a.getGoodsBatch({data:n});case 4:a=e.sent,s=a.list,t.allList=s,t.count=Number(t.allList.length),t.pageTotal=Math.ceil(s.length/t.showNum),t.selList=t.allList.slice(10*(t.page-1),10*t.page);case 10:case"end":return e.stop()}},e,t)}))()},getDetail:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.getDetails({data:{gid:t.goodsTitle.id,shopIds:t.goodsTitle.shopId||"",wid:t.goodsTitle.wid||""}});case 2:n=e.sent,t.goodsDetail=n;case 4:case"end":return e.stop()}},e,t)}))()},indexMethod:function(t){return 10*(this.page-1)+t+1},pageChange:function(t){this.page=t,this.selList=this.allList.slice(10*(this.page-1),10*this.page)},getTime:function(t){return s.a.format(1e3*parseInt(t),"yyyy年MM月dd日")},getString:function(t,e){if("string"==typeof t||!t)return t;if(e){var n=[],a=!0,s=!1,o=void 0;try{for(var i,r=t[Symbol.iterator]();!(a=(i=r.next()).done);a=!0){var l=i.value;n.push(l[e])}}catch(t){s=!0,o=t}finally{try{!a&&r.return&&r.return()}finally{if(s)throw o}}return n.join(",")}return e?void 0:t.join(",")}},destroyed:function(){sessionStorage.removeItem("goodsneed")}},l=(n("00b9"),n("d801")),u=Object(l.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"warehouse-lists"},[n("div",{staticClass:"heander"},[n("div",{staticClass:"title"},[n("i"),t._v(" "),n("h3",[t._v("库存详情")]),t._v(" "),t._l(70,function(t){return n("div",{key:t,staticClass:"dian"})})],2),t._v(" "),n("div",{staticClass:"innerBox"},[n("ul",[n("li",[n("span",[t._v("商品名：")]),n("span",[t._v(t._s(t.goodsDetail.gName))])]),t._v(" "),n("li",[n("span",[t._v("条形码：")]),n("span",[t._v(t._s(t.goodsDetail.barCode))])]),t._v(" "),n("li",[n("span",[t._v("品牌：")]),n("span",[t._v(t._s(t.getString(t.goodsDetail.brandName)||"无"))])]),t._v(" "),n("li",[n("span",[t._v("分类：")]),n("span",[t._v(t._s(t.getString(t.goodsDetail.cate,"name")))])])]),t._v(" "),n("ul",[n("li",[n("span",[t._v("单位：")]),n("span",[t._v(t._s(t.goodsDetail.unit))])]),t._v(" "),n("li",[n("span",[t._v("规格：")]),n("span",[t._v(t._s(t.goodsDetail.specifications))])]),t._v(" "),n("li",[n("span",[t._v("批次数：")]),n("span",[t._v(t._s(t.goodsDetail.batchNum))])]),t._v(" "),n("li",[n("span",[t._v("保质期：")]),n("span",[t._v(t._s(t.goodsDetail.validity)+t._s(t.dateType[t.goodsDetail.validityType]))])])]),t._v(" "),n("ul",[n("li",[n("span",[t._v("库存数量/重量：")]),t._v(" "),n("span",[t._v(t._s(t.goodsDetail.surplus)+t._s(t.goodsDetail.unit))])])])])]),t._v(" "),n("div",{staticClass:"main"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.selList,stripe:"",border:""}},[n("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"序号",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"batchCode",label:"批次编号"}}),t._v(" "),n("el-table-column",{attrs:{label:"生产日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t        \t"+t._s(t.getTime(e.row.productionTime))+"\n\t\t      \t")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"supplier",label:"供应商"}}),t._v(" "),n("el-table-column",{attrs:{label:"数量/重量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t        \t"+t._s(e.row.surplus)+t._s(t.goodsDetail.unit)+"\n\t\t      \t")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"进价"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t    \t\t"+t._s(e.row.purchasePrice)+"元/"+t._s(t.goodsDetail.unit)+"\n\t\t    \t")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"所属仓库"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t    \t\t"+t._s(e.row.wName)+"\n\t\t    \t\t"),e.row.wName&&e.row.aName?[t._v("-")]:t._e(),t._v("\n\t\t    \t\t"+t._s(e.row.aName)+"\n\t\t    \t")]}}])})],1),t._v(" "),n("div",{staticClass:"page-box"},[n("el-pagination",{attrs:{"current-page":t.page,background:"",layout:"total,prev, pager, next",total:t.count},on:{"current-change":t.pageChange}})],1)],1)])},[],!1,null,"11414b24",null);e.default=u.exports}}]);