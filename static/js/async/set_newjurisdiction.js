(window.webpackJsonp=window.webpackJsonp||[]).push([["set_newjurisdiction"],{1998:function(e,t,n){"use strict";var r=n("f203");n.n(r).a},bf31:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"jurisdiction"}},[n("div",{staticClass:"topbox"},[n("i"),e._v(" "),n("h3",[e._v("新建权限指派")]),e._v(" "),e._l(72,function(e){return n("div",{key:e,staticClass:"dian"})})],2),e._v(" "),n("div",{staticClass:"inputBox",staticStyle:{"line-height":"40px"}},[n("h1",{staticClass:"base required"},[e._v("方案名称")]),e._v(" "),n("div",{staticClass:"base right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.projectName,expression:"projectName"}],attrs:{type:"text",placeholder:"请输入方案名称",maxlength:"20"},domProps:{value:e.projectName},on:{input:function(t){t.target.composing||(e.projectName=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),n("div",{staticClass:"butten"},e._l(e.childBox,function(t,r){return n("div",{key:r,staticClass:"childBox"},e._l(t,function(t,r){return n("div",{key:r,staticClass:"inputBox"},[n("h1",[e._v(e._s(t.name))]),e._v(" "),n("div",{staticClass:"right middle"},[n("on-off",{attrs:{status:t.selter},on:{statusChange:function(n){e.getSwitch(t)}}})],1)])}))})),e._v(" "),n("div",{staticClass:"topbox"},[n("i"),e._v(" "),n("h3",[e._v("适用店铺")]),e._v(" "),e._l(72,function(e){return n("div",{key:e,staticClass:"dian"})})],2),e._v(" "),n("div",{staticClass:"inputBox",staticStyle:{"line-height":"40px"}},[n("h1",{staticClass:"required",staticStyle:{"vertical-align":"top"}},[e._v("适用店铺")]),e._v(" "),n("div",{staticClass:"right base",staticStyle:{width:"240px"}},[n("div",{staticClass:"add",on:{click:e.selShop}},[e._v("选择店铺")]),e._v(" "),n("div",{staticClass:"shoplist"},[n("div",{staticClass:"details"},[n("h2",[e._v("直营店:")]),e._v(" "),n("div",{staticClass:"list"},[e._v(e._s(e.shopNames1))])]),e._v(" "),n("div",{staticClass:"details"},[n("h2",[e._v("加盟店:")]),e._v(" "),n("div",{staticClass:"list"},[e._v(e._s(e.shopNames2))])])])])]),e._v(" "),e.win.show?n("paging-list",{attrs:{winDesc:e.win.style,title:"选择店铺",relAttr:"ischain",selectList:e.win.selectlist,list:e.win.list,fieldName:"shopName"},on:{throwCommonWin:e.winEvent}}):e._e()],1)},i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"clearfix"},[t("span",[t("img",{attrs:{src:n("fdd3")}})]),this._v(" "),t("p",[this._v("限20字以内")])])}];r._withStripped=!0;var s=n("81a2"),a=n("f6ce");function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,s){try{var a=t[i](s),c=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}var o={data:function(){return{childBox:[[{name:"物料单位修改",bind:"updateUnit",selter:!1},{name:"物料分类修改",bind:"updateCategory",selter:!1},{name:"商品品牌修改",bind:"updateBrand",selter:!1},{name:"物料修改",bind:"updateMaterial",selter:!1},{name:"供应商修改",bind:"updateSupplier",selter:!1},{name:"BOM单修改",bind:"updateBom",selter:!1}],[{name:"物料单位新建",bind:"createUnit",selter:!1},{name:"物料分类新建",bind:"createCategory",selter:!1},{name:"商品品牌新建",bind:"createBrand",selter:!1},{name:"物料新建",bind:"createMaterial",selter:!1},{name:"供应商新建",bind:"createSupplier",selter:!1},{name:"BOM单新建",bind:"createBom",selter:!1}]],projectName:"",win:{style:{width:900,height:500},list:"",show:!1,selectlist:[]},shopNames1:"--",shopNames2:"--",shopIds:[],userName:"",sellist:""}},methods:{init:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,r,i,a,c,o,u,l,v,d,p,h,m,f,b,w,x,g,k,N,A,y,I,C;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.InvoicingetPowerConfig();case 2:n=t.sent,r=!0,i=!1,a=void 0,t.prev=6,c=e.childBox[Symbol.iterator]();case 8:if(r=(o=c.next()).done){t.next=92;break}u=o.value,l=!0,v=!1,d=void 0,t.prev=13,p=u[Symbol.iterator]();case 15:if(l=(h=p.next()).done){t.next=75;break}m=h.value,f=!0,b=!1,w=void 0,t.prev=20,x=n[Symbol.iterator]();case 22:if(f=(g=x.next()).done){t.next=58;break}k=g.value,N=!0,A=!1,y=void 0,t.prev=27,I=e.sellist[Symbol.iterator]();case 29:if(N=(C=I.next()).done){t.next=37;break}if(C.value!=k.id){t.next=34;break}return k.isOpen=1,t.abrupt("break",37);case 34:N=!0,t.next=29;break;case 37:t.next=43;break;case 39:t.prev=39,t.t0=t.catch(27),A=!0,y=t.t0;case 43:t.prev=43,t.prev=44,!N&&I.return&&I.return();case 46:if(t.prev=46,!A){t.next=49;break}throw y;case 49:return t.finish(46);case 50:return t.finish(43);case 51:if(m.name!=k.name){t.next=55;break}return m.id=k.id,m.selter=0!=k.isOpen,t.abrupt("break",58);case 55:f=!0,t.next=22;break;case 58:t.next=64;break;case 60:t.prev=60,t.t1=t.catch(20),b=!0,w=t.t1;case 64:t.prev=64,t.prev=65,!f&&x.return&&x.return();case 67:if(t.prev=67,!b){t.next=70;break}throw w;case 70:return t.finish(67);case 71:return t.finish(64);case 72:l=!0,t.next=15;break;case 75:t.next=81;break;case 77:t.prev=77,t.t2=t.catch(13),v=!0,d=t.t2;case 81:t.prev=81,t.prev=82,!l&&p.return&&p.return();case 84:if(t.prev=84,!v){t.next=87;break}throw d;case 87:return t.finish(84);case 88:return t.finish(81);case 89:r=!0,t.next=8;break;case 92:t.next=98;break;case 94:t.prev=94,t.t3=t.catch(6),i=!0,a=t.t3;case 98:t.prev=98,t.prev=99,!r&&c.return&&c.return();case 101:if(t.prev=101,!i){t.next=104;break}throw a;case 104:return t.finish(101);case 105:return t.finish(98);case 106:case"end":return t.stop()}},t,e,[[6,94,98,106],[13,77,81,89],[20,60,64,72],[27,39,43,51],[44,,46,50],[65,,67,71],[82,,84,88],[99,,101,105]])}))()},getDdetail:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.InventorgetPowerTemplate({data:{id:e.id}});case 2:n=t.sent,e.projectName=n.name,e.sellist=n.content.powerIds,n.content.shopIds&&(e.win.list.map(function(t){var r=!0,i=!1,s=void 0;try{for(var a,c=n.content.shopIds[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var o=a.value;if(t.id==o){e.win.selectlist.push(t);break}}}catch(e){i=!0,s=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw s}}}),e.winEvent(e.win.selectlist,"ok")),console.log(n);case 7:case"end":return t.stop()}},t,e)}))()},getSwitch:function(e){e.selter=!e.selter},selShop:function(){this.win.show=!0},winEvent:function(e,t){if(this.win.show=!1,"ok"==t){var n=[],r=[];this.shopIds=[];var i=!0,s=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(i=(c=o.next()).done);i=!0){var u=c.value;1==u.ischain?n.push(u.shopName):2==u.ischain&&r.push(u.shopName),this.shopIds.push(u.id)}}catch(e){s=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw a}}this.win.selectlist=e,this.shopNames1=n.join(","),this.shopNames2=r.join(",")}},setButton:function(){var e,t=this;this.$store.commit("setPageTools",[{name:"返回",className:["back"],fn:function(){window.history.go(-1),a.a.session("brandAssignId",null)}},{name:"指派",className:["printer-btn"],fn:(e=c(regeneratorRuntime.mark(function e(){var n,r,i,a,c,o,u,l,v,d,p,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.checkData()){e.next=2;break}return e.abrupt("return");case 2:t.conserve(),n={},r=!0,i=!1,a=void 0,e.prev=7,c=t.childBox[Symbol.iterator]();case 9:if(r=(o=c.next()).done){e.next=33;break}for(u=o.value,l=!0,v=!1,d=void 0,e.prev=14,p=u[Symbol.iterator]();!(l=(h=p.next()).done);l=!0)m=h.value,n[m.bind]=m.selter?1:0;e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),v=!0,d=e.t0;case 22:e.prev=22,e.prev=23,!l&&p.return&&p.return();case 25:if(e.prev=25,!v){e.next=28;break}throw d;case 28:return e.finish(25);case 29:return e.finish(22);case 30:r=!0,e.next=9;break;case 33:e.next=39;break;case 35:e.prev=35,e.t1=e.catch(7),i=!0,a=e.t1;case 39:e.prev=39,e.prev=40,!r&&c.return&&c.return();case 42:if(e.prev=42,!i){e.next=45;break}throw a;case 45:return e.finish(42);case 46:return e.finish(39);case 47:return Object.assign(n,{shopIds:t.shopIds.join(","),planName:t.projectName}),e.next=50,s.a.InventorassignInventoryConfig({data:n});case 50:e.sent&&t.alert("指派成功"),t.$router.push({path:"/admin/brandAssign/jurisdictionRecord"});case 53:case"end":return e.stop()}},e,t,[[7,35,39,47],[14,18,22,30],[23,,25,29],[40,,42,46]])})),function(){return e.apply(this,arguments)})}])},conserve:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,r,i,a,c,o,u,l,v,d,p,h,m,f,b;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=!0,i=!1,a=void 0,t.prev=4,c=e.childBox[Symbol.iterator]();case 6:if(r=(o=c.next()).done){t.next=30;break}for(u=o.value,l=!0,v=!1,d=void 0,t.prev=11,p=u[Symbol.iterator]();!(l=(h=p.next()).done);l=!0)(m=h.value).selter&&n.push(m.id);t.next=19;break;case 15:t.prev=15,t.t0=t.catch(11),v=!0,d=t.t0;case 19:t.prev=19,t.prev=20,!l&&p.return&&p.return();case 22:if(t.prev=22,!v){t.next=25;break}throw d;case 25:return t.finish(22);case 26:return t.finish(19);case 27:r=!0,t.next=6;break;case 30:t.next=36;break;case 32:t.prev=32,t.t1=t.catch(4),i=!0,a=t.t1;case 36:t.prev=36,t.prev=37,!r&&c.return&&c.return();case 39:if(t.prev=39,!i){t.next=42;break}throw a;case 42:return t.finish(39);case 43:return t.finish(36);case 44:return f=e.id?"InvoicingeditPowerTemplate":"InvoicingaddPowerTemplate",b={name:e.projectName,powerIds:n,shopIds:e.shopIds,userName:e.userName},e.id&&(b.id=e.id),t.next=49,s.a[f]({data:b});case 49:case"end":return t.stop()}},t,e,[[4,32,36,44],[11,15,19,27],[20,,22,26],[37,,39,43]])}))()},checkData:function(){return""==this.projectName.trim()?(this.alert("请填写方案名称"),!1):0!=this.shopIds.length||(this.alert("请选择店铺"),!1)},alert:function(e,t){this.$store.commit("setWin",{title:t,winType:"alert",content:e})}},mounted:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.win.list=a.a.session("shopList"),e.userName=a.a.session("userShop").user.name,!a.a.session("brandAssignId")){t.next=6;break}return e.id=a.a.session("brandAssignId"),t.next=6,e.getDdetail();case 6:e.setButton(),e.init();case 8:case"end":return t.stop()}},t,e)}))()},components:{onOff:function(){return n.e("on_off").then(n.bind(null,"034b"))},pagingList:function(){return n.e("assign_list_win").then(n.bind(null,"38b2"))}},destroyed:function(){a.a.session("brandAssignId",null)}},u=(n("1998"),n("6ceb")),l=Object(u.a)(o,r,i,!1,null,"39957e9d",null);l.options.__file="src\\module\\invoicing_system\\brand_assign\\set_newjurisdiction.vue";t.default=l.exports},f203:function(e,t,n){},fdd3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAASCAYAAAC9+TVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTNEMTRBQjQ3QjFFMTFFNzhEOUY4ODQ1N0UwNTQwQUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTNEMTRBQjU3QjFFMTFFNzhEOUY4ODQ1N0UwNTQwQUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1M0QxNEFCMjdCMUUxMUU3OEQ5Rjg4NDU3RTA1NDBBQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1M0QxNEFCMzdCMUUxMUU3OEQ5Rjg4NDU3RTA1NDBBQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoJwRHcAAAF1SURBVHjapNRPKARRHMDx2bGsEiUXB5JEDubktiWlxHUl5eCmlJSDPyfkTykOJOWwxz1ISRxsCUURF21pDi5ulIQD7Zbb+L76jZ7Xm92DV5/27e+9+c37O7EgCJz/lrjv+/r/VsxjCAlL/xOs4TIMeJ7nuFqHETzIbyLipf24wLIeDJMMI4Myy4NqvosYQE5iarTrv9NBA3aLTPkaS1KvwJ7UZ3COUzWSzRLr1oVBtGPaaEuzprG4dLCVPI7xhgl0W/o0oTcekeBM5p/FlcTeUWfpm3QtwWfZgTHUS6wa5REvbLQlqcUqbrEvsQ3URCRxbUmqtHPjyGhGiyz8qxvRsIUPqW9r58VWcirJjRH8xoLUe2T3dvAZsYNZlWTSaDjAl9QLmNMW1yxT3J2CSnKHFa2hGS1oQ4eMZNxyJdQZSofH3pHhV8pRTuKxxCk+Qsq8gKrMyiW7L/Lwk0w/9ed7YnQ6FH3oVAdJpvECX74neTPzjwADADrTSFI39Bw5AAAAAElFTkSuQmCC"}}]);