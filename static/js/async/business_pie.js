(window.webpackJsonp=window.webpackJsonp||[]).push([["business_pie"],{"3b18":function(e,t,i){},a4ac:function(e,t,i){"use strict";var a=i("3b18");i.n(a).a},a792:function(e,t,i){"use strict";i.r(t);var a={props:["pie","cover","echarts"],data:function(){return{dataPie:{goods:[{value:0,name:"堂吃商品费"},{value:0,name:"服务费"},{value:0,name:"外卖商品费"},{value:0,name:"快捷支付",itemStyle:{normal:{color:"#a16bff"}}}],discount:[{value:0,name:"店内优惠"},{value:0,name:"活动优惠券"},{value:0,name:"外卖活动补贴"}],orderNumber:[{value:0,name:"堂吃"},{value:0,name:"外卖"},{value:0,name:"快捷支付",itemStyle:{normal:{color:"#a16bff"}}}]},pieCheckList:[{title:"营业金额占比",param:"goods",tipsParam:"pieGoods",name:"外卖商品费"},{title:"优惠金额占比",param:"discount",tipsParam:"pieDiscount",name:"外卖活动补贴"},{title:"订单占比"}],pieCheck:{goods:!0,discount:!0},pieSelect:[{"堂吃商品费":!0,"服务费":!0,"外卖商品费":!0,"快捷支付":!0},{"店内优惠":!0,"活动优惠券":!0,"外卖活动补贴":!0},{"堂吃":!0,"外卖":!0,"快捷支付":!0}],formatPie:["￥","￥"," "],pieDom:[null,null,null],pieType:["goods","discount","orderNumber"],coverShow:!1}},watch:{pie:"analytic",cover:"setCover",echarts:"initEchart"},components:{},mounted:function(){this.echarts&&this.initEchart()},methods:{initEchart:function(){for(var e=0;e<3;e++)this.pieDom[e]=this.echarts.init(document.getElementById("pie-"+(e+1))),this.pieDom[e].setOption(this.getPieDate(this.dataPie[this.pieType[e]],e))},setCover:function(){this.coverShow=this.cover},analytic:function(){var e=this.pie,t={goods:[],discount:[],orderNumber:[]};for(var i in t)for(var a in e[i])t[i].push(e[i][a]);for(var s in e)for(var n in this.dataPie[s])this.dataPie[s][n].value=t[s][n];if(this.echarts)for(var c=0;c<3;c++)this.pieDom[c].setOption(this.getPieDate(this.dataPie[this.pieType[c]],c))},checkBtn:function(e){var t=e.currentTarget,i=parseInt(t.getAttribute("data-index")),a=this.pieCheckList[i].name,s=this.pieCheckList[i].param;this.pieCheck[s]?(this.pieCheck[s]=!1,this.pieSelect[i][a]=!1):(this.pieCheck[s]=!0,this.pieSelect[i][a]=!0),this.pieDom[i].setOption(this.getPieDate(this.dataPie[s],i))},getPieDate:function(e,t){return{tooltip:{formatter:"{b}:"+this.formatPie[t]+"{c} ({d}%)"},legend:{selected:this.pieSelect[t]},series:[{type:"pie",animation:!1,data:e,hoverAnimation:!1,minAngle:1,stillShowZeroSum:!0,radius:[0,80],itemStyle:{},label:{normal:{formatter:["{title| {b}} {rate|{d}%}","{hr|}"].join("\n"),rich:{title:{color:"#444",fontSize:14,height:20,align:"left"},rate:{color:"#ff3c04",fontSize:14,height:20,align:"right"},hr:{height:1}}}},labelLine:{normal:{lineStyle:{color:"#333"}}}}],color:["#fcd030","#459cee","#6fccc6","#a16bff"]}}}},s=(i("a4ac"),i("d801")),n=Object(s.a)(a,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pie"},[a("div",{staticClass:"pie-main"},[a("div",{staticClass:"head"},e._l(e.pieCheckList,function(t,i){return a("div",{key:i,staticClass:"item"},[a("span",[e._v(e._s(t.title)+" \n\t\t\t\t\t"),t.tipsParam?a("em",{staticClass:"help-icon",attrs:{"data-name":t.tipsParam}}):e._e(),e._v(" "),t.param?a("div",{staticClass:"check-div select-ban",class:{active:e.pieCheck[t.param]},attrs:{"data-index":i},on:{click:e.checkBtn}},[a("i"),e._v("含外卖")]):e._e()])])})),e._v(" "),a("div",{staticClass:"pie-block"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e.coverShow?a("div",{staticClass:"loding-cover pie-cover"},[a("img",{attrs:{src:i("b8bc")}})]):e._e()])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block"},[t("div",{attrs:{id:"pie-1"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block"},[t("div",{attrs:{id:"pie-2"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block"},[t("div",{attrs:{id:"pie-3"}})])}],!1,null,"bbce3e2c",null);t.default=n.exports},b8bc:function(e,t,i){e.exports=i.p+"images/preloader.3e54c692.gif"}}]);